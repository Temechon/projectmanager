(self.webpackChunkprojectmanager=self.webpackChunkprojectmanager||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},1811:(t,e,n)=>{t.exports=n(6439)},6086:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>o,mG:()=>i,Jh:()=>s,XA:()=>a,CR:()=>u,ev:()=>c,qq:()=>l,FC:()=>f,KL:()=>h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(e){i(e)}}function a(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function c(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t}function l(t){return this instanceof l?(this.v=t,this):new l(t)}function f(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=o[t](e)).value instanceof l?Promise.resolve(n.value.v).then(u,c):f(i[0][2],n)}catch(r){f(i[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function f(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}}function h(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=a(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,o,(e=t[n](e)).done,e.value)})}}}},2376:t=>{"use strict";t.exports=function(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}return t.call(this,[])}}},4400:t=>{"use strict";var e=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n="undefined"==typeof globalThis?global:globalThis;t.exports=function(){for(var t=[],r=0;r<e.length;r++)"function"==typeof n[e[r]]&&(t[t.length]=e[r]);return t}},8818:(t,e,n)=>{"use strict";var r=n(2261),o=n(1474),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},1474:(t,e,n)=>{"use strict";var r=n(7034),o=n(2261),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||r.call(s,i),u=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(h){c=null}t.exports=function(t){var e=a(r,s,arguments);if(u&&c){var n=u(e,"length");n.configurable&&c(e,"length",{value:1+l(0,t.length-(arguments.length-1))})}return e};var f=function(){return a(r,i,arguments)};c?c(t.exports,"apply",{value:f}):t.exports.apply=f},3976:function(t,e,n){var r;t.exports=(r=n(6310),n(990),n(4167),n(4965),n(7995),function(){var t=r,e=t.lib.BlockCipher,n=t.algo,o=[],i=[],s=[],a=[],u=[],c=[],l=[],f=[],h=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var p=r^r<<1^r<<2^r<<3^r<<4;o[n]=p=p>>>8^255&p^99,i[p]=n;var m,v=t[n],y=t[v],g=t[y];s[n]=(m=257*t[p]^16843008*p)<<24|m>>>8,a[n]=m<<16|m>>>16,u[n]=m<<8|m>>>24,c[n]=m,l[p]=(m=16843009*g^65537*y^257*v^16843008*n)<<24|m>>>8,f[p]=m<<16|m>>>16,h[p]=m<<8|m>>>24,d[p]=m,n?(n=v^t[t[t[g^v]]],r^=t[t[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],s=0;s<r;s++)s<n?i[s]=e[s]:(c=i[s-1],s%n?n>6&&s%n==4&&(c=o[c>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[255&c]):(c=o[(c=c<<8|c>>>24)>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[255&c],c^=p[s/n|0]<<24),i[s]=i[s-n]^c);for(var a=this._invKeySchedule=[],u=0;u<r;u++){if(s=r-u,u%4)var c=i[s];else c=i[s-4];a[u]=u<4||s<=4?c:l[o[c>>>24]]^f[o[c>>>16&255]]^h[o[c>>>8&255]]^d[o[255&c]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,u,c,o)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,f,h,d,i),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,o,i,s,a){for(var u=this._nRounds,c=t[e]^n[0],l=t[e+1]^n[1],f=t[e+2]^n[2],h=t[e+3]^n[3],d=4,p=1;p<u;p++){var m=r[c>>>24]^o[l>>>16&255]^i[f>>>8&255]^s[255&h]^n[d++],v=r[l>>>24]^o[f>>>16&255]^i[h>>>8&255]^s[255&c]^n[d++],y=r[f>>>24]^o[h>>>16&255]^i[c>>>8&255]^s[255&l]^n[d++],g=r[h>>>24]^o[c>>>16&255]^i[l>>>8&255]^s[255&f]^n[d++];c=m,l=v,f=y,h=g}m=(a[c>>>24]<<24|a[l>>>16&255]<<16|a[f>>>8&255]<<8|a[255&h])^n[d++],v=(a[l>>>24]<<24|a[f>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^n[d++],y=(a[f>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&l])^n[d++],g=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[l>>>8&255]<<8|a[255&f])^n[d++],t[e]=m,t[e+1]=v,t[e+2]=y,t[e+3]=g},keySize:8});t.AES=e._createHelper(m)}(),r.AES)},7995:function(t,e,n){var r,o,i,s,a,u,c,l,f,h,d,p,m,v,y,g,b,w;t.exports=(r=n(6310),n(4965),void(r.lib.Cipher||(o=r,i=o.lib,s=i.Base,a=i.WordArray,u=i.BufferedBlockAlgorithm,c=o.enc.Base64,l=o.algo.EvpKDF,f=i.Cipher=u.extend({cfg:s.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?w:g}return function(e){return{encrypt:function(n,r,o){return t(r).encrypt(e,n,r,o)},decrypt:function(n,r,o){return t(r).decrypt(e,n,r,o)}}}}()}),i.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),h=o.mode={},d=i.BlockCipherMode=s.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=h.CBC=function(){var t=d.extend();function e(t,e,n){var r,o=this._iv;o?(r=o,this._iv=void 0):r=this._prevBlock;for(var i=0;i<n;i++)t[e+i]^=r[i]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,o=r.blockSize;e.call(this,t,n,o),r.encryptBlock(t,n),this._prevBlock=t.slice(n,n+o)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,o=r.blockSize,i=t.slice(n,n+o);r.decryptBlock(t,n),e.call(this,t,n,o),this._prevBlock=i}}),t}(),m=(o.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,o=r<<24|r<<16|r<<8|r,i=[],s=0;s<r;s+=4)i.push(o);var u=a.create(i,r);t.concat(u)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},i.BlockCipher=f.extend({cfg:f.cfg.extend({mode:p,padding:m}),reset:function(){var t;f.reset.call(this);var e=this.cfg,n=e.iv,r=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=r.createEncryptor:(t=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,n&&n.words):(this._mode=t.call(r,this,n&&n.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),v=i.CipherParams=s.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),y=(o.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;return(n?a.create([1398893684,1701076831]).concat(n).concat(e):e).toString(c)},parse:function(t){var e,n=c.parse(t),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(e=a.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),v.create({ciphertext:n,salt:e})}},g=i.SerializableCipher=s.extend({cfg:s.extend({format:y}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var o=t.createEncryptor(n,r),i=o.finalize(e),s=o.cfg;return v.create({ciphertext:i,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),b=(o.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=a.random(8));var o=l.create({keySize:e+n}).compute(t,r),i=a.create(o.words.slice(e),4*n);return o.sigBytes=4*e,v.create({key:o,iv:i,salt:r})}},w=i.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:b}),encrypt:function(t,e,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=o.iv;var i=g.encrypt.call(this,t,e,o.key,r);return i.mixIn(o),i},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var o=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=o.iv,g.decrypt.call(this,t,e,o.key,r)}}))))},6310:function(t,e,n){var r;t.exports=r=r||function(t,e){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!=typeof global&&global.crypto&&(r=global.crypto),!r)try{r=n(2480)}catch(v){}var o=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(v){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(v){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),s={},a=s.lib={},u=a.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=u.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,o=t.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++)e[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else for(var s=0;s<o;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(o());return new c.init(e,t)}}),l=s.enc={},f=l.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new c.init(n,e/2)}},h=l.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++)r.push(String.fromCharCode(e[o>>>2]>>>24-o%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new c.init(n,e)}},d=l.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},p=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,o=r.words,i=r.sigBytes,s=this.blockSize,a=i/(4*s),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,l=t.min(4*u,i);if(u){for(var f=0;f<u;f+=s)this._doProcessBlock(o,f);n=o.splice(0,u),r.sigBytes-=l}return new c.init(n,l)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),m=(a.Hasher=p.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new m.HMAC.init(t,n).finalize(e)}}}),s.algo={});return s}(Math)},990:function(t,e,n){var r,o;t.exports=(r=n(6310),o=r.lib.WordArray,r.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var o=[],i=0;i<n;i+=3)for(var s=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return function(t,e,n){for(var r=[],i=0,s=0;s<e;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2,u=n[t.charCodeAt(s)]>>>6-s%4*2;r[i>>>2]|=(a|u)<<24-i%4*8,i++}return o.create(r,i)}(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},4981:function(t,e,n){t.exports=n(6310).enc.Utf8},4965:function(t,e,n){var r,o,i,s,a,u,c;t.exports=(c=n(6310),n(4241),n(8161),s=(o=(r=c).lib).WordArray,u=(a=r.algo).EvpKDF=(i=o.Base).extend({cfg:i.extend({keySize:4,hasher:a.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n,r=this.cfg,o=r.hasher.create(),i=s.create(),a=i.words,u=r.keySize,c=r.iterations;a.length<u;){n&&o.update(n),n=o.update(t).finalize(e),o.reset();for(var l=1;l<c;l++)n=o.finalize(n),o.reset();i.concat(n)}return i.sigBytes=4*u,i}}),r.EvpKDF=function(t,e,n){return u.create(n).compute(t,e)},c.EvpKDF)},8161:function(t,e,n){var r,o;t.exports=(r=n(6310),o=r.enc.Utf8,void(r.algo.HMAC=r.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),s=this._iKey=e.clone(),a=i.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},4167:function(t,e,n){var r;t.exports=(r=n(6310),function(t){var e=r,n=e.lib,o=n.WordArray,i=n.Hasher,s=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=s.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,o=t[r];t[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,s=t[e+0],u=t[e+1],d=t[e+2],p=t[e+3],m=t[e+4],v=t[e+5],y=t[e+6],g=t[e+7],b=t[e+8],w=t[e+9],_=t[e+10],x=t[e+11],k=t[e+12],S=t[e+13],C=t[e+14],O=t[e+15],E=i[0],A=i[1],M=i[2],T=i[3];E=c(E,A,M,T,s,7,a[0]),T=c(T,E,A,M,u,12,a[1]),M=c(M,T,E,A,d,17,a[2]),A=c(A,M,T,E,p,22,a[3]),E=c(E,A,M,T,m,7,a[4]),T=c(T,E,A,M,v,12,a[5]),M=c(M,T,E,A,y,17,a[6]),A=c(A,M,T,E,g,22,a[7]),E=c(E,A,M,T,b,7,a[8]),T=c(T,E,A,M,w,12,a[9]),M=c(M,T,E,A,_,17,a[10]),A=c(A,M,T,E,x,22,a[11]),E=c(E,A,M,T,k,7,a[12]),T=c(T,E,A,M,S,12,a[13]),M=c(M,T,E,A,C,17,a[14]),E=l(E,A=c(A,M,T,E,O,22,a[15]),M,T,u,5,a[16]),T=l(T,E,A,M,y,9,a[17]),M=l(M,T,E,A,x,14,a[18]),A=l(A,M,T,E,s,20,a[19]),E=l(E,A,M,T,v,5,a[20]),T=l(T,E,A,M,_,9,a[21]),M=l(M,T,E,A,O,14,a[22]),A=l(A,M,T,E,m,20,a[23]),E=l(E,A,M,T,w,5,a[24]),T=l(T,E,A,M,C,9,a[25]),M=l(M,T,E,A,p,14,a[26]),A=l(A,M,T,E,b,20,a[27]),E=l(E,A,M,T,S,5,a[28]),T=l(T,E,A,M,d,9,a[29]),M=l(M,T,E,A,g,14,a[30]),E=f(E,A=l(A,M,T,E,k,20,a[31]),M,T,v,4,a[32]),T=f(T,E,A,M,b,11,a[33]),M=f(M,T,E,A,x,16,a[34]),A=f(A,M,T,E,C,23,a[35]),E=f(E,A,M,T,u,4,a[36]),T=f(T,E,A,M,m,11,a[37]),M=f(M,T,E,A,g,16,a[38]),A=f(A,M,T,E,_,23,a[39]),E=f(E,A,M,T,S,4,a[40]),T=f(T,E,A,M,s,11,a[41]),M=f(M,T,E,A,p,16,a[42]),A=f(A,M,T,E,y,23,a[43]),E=f(E,A,M,T,w,4,a[44]),T=f(T,E,A,M,k,11,a[45]),M=f(M,T,E,A,O,16,a[46]),E=h(E,A=f(A,M,T,E,d,23,a[47]),M,T,s,6,a[48]),T=h(T,E,A,M,g,10,a[49]),M=h(M,T,E,A,C,15,a[50]),A=h(A,M,T,E,v,21,a[51]),E=h(E,A,M,T,k,6,a[52]),T=h(T,E,A,M,p,10,a[53]),M=h(M,T,E,A,_,15,a[54]),A=h(A,M,T,E,u,21,a[55]),E=h(E,A,M,T,b,6,a[56]),T=h(T,E,A,M,O,10,a[57]),M=h(M,T,E,A,y,15,a[58]),A=h(A,M,T,E,S,21,a[59]),E=h(E,A,M,T,m,6,a[60]),T=h(T,E,A,M,x,10,a[61]),M=h(M,T,E,A,d,15,a[62]),A=h(A,M,T,E,w,21,a[63]),i[0]=i[0]+E|0,i[1]=i[1]+A|0,i[2]=i[2]+M|0,i[3]=i[3]+T|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;n[o>>>5]|=128<<24-o%32;var i=t.floor(r/4294967296),s=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,u=a.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,n,r,o,i,s){var a=t+(e&n|~e&r)+o+s;return(a<<i|a>>>32-i)+e}function l(t,e,n,r,o,i,s){var a=t+(e&r|n&~r)+o+s;return(a<<i|a>>>32-i)+e}function f(t,e,n,r,o,i,s){var a=t+(e^n^r)+o+s;return(a<<i|a>>>32-i)+e}function h(t,e,n,r,o,i,s){var a=t+(n^(e|~r))+o+s;return(a<<i|a>>>32-i)+e}e.MD5=i._createHelper(u),e.HmacMD5=i._createHmacHelper(u)}(Math),r.MD5)},4241:function(t,e,n){var r,o,i,s,a,u,c;t.exports=(c=n(6310),i=(o=(r=c).lib).WordArray,a=[],u=r.algo.SHA1=(s=o.Hasher).extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],u=n[4],c=0;c<80;c++){if(c<16)a[c]=0|t[e+c];else{var l=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=l<<1|l>>>31}var f=(r<<5|r>>>27)+u+a[c];f+=c<20?1518500249+(o&i|~o&s):c<40?1859775393+(o^i^s):c<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,u=s,s=i,i=o<<30|o>>>2,o=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}}),r.SHA1=s._createHelper(u),r.HmacSHA1=s._createHmacHelper(u),c.SHA1)},8763:(t,e,n)=>{var r=n(5453),o=n(7263),i=n(6825),s=n(7345),a=n(3993),u=n(7634),c=Date.prototype.getTime;function l(t){return null==t}function f(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}t.exports=function t(e,n,h){var d=h||{};return!!(d.strict?i(e,n):e===n)||(!e||!n||"object"!=typeof e&&"object"!=typeof n?d.strict?i(e,n):e==n:function(e,n,i){var h,d;if(typeof e!=typeof n)return!1;if(l(e)||l(n))return!1;if(e.prototype!==n.prototype)return!1;if(o(e)!==o(n))return!1;var p=s(e),m=s(n);if(p!==m)return!1;if(p||m)return e.source===n.source&&a(e)===a(n);if(u(e)&&u(n))return c.call(e)===c.call(n);var v=f(e),y=f(n);if(v!==y)return!1;if(v||y){if(e.length!==n.length)return!1;for(h=0;h<e.length;h++)if(e[h]!==n[h])return!1;return!0}if(typeof e!=typeof n)return!1;try{var g=r(e),b=r(n)}catch(w){return!1}if(g.length!==b.length)return!1;for(g.sort(),b.sort(),h=g.length-1;h>=0;h--)if(g[h]!=b[h])return!1;for(h=g.length-1;h>=0;h--)if(!t(e[d=g[h]],n[d],i))return!1;return!0}(e,n,d))}},1559:t=>{t.exports=function t(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(n){!e.hasOwnProperty(n)||null===e[n]||"object"!=typeof e[n]&&"function"!=typeof e[n]||Object.isFrozen(e[n])||t(e[n])}),e}},59:(t,e,n)=>{"use strict";var r=n(5453),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=a&&function(){var t={};try{for(var e in a(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(n){return!1}}(),c=function(t,e,n,r){var o;(!(e in t)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(u?a(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},l=function(t,e){var n=arguments.length>2?arguments[2]:{},i=r(e);o&&(i=s.call(i,Object.getOwnPropertySymbols(e)));for(var a=0;a<i.length;a+=1)c(t,i[a],e[i[a]],n[i[a]])};l.supportsDescriptors=!!u,t.exports=l},9932:t=>{t.exports=!1},7983:(t,e,n)=>{"use strict";var r=n(2261)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(o){r=null}t.exports=r},1280:(t,e,n)=>{"use strict";var r=n(7263);if(n(9363)()||n(944)()){var o=Symbol.iterator;t.exports=function(t){return null!=t&&void 0!==t[o]?t[o]():r(t)?Array.prototype[o].call(t):void 0}}else{var i=n(5300),s=n(7026),a=n(2261),u=a("%Map%",!0),c=a("%Set%",!0),l=n(8818),f=l("Array.prototype.push"),h=l("String.prototype.charCodeAt"),d=l("String.prototype.slice"),p=function(t){var e=0;return{next:function(){var n,r=e>=t.length;return r||(n=t[e],e+=1),{done:r,value:n}}}},m=function(t,e){if(i(t)||r(t))return p(t);if(s(t)){var n=0;return{next:function(){var e=function(t,e){if(e+1>=t.length)return e+1;var n=h(t,e);if(n<55296||n>56319)return e+1;var r=h(t,e+1);return r<56320||r>57343?e+1:e+2}(t,n),r=d(t,n,e);return n=e,{done:e>t.length,value:r}}}}return e&&void 0!==t["_es6-shim iterator_"]?t["_es6-shim iterator_"]():void 0};if(u||c){var v=n(3921),y=n(333),g=l("Map.prototype.forEach",!0),b=l("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var w=l("Map.prototype.iterator",!0),_=l("Set.prototype.iterator",!0),x=function(t){var e=!1;return{next:function(){try{return{done:e,value:e?void 0:t.next()}}catch(n){return e=!0,{done:!0,value:void 0}}}}};var k=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),S=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0);t.exports=function(t){return function(t){if(v(t)){if(w)return x(w(t));if(k)return k(t);if(g){var e=[];return g(t,function(t,n){f(e,[n,t])}),p(e)}}if(y(t)){if(_)return x(_(t));if(S)return S(t);if(b){var n=[];return b(t,function(t){f(n,t)}),p(n)}}}(t)||m(t)}}else t.exports=function(t){if(null!=t)return m(t,!0)}}},5300:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},7569:function(t,e){var n,r,o;!function(i,s){"use strict";"object"==typeof t.exports?t.exports=s():(r=[],void 0===(o="function"==typeof(n=s)?n.apply(e,r):n)||(t.exports=o))}(0,function(){"use strict";var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function n(t){if(!t)return!0;if(o(t)&&0===t.length)return!0;if("string"!=typeof t){for(var n in t)if(e(t,n))return!1;return!0}return!1}function r(e){return t.call(e)}var o=Array.isArray||function(e){return"[object Array]"===t.call(e)};function i(t){var e=parseInt(t);return e.toString()===t?e:t}function s(t){var s,a=function(t){return Object.keys(a).reduce(function(e,n){return"create"===n||"function"==typeof a[n]&&(e[n]=a[n].bind(a,t)),e},{})};function u(t,e){if(s(t,e))return t[e]}function c(e,n,r,o){if("number"==typeof n&&(n=[n]),!n||0===n.length)return e;if("string"==typeof n)return c(e,n.split(".").map(i),r,o);var s=n[0],a=u(e,s);if(t.includeInheritedProps&&("__proto__"===s||"constructor"===s&&"function"==typeof a))throw new Error("For security reasons, object's magic properties cannot be set");return 1===n.length?(void 0!==a&&o||(e[s]=r),a):(void 0===a&&(e[s]="number"==typeof n[1]?[]:{}),c(e[s],n.slice(1),r,o))}return s=(t=t||{}).includeInheritedProps?function(){return!0}:function(t,n){return"number"==typeof n&&Array.isArray(t)||e(t,n)},a.has=function(n,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!n;for(var s=0;s<r.length;s++){var a=i(r[s]);if(!("number"==typeof a&&o(n)&&a<n.length||(t.includeInheritedProps?a in Object(n):e(n,a))))return!1;n=n[a]}return!0},a.ensureExists=function(t,e,n){return c(t,e,n,!0)},a.set=function(t,e,n,r){return c(t,e,n,r)},a.insert=function(t,e,n,r){var i=a.get(t,e);r=~~r,o(i)||a.set(t,e,i=[]),i.splice(r,0,n)},a.empty=function(t,e){var i,u;if(!n(e)&&null!=t&&(i=a.get(t,e))){if("string"==typeof i)return a.set(t,e,"");if(function(t){return"boolean"==typeof t||"[object Boolean]"===r(t)}(i))return a.set(t,e,!1);if("number"==typeof i)return a.set(t,e,0);if(o(i))i.length=0;else{if(!function(t){return"object"==typeof t&&"[object Object]"===r(t)}(i))return a.set(t,e,null);for(u in i)s(i,u)&&delete i[u]}}},a.push=function(t,e){var n=a.get(t,e);o(n)||a.set(t,e,n=[]),n.push.apply(n,Array.prototype.slice.call(arguments,2))},a.coalesce=function(t,e,n){for(var r,o=0,i=e.length;o<i;o++)if(void 0!==(r=a.get(t,e[o])))return r;return n},a.get=function(t,e,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return n;if("string"==typeof e)return a.get(t,e.split("."),n);var r=i(e[0]),o=u(t,r);return void 0===o?n:1===e.length?o:a.get(t[r],e.slice(1),n)},a.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(n(e))return t;if("string"==typeof e)return a.del(t,e.split("."));var r=i(e[0]);return s(t,r)?1!==e.length?a.del(t[r],e.slice(1)):(o(t)?t.splice(r,1):delete t[r],t):t},a}var a=s();return a.create=s,a.withInheritedProps=s({includeInheritedProps:!0}),a})},5458:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise(function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}m(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&m(t,"error",e,{once:!0})}(t,o)})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var o,i,s;if(a(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),s=i[e]),void 0===s)s=i[e]=n,++t._eventsCount;else if("function"==typeof s?s=i[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=u(t))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,console&&console.warn&&console.warn(c)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):p(o,o.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function m(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function o(i){r.once&&t.removeEventListener(e,o),n(i)})}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)r(u,this,e);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,e)}return!0},i.prototype.on=i.prototype.addListener=function(t,e){return c(this,t,e,!1)},i.prototype.prependListener=function(t,e){return c(this,t,e,!0)},i.prototype.once=function(t,e){return a(e),this.on(t,f(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,f(this,t,e)),this},i.prototype.off=i.prototype.removeListener=function(t,e){var n,r,o,i,s;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},i.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return h(this,t,!0)},i.prototype.rawListeners=function(t){return h(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},6229:t=>{var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(t,r,o){if("[object Function]"!==n.call(r))throw new TypeError("iterator must be a function");var i=t.length;if(i===+i)for(var s=0;s<i;s++)r.call(o,t[s],s,t);else for(var a in t)e.call(t,a)&&r.call(o,t[a],a,t)}},2269:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";t.exports=function(t){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(e+i);for(var s,a=n.call(arguments,1),u=function(){if(this instanceof s){var e=i.apply(this,a.concat(n.call(arguments)));return Object(e)===e?e:this}return i.apply(t,a.concat(n.call(arguments)))},c=Math.max(0,i.length-a.length),l=[],f=0;f<c;f++)l.push("$"+f);if(s=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),i.prototype){var h=function(){};h.prototype=i.prototype,s.prototype=new h,h.prototype=null}return s}},7034:(t,e,n)=>{"use strict";var r=n(2269);t.exports=Function.prototype.bind||r},3420:(t,e,n)=>{for(var r=n(755),o=n(5257),i=/[\{\[]/,s=/[\}\]]/,a=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],u={},c=0;c<a.length;c++)u[a[c]]=!0;var l=function(t){return o(t)&&!u.hasOwnProperty(t)},f={s:function(t){return""+t},d:function(t){return""+Number(t)},o:function(t){return JSON.stringify(t)}},h=function(){var t=[],e=0,n={},a=function(n){for(var r="";r.length<2*e;)r+="  ";t.push(r+n)},u=function(t){return s.test(t.trim()[0])&&i.test(t[t.length-1])?(e--,a(t),void e++):i.test(t[t.length-1])?(a(t),void e++):s.test(t.trim()[0])?(e--,void a(t)):void a(t)},c=function(t){if(!t)return c;if(1===arguments.length&&t.indexOf("\n")>-1)for(var e=t.trim().split("\n"),n=0;n<e.length;n++)u(e[n].trim());else u(r.format.apply(r,arguments));return c};return c.scope={},c.formats=f,c.sym=function(t){return t&&l(t)||(t="tmp"),n[t]||(n[t]=0),t+(n[t]++||"")},c.property=function(t,e){return 1===arguments.length&&(e=t,t=""),o(e+="")?t?t+"."+e:e:t?t+"["+JSON.stringify(e)+"]":JSON.stringify(e)},c.toString=function(){return t.join("\n")},c.toFunction=function(t){t||(t={});var e="return ("+c.toString()+")";Object.keys(c.scope).forEach(function(e){t[e]||(t[e]=c.scope[e])});var n=Object.keys(t).map(function(t){return t}),r=n.map(function(e){return t[e]});return Function.apply(null,n.concat(e)).apply(null,r)},arguments.length&&c.apply(null,arguments),c};h.formats=f,t.exports=h},4039:(t,e,n)=>{var r=n(5257),o=function(t,e){return r(e)?t+"."+e:t+"["+JSON.stringify(e)+"]"};o.valid=r,o.property=function(t){return r(t)?t:JSON.stringify(t)},t.exports=o},2261:(t,e,n)=>{"use strict";var r,o=SyntaxError,i=Function,s=TypeError,a=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(A){u=null}var c=function(){throw new s},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=n(9363)(),h=Object.getPrototypeOf||function(t){return t.__proto__},d={},p="undefined"==typeof Uint8Array?r:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},v=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(n=h(o.prototype))}return m[e]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=n(7034),b=n(849),w=g.call(Function.call,Array.prototype.concat),_=g.call(Function.apply,Array.prototype.splice),x=g.call(Function.call,String.prototype.replace),k=g.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,O=function(t){var e=k(t,0,1),n=k(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return x(t,S,function(t,e,n,o){r[r.length]=n?x(o,C,"$1"):e||t}),r},E=function(t,e){var n,r=t;if(b(y,r)&&(r="%"+(n=y[r])[0]+"%"),b(m,r)){var i=m[r];if(i===d&&(i=v(r)),void 0===i&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');var n=O(t),r=n.length>0?n[0]:"",i=E("%"+r+"%",e),a=i.name,c=i.value,l=!1,f=i.alias;f&&(r=f[0],_(n,w([0,1],f)));for(var h=1,d=!0;h<n.length;h+=1){var p=n[h],v=k(p,0,1),y=k(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===y||"'"===y||"`"===y)&&v!==y)throw new o("property names with quotes must have matching quotes");if("constructor"!==p&&d||(l=!0),b(m,a="%"+(r+="."+p)+"%"))c=m[a];else if(null!=c){if(!(p in c)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&h+1>=n.length){var g=u(c,p);c=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[p]}else d=b(c,p),c=c[p];d&&!l&&(m[a]=c)}}return c}},9147:t=>{"use strict";var e=global.BigInt;t.exports=function(){return"function"==typeof e&&"function"==typeof BigInt&&"bigint"==typeof e(42)&&"bigint"==typeof BigInt(42)}},9363:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(944);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},944:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},3432:(t,e,n)=>{"use strict";var r=n(944);t.exports=function(){return r()&&!!Symbol.toStringTag}},849:(t,e,n)=>{"use strict";var r=n(7034);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},8485:t=>{t.exports="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},7263:(t,e,n)=>{"use strict";var r=n(3432)(),o=n(8818)("Object.prototype.toString"),i=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},s=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,t.exports=a?i:s},8496:(t,e,n)=>{"use strict";if(n(9147)()){var r=BigInt.prototype.valueOf;t.exports=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||function(t){try{return r.call(t),!0}catch(e){}return!1}(t))}}else t.exports=function(t){return!1}},3682:(t,e,n)=>{"use strict";var r=n(8818),o=r("Boolean.prototype.toString"),i=r("Object.prototype.toString"),s=n(3432)();t.exports=function(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(s&&Symbol.toStringTag in t?function(t){try{return o(t),!0}catch(e){return!1}}(t):"[object Boolean]"===i(t))}},7634:(t,e,n)=>{"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(3432)();t.exports=function(t){return"object"==typeof t&&null!==t&&(i?function(t){try{return r.call(t),!0}catch(e){return!1}}(t):"[object Date]"===o.call(t))}},7135:t=>{t.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},47:(t,e,n)=>{"use strict";var r,o=Object.prototype.toString,i=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=n(3432)(),u=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(s.test(i.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===o.call(t);if(!u)return!1;if(void 0===r){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();r=!!e&&u(e)}return u(t)===r}},3921:t=>{"use strict";var e,n="function"==typeof Map&&Map.prototype?Map:null,r="function"==typeof Set&&Set.prototype?Set:null;n||(e=function(t){return!1});var o=n?Map.prototype.has:null,i=r?Set.prototype.has:null;e||o||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(o.call(t),i)try{i.call(t)}catch(e){return!0}return t instanceof n}catch(e){}return!1}},9786:t=>{var e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n=/\/\d{1,3}(?=%|$)/,r=/\//,o=/%.*$/,i=/([^0-9a-f:/%])/i,s=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function a(t){if(!e.test(t))return!1;var n=t.split(".");if(4!==n.length)return!1;if("0"===n[0][0]&&n[0].length>1)return!1;if("0"===n[1][0]&&n[1].length>1)return!1;if("0"===n[2][0]&&n[2].length>1)return!1;if("0"===n[3][0]&&n[3].length>1)return!1;var r=Number(n[0]),o=Number(n[1]),i=Number(n[2]),s=Number(n[3]);return r>=0&&r<256&&o>=0&&o<256&&i>=0&&i<256&&s>=0&&s<256}function u(t){var e=t.replace(n,""),u=t.length!==e.length;if(u)return!1;if(!u&&r.test(t))return!1;var c=e.replace(o,""),l=c.lastIndexOf(":");if(-1===l)return!1;var f=a(c.substring(l+1))?c.substring(0,l+1)+"1234:5678":c;if(i.test(f))return!1;if(s.test(f))return!1;var h=f.split("::");if(h.length>2)return!1;if(2===h.length){var d=""===h[0]?[]:h[0].split(":"),p=""===h[1]?[]:h[1].split(":");if(8-(d.length+p.length)<=0)return!1}else if(8!==f.split(":").length)return!1;return!0}function c(t){return a(t)||u(t)}t.exports=function(t){if(t||(t={}),4===t.version)return a;if(6===t.version)return u;if(null==t.version)return c;throw new Error("Unknown version: "+t.version)},t.exports.__all_regexes__=[e,n,r,o,i,s]},6211:(t,e,n)=>{var r=n(9786),o=/\s/,i=/^[a-zA-Z0-9.-]+$/,s=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,a=/^\+[0-9][0-9 ]{5,27}[0-9]$/,u=/ {2}/,c=/ /g;e["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,e.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,e.time=/^\d{2}:\d{2}:\d{2}$/,e.email=function(t){return-1!==t.indexOf("@")&&!o.test(t)},e["ip-address"]=e.ipv4=r({version:4}),e.ipv6=r({version:6}),e.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,e.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,e.hostname=function(t){if(!i.test(t))return!1;for(var e=t.split("."),n=0;n<e.length;n++)if(!s.test(e[n]))return!1;return!0},e.alpha=/^[a-zA-Z]+$/,e.alphanumeric=/^[a-zA-Z0-9]+$/,e.style=/.:\s*[^;]/g,e.phone=function(t){if(!a.test(t))return!1;if(u.test(t))return!1;var e=t.substring(1).replace(c,"").length;return e>=7&&e<=15},e["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},6091:(t,e,n)=>{var r=n(4039),o=n(3420),i=n(1851),s=n(9928),a=n(6211),u={any:function(){return"true"},null:function(t){return t+" === null"},boolean:function(t){return"typeof "+t+' === "boolean"'},array:function(t){return"Array.isArray("+t+")"},object:function(t){return"typeof "+t+' === "object" && '+t+" && !Array.isArray("+t+")"},number:function(t){return"typeof "+t+' === "number" && isFinite('+t+")"},integer:function(t){return"typeof "+t+' === "number" && (Math.floor('+t+") === "+t+" || "+t+" > 9007199254740992 || "+t+" < -9007199254740992)"},string:function(t){return"typeof "+t+' === "string"'}},c=function(t,e){e=Math.min(-1===e?t.length:e,t.length);for(var n=[],r=0;r<e;r++)n.push("object"==typeof t[r]?JSON.stringify(t[r]):t[r]);for(r=1;r<n.length;r++)if(n.indexOf(n[r])!==r)return!1;return!0},l=function(t,e){var n=(0|e)!==e?Math.pow(10,e.toString().split(".").pop().length):1;return!(n>1?((0|t)!==t?Math.pow(10,t.toString().split(".").pop().length):1)>n||Math.round(n*t)%(n*e):t%e)},f=function(t,e,n){return n>-1&&e.length>n||t.test(e)},h=function(t,e,n,d,p){var m=p?s(a,p.formats):a,v={unique:c,formats:m,isMultipleOf:l,testLimitedRegex:f},y=!!p&&!!p.verbose,g=!(!p||void 0===p.greedy)&&p.greedy,b={},w=[],_=function(t){var e=t+(b[t]=(b[t]||0)+1);return w.push(e),e},x=function(t){var e=JSON.stringify(t);try{for(var n=/\[([^\[\]"]+)\]/;n.test(e);)e=e.replace(n,r);return e}catch(o){return JSON.stringify(t)}function r(t,e){if(-1===w.indexOf(e))throw new Error("Unreplaceable");return'." + '+e+' + "'}},k={},S=function(t){if(k[t])return k[t];var e=_("pattern");return v[e]=new RegExp(t),k[t]=e,e},C=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],O=function(){var t=C.shift();return C.push(t+t[0]),w.push(t),t},E=function(t,o,s,c,l){var f=o.properties,d=o.type,b=!1;Array.isArray(o.items)&&(f={},o.items.forEach(function(t,e){f[e]=t}),d="array",b=!0);var w=0,k=function(e,n,r){A("errors++"),!0===s&&(A("if (validate.errors === null) validate.errors = []"),y?A("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",x(n||t),JSON.stringify(e),r||t,JSON.stringify(d),JSON.stringify(l)):A("validate.errors.push({field:%s,message:%s})",x(n||t),JSON.stringify(e)))};!0===o.required?(w++,A("if (%s === undefined) {",t),k("is required"),A("} else {")):(w++,A("if (%s !== undefined) {",t));var C=[].concat(d).map(function(e){if(e&&!u.hasOwnProperty(e))throw new Error("Unknown type: "+e);return u[e||"any"](t)}).join(" || ")||"true";if("true"!==C&&(w++,A("if (!(%s)) {",C),k("is the wrong type"),A("} else {")),b)if(!1===o.additionalItems)A("if (%s.length > %d) {",t,o.items.length),k("has additional items"),A("}");else if(o.additionalItems){var M=O();A("for (var %s = %d; %s < %s.length; %s++) {",M,o.items.length,M,t,M),E(t+"["+M+"]",o.additionalItems,s,c,l.concat("additionalItems")),A("}")}if(o.format&&m[o.format]){"string"!==d&&a[o.format]&&A("if (%s) {",u.string(t));var T=_("format");v[T]=m[o.format],"function"==typeof v[T]?A("if (!%s(%s)) {",T,t):A("if (!testLimitedRegex(%s, %s, %d)) {",T,t,void 0===o.maxLength?-1:o.maxLength),k("must be "+o.format+" format"),A("}"),"string"!==d&&a[o.format]&&A("}")}if(Array.isArray(o.required)&&(T=_("missing"),A("var %s = 0",T),A("if ((%s)) {","object"!==d?u.object(t):"true"),o.required.map(function(e){var n=r(t,e);A("if (%s === undefined) {",n),k("is required",n),A("%s++",T),A("}")}),A("}"),g||(A("if (%s === 0) {",T),w++)),o.uniqueItems&&("array"!==d&&A("if (%s) {",u.array(t)),A("if (!(unique(%s, %d))) {",t,o.maxItems||-1),k("must be unique"),A("}"),"array"!==d&&A("}")),o.enum){var j=o.enum.some(function(t){return"object"==typeof t});A("if (%s) {",o.enum.map(j?function(e){return"JSON.stringify("+t+") !== JSON.stringify("+JSON.stringify(e)+")"}:function(e){return t+" !== "+JSON.stringify(e)}).join(" && ")||"false"),k("must be an enum value"),A("}")}if(o.dependencies&&("object"!==d&&A("if (%s) {",u.object(t)),Object.keys(o.dependencies).forEach(function(e){var n=o.dependencies[e];"string"==typeof n&&(n=[n]),Array.isArray(n)&&(A("if (%s !== undefined && !(%s)) {",r(t,e),n.map(function(e){return r(t,e)+" !== undefined"}).join(" && ")||"true"),k("dependencies not set"),A("}")),"object"==typeof n&&(A("if (%s !== undefined) {",r(t,e)),E(t,n,s,c,l.concat(["dependencies",e])),A("}"))}),"object"!==d&&A("}")),o.additionalProperties||!1===o.additionalProperties){"object"!==d&&A("if (%s) {",u.object(t)),M=O();var D=_("keys"),P=Object.keys(f||{}).map(function(t){return D+"["+M+"] !== "+JSON.stringify(t)}).concat(Object.keys(o.patternProperties||{}).map(function(t){return"!"+S(t)+".test("+D+"["+M+"])"})).join(" && ")||"true";A("var %s = Object.keys(%s)",D,t)("for (var %s = 0; %s < %s.length; %s++) {",M,M,D,M)("if (%s) {",P),!1===o.additionalProperties?(c&&A("delete %s",t+"["+D+"["+M+"]]"),k("has additional properties",null,JSON.stringify(t+".")+" + "+D+"["+M+"]")):E(t+"["+D+"["+M+"]]",o.additionalProperties,s,c,l.concat(["additionalProperties"])),A("}")("}"),"object"!==d&&A("}")}if(o.$ref){var I=function(t,e,n){var r=function(t){return t&&t.id===n?t:"object"==typeof t&&t?Object.keys(t).reduce(function(e,n){return e||r(t[n])},null):null},o=r(t);if(o)return o;n=(n=n.replace(/^#/,"")).replace(/\/$/,"");try{return i.get(t,decodeURI(n))}catch(c){var s,a=n.indexOf("#");if(0!==a)if(-1===a)s=e[n];else{s=e[n.slice(0,a)];var u=n.slice(a).replace(/^#/,"");try{return i.get(s,u)}catch(c){}}else s=e[n];return s||null}}(n,p&&p.schemas||{},o.$ref);if(I){var R=e[o.$ref];R||(e[o.$ref]=function(t){return R(t)},R=h(I,e,n,!1,p)),T=_("ref"),v[T]=R,A("if (!(%s(%s))) {",T,t),k("referenced schema does not match"),A("}")}}if(o.not){var N=_("prev");A("var %s = errors",N),E(t,o.not,!1,c,l.concat("not")),A("if (%s === errors) {",N),k("negative schema matches"),A("} else {")("errors = %s",N)("}")}if(o.items&&!b&&("array"!==d&&A("if (%s) {",u.array(t)),M=O(),A("for (var %s = 0; %s < %s.length; %s++) {",M,M,t,M),E(t+"["+M+"]",o.items,s,c,l.concat("items")),A("}"),"array"!==d&&A("}")),o.patternProperties&&("object"!==d&&A("if (%s) {",u.object(t)),D=_("keys"),M=O(),A("var %s = Object.keys(%s)",D,t)("for (var %s = 0; %s < %s.length; %s++) {",M,M,D,M),Object.keys(o.patternProperties).forEach(function(e){var n=S(e);A("if (%s.test(%s)) {",n,D+"["+M+"]"),E(t+"["+D+"["+M+"]]",o.patternProperties[e],s,c,l.concat(["patternProperties",e])),A("}")}),A("}"),"object"!==d&&A("}")),o.pattern){var L=S(o.pattern);"string"!==d&&A("if (%s) {",u.string(t)),A("if (!(testLimitedRegex(%s, %s, %d))) {",L,t,void 0===o.maxLength?-1:o.maxLength),k("pattern mismatch"),A("}"),"string"!==d&&A("}")}if(o.allOf&&o.allOf.forEach(function(e,n){E(t,e,s,c,l.concat(["allOf",n]))}),o.anyOf&&o.anyOf.length&&(N=_("prev"),o.anyOf.forEach(function(e,n){0===n?A("var %s = errors",N):A("if (errors !== %s) {",N)("errors = %s",N),E(t,e,!1,!1,l)}),o.anyOf.forEach(function(t,e){e&&A("}")}),A("if (%s !== errors) {",N),k("no schemas match"),A("}")),o.oneOf&&o.oneOf.length){N=_("prev");var $=_("passes");A("var %s = errors",N)("var %s = 0",$),o.oneOf.forEach(function(e,n){E(t,e,!1,!1,l),A("if (%s === errors) {",N)("%s++",$)("} else {")("errors = %s",N)("}")}),A("if (%s !== 1) {",$),k("no (or more than one) schemas match"),A("}")}for(void 0!==o.multipleOf&&("number"!==d&&"integer"!==d&&A("if (%s) {",u.number(t)),A("if (!isMultipleOf(%s, %d)) {",t,o.multipleOf),k("has a remainder"),A("}"),"number"!==d&&"integer"!==d&&A("}")),void 0!==o.maxProperties&&("object"!==d&&A("if (%s) {",u.object(t)),A("if (Object.keys(%s).length > %d) {",t,o.maxProperties),k("has more properties than allowed"),A("}"),"object"!==d&&A("}")),void 0!==o.minProperties&&("object"!==d&&A("if (%s) {",u.object(t)),A("if (Object.keys(%s).length < %d) {",t,o.minProperties),k("has less properties than allowed"),A("}"),"object"!==d&&A("}")),void 0!==o.maxItems&&("array"!==d&&A("if (%s) {",u.array(t)),A("if (%s.length > %d) {",t,o.maxItems),k("has more items than allowed"),A("}"),"array"!==d&&A("}")),void 0!==o.minItems&&("array"!==d&&A("if (%s) {",u.array(t)),A("if (%s.length < %d) {",t,o.minItems),k("has less items than allowed"),A("}"),"array"!==d&&A("}")),void 0!==o.maxLength&&("string"!==d&&A("if (%s) {",u.string(t)),A("if (%s.length > %d) {",t,o.maxLength),k("has longer length than allowed"),A("}"),"string"!==d&&A("}")),void 0!==o.minLength&&("string"!==d&&A("if (%s) {",u.string(t)),A("if (%s.length < %d) {",t,o.minLength),k("has less length than allowed"),A("}"),"string"!==d&&A("}")),void 0!==o.minimum&&("number"!==d&&"integer"!==d&&A("if (%s) {",u.number(t)),A("if (%s %s %d) {",t,o.exclusiveMinimum?"<=":"<",o.minimum),k("is less than minimum"),A("}"),"number"!==d&&"integer"!==d&&A("}")),void 0!==o.maximum&&("number"!==d&&"integer"!==d&&A("if (%s) {",u.number(t)),A("if (%s %s %d) {",t,o.exclusiveMaximum?">=":">",o.maximum),k("is more than maximum"),A("}"),"number"!==d&&"integer"!==d&&A("}")),f&&Object.keys(f).forEach(function(e){Array.isArray(d)&&-1!==d.indexOf("null")&&A("if (%s !== null) {",t),E(r(t,e),f[e],s,c,l.concat(b?e:["properties",e])),Array.isArray(d)&&-1!==d.indexOf("null")&&A("}")});w--;)A("}")},A=o("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return E("data",t,d,p&&p.filter,[]),A("return errors === 0")("}"),(A=A.toFunction(v)).errors=null,Object.defineProperty&&Object.defineProperty(A,"error",{get:function(){return A.errors?A.errors.map(function(t){return t.field+" "+t.message}).join("\n"):""}}),A.toJSON=function(){return t},A};t.exports=function(t,e){return"string"==typeof t&&(t=JSON.parse(t)),h(t,{},t,!0,e)},t.exports.filter=function(e,n){var r=t.exports(e,s(n,{filter:!0}));return function(t){return r(t),t}}},3210:(t,e,n)=>{"use strict";var r=Number.prototype.toString,o=Object.prototype.toString,i=n(3432)();t.exports=function(t){return"number"==typeof t||"object"==typeof t&&(i?function(t){try{return r.call(t),!0}catch(e){return!1}}(t):"[object Number]"===o.call(t))}},5257:t=>{"use strict";t.exports=function(t){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(t)}},7345:(t,e,n)=>{"use strict";var r,o,i,s,a=n(8818),u=n(3432)();if(u){r=a("Object.prototype.hasOwnProperty"),o=a("RegExp.prototype.exec"),i={};var c=function(){throw i};s={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=c)}var l=a("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;t.exports=u?function(t){if(!t||"object"!=typeof t)return!1;var e=f(t,"lastIndex");if(!e||!r(e,"value"))return!1;try{o(t,s)}catch(n){return n===i}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===l(t)}},333:t=>{"use strict";var e,n="function"==typeof Map&&Map.prototype?Map:null,r="function"==typeof Set&&Set.prototype?Set:null;r||(e=function(t){return!1});var o=n?Map.prototype.has:null,i=r?Set.prototype.has:null;e||i||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t),o)try{o.call(t)}catch(e){return!0}return t instanceof r}catch(e){}return!1}},7026:(t,e,n)=>{"use strict";var r=String.prototype.valueOf,o=Object.prototype.toString,i=n(3432)();t.exports=function(t){return"string"==typeof t||"object"==typeof t&&(i?function(t){try{return r.call(t),!0}catch(e){return!1}}(t):"[object String]"===o.call(t))}},9674:(t,e,n)=>{"use strict";var r=Object.prototype.toString;if(n(9363)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;t.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==r.call(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&i.test(o.call(t))}(t)}catch(e){return!1}}}else t.exports=function(t){return!1}},2472:(t,e,n)=>{"use strict";var r=n(6229),o=n(4400),i=n(8818),s=i("Object.prototype.toString"),a=n(3432)(),u="undefined"==typeof globalThis?global:globalThis,c=o(),l=i("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},f=i("String.prototype.slice"),h={},d=n(7983),p=Object.getPrototypeOf;a&&d&&p&&r(c,function(t){var e=new u[t];if(Symbol.toStringTag in e){var n=p(e),r=d(n,Symbol.toStringTag);if(!r){var o=p(n);r=d(o,Symbol.toStringTag)}h[t]=r.get}}),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!a||!(Symbol.toStringTag in t)){var e=f(s(t),8,-1);return l(c,e)>-1}return!!d&&function(t){var e=!1;return r(h,function(n,r){if(!e)try{e=n.call(t)===r}catch(o){}}),e}(t)}},3736:t=>{"use strict";var e,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,r="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(e=function(t){return!1});var o=n?n.prototype.has:null,i=r?r.prototype.has:null;e||o||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(o.call(t,o),i)try{i.call(t,i)}catch(e){return!0}return t instanceof n}catch(e){}return!1}},8247:t=>{"use strict";var e,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,r="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(e=function(t){return!1});var o=n?n.prototype.has:null,i=r?r.prototype.has:null;e||i||(t.exports=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t,i),o)try{o.call(t,o)}catch(e){return!0}return t instanceof r}catch(e){}return!1}},1851:(t,e)=>{var n=/~/,r=/~[01]/g;function o(t){switch(t){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+t)}function i(t){return n.test(t)?t.replace(r,o):t}function s(t){if("string"==typeof t){if(""===(t=t.split("/"))[0])return t;throw new Error("Invalid JSON pointer.")}if(Array.isArray(t))return t;throw new Error("Invalid JSON pointer.")}function a(t,e){if("object"!=typeof t)throw new Error("Invalid input object.");var n=(e=s(e)).length;if(1===n)return t;for(var r=1;r<n;){if(t=t[i(e[r++])],n===r)return t;if("object"!=typeof t)return}}function u(t,e,n){if("object"!=typeof t)throw new Error("Invalid input object.");if(0===(e=s(e)).length)throw new Error("Invalid JSON pointer for set.");return function(t,e,n){var r,o;if("constructor"===e[1]&&"prototype"===e[2])return t;if("__proto__"===e[1])return t;for(var s=1,a=e.length;s<a&&(r=i(e[s++]),o=a>s,void 0===t[r]&&(Array.isArray(t)&&"-"===r&&(r=t.length),o&&(t[r]=""!==e[s]&&e[s]<1/0||"-"===e[s]?[]:{})),o);)t=t[r];var u=t[r];return void 0===n?delete t[r]:t[r]=n,u}(t,e,n)}e.get=a,e.set=u,e.compile=function(t){var e=s(t);return{get:function(t){return a(t,e)},set:function(t,n){return u(t,e,n)}}}},1576:(t,e)=>{"use strict";function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function c(t,e,n){return(c=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&a(o,n.prototype),o}).apply(null,arguments)}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return c(t,arguments,s(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,t)})(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e}(l(Error)),p=function(t){function e(e){return t.call(this,"Invalid DateTime: "+e.toMessage())||this}return i(e,t),e}(d),m=function(t){function e(e){return t.call(this,"Invalid Interval: "+e.toMessage())||this}return i(e,t),e}(d),v=function(t){function e(e){return t.call(this,"Invalid Duration: "+e.toMessage())||this}return i(e,t),e}(d),y=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e}(d),g=function(t){function e(e){return t.call(this,"Invalid unit "+e)||this}return i(e,t),e}(d),b=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e}(d),w=function(t){function e(){return t.call(this,"Zone is an abstract class")||this}return i(e,t),e}(d),_="numeric",x="short",k="long",S={year:_,month:_,day:_},C={year:_,month:x,day:_},O={year:_,month:x,day:_,weekday:x},E={year:_,month:k,day:_},A={year:_,month:k,day:_,weekday:k},M={hour:_,minute:_},T={hour:_,minute:_,second:_},j={hour:_,minute:_,second:_,timeZoneName:x},D={hour:_,minute:_,second:_,timeZoneName:k},P={hour:_,minute:_,hourCycle:"h23"},I={hour:_,minute:_,second:_,hourCycle:"h23"},R={hour:_,minute:_,second:_,hourCycle:"h23",timeZoneName:x},N={hour:_,minute:_,second:_,hourCycle:"h23",timeZoneName:k},L={year:_,month:_,day:_,hour:_,minute:_},$={year:_,month:_,day:_,hour:_,minute:_,second:_},F={year:_,month:x,day:_,hour:_,minute:_},V={year:_,month:x,day:_,hour:_,minute:_,second:_},B={year:_,month:x,day:_,weekday:x,hour:_,minute:_},z={year:_,month:k,day:_,hour:_,minute:_,timeZoneName:x},q={year:_,month:k,day:_,hour:_,minute:_,second:_,timeZoneName:x},U={year:_,month:k,day:_,weekday:k,hour:_,minute:_,timeZoneName:k},H={year:_,month:k,day:_,weekday:k,hour:_,minute:_,second:_,timeZoneName:k};function W(t){return void 0===t}function J(t){return"number"==typeof t}function Q(t){return"number"==typeof t&&t%1==0}function K(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function G(t,e,n){if(0!==t.length)return t.reduce(function(t,r){var o=[e(r),r];return t&&n(t[0],o[0])===t[0]?t:o},null)[1]}function Z(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function X(t,e,n){return Q(t)&&t>=e&&t<=n}function Y(t,e){void 0===e&&(e=2);var n=t<0?"-":"",r=n?-1*t:t;return""+n+(r.toString().length<e?("0".repeat(e)+r).slice(-e):r.toString())}function tt(t){return W(t)||null===t||""===t?void 0:parseInt(t,10)}function et(t){if(!W(t)&&null!==t&&""!==t){var e=1e3*parseFloat("0."+t);return Math.floor(e)}}function nt(t,e,n){void 0===n&&(n=!1);var r=Math.pow(10,e);return(n?Math.trunc:Math.round)(t*r)/r}function rt(t){return t%4==0&&(t%100!=0||t%400==0)}function ot(t){return rt(t)?366:365}function it(t,e){var n,r=(n=e-1)-12*Math.floor(n/12)+1;return 2===r?rt(t+(e-r)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function st(t){var e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e)).setUTCFullYear(e.getUTCFullYear()-1900),+e}function at(t){var e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===e||3===r?53:52}function ut(t){return t>99?t:t>60?1900+t:2e3+t}function ct(t,e,n,r){void 0===r&&(r=null);var i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);var a=o({timeZoneName:e},s),u=new Intl.DateTimeFormat(n,a).formatToParts(i).find(function(t){return"timezonename"===t.type.toLowerCase()});return u?u.value:null}function lt(t,e){var n=parseInt(t,10);Number.isNaN(n)&&(n=0);var r=parseInt(e,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function ft(t){var e=Number(t);if("boolean"==typeof t||""===t||Number.isNaN(e))throw new b("Invalid unit value "+t);return e}function ht(t,e){var n={};for(var r in t)if(Z(t,r)){var o=t[r];if(null==o)continue;n[e(r)]=ft(o)}return n}function dt(t,e){var n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),o=t>=0?"+":"-";switch(e){case"short":return""+o+Y(n,2)+":"+Y(r,2);case"narrow":return""+o+n+(r>0?":"+r:"");case"techie":return""+o+Y(n,2)+Y(r,2);default:throw new RangeError("Value format "+e+" is out of range for property format")}}function pt(t){return function(t,e){return["hour","minute","second","millisecond"].reduce(function(e,n){return e[n]=t[n],e},{})}(t)}var mt=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/,vt=["January","February","March","April","May","June","July","August","September","October","November","December"],yt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],gt=["J","F","M","A","M","J","J","A","S","O","N","D"];function bt(t){switch(t){case"narrow":return[].concat(gt);case"short":return[].concat(yt);case"long":return[].concat(vt);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var wt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],_t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],xt=["M","T","W","T","F","S","S"];function kt(t){switch(t){case"narrow":return[].concat(xt);case"short":return[].concat(_t);case"long":return[].concat(wt);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var St=["AM","PM"],Ct=["Before Christ","Anno Domini"],Ot=["BC","AD"],Et=["B","A"];function At(t){switch(t){case"narrow":return[].concat(Et);case"short":return[].concat(Ot);case"long":return[].concat(Ct);default:return null}}function Mt(t,e){for(var n,r="",o=h(t);!(n=o()).done;){var i=n.value;r+=i.literal?i.val:e(i.val)}return r}var Tt={D:S,DD:C,DDD:E,DDDD:A,t:M,tt:T,ttt:j,tttt:D,T:P,TT:I,TTT:R,TTTT:N,f:L,ff:F,fff:z,ffff:U,F:$,FF:V,FFF:q,FFFF:H},jt=function(){function t(t,e){this.opts=e,this.loc=t,this.systemLoc=null}t.create=function(e,n){return void 0===n&&(n={}),new t(e,n)},t.parseFormat=function(t){for(var e=null,n="",r=!1,o=[],i=0;i<t.length;i++){var s=t.charAt(i);"'"===s?(n.length>0&&o.push({literal:r,val:n}),e=null,n="",r=!r):r||s===e?n+=s:(n.length>0&&o.push({literal:!1,val:n}),n=s,e=s)}return n.length>0&&o.push({literal:r,val:n}),o},t.macroTokenToFormatOpts=function(t){return Tt[t]};var e=t.prototype;return e.formatWithSystemDefault=function(t,e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,o({},this.opts,e)).format()},e.formatDateTime=function(t,e){return void 0===e&&(e={}),this.loc.dtFormatter(t,o({},this.opts,e)).format()},e.formatDateTimeParts=function(t,e){return void 0===e&&(e={}),this.loc.dtFormatter(t,o({},this.opts,e)).formatToParts()},e.resolvedOptions=function(t,e){return void 0===e&&(e={}),this.loc.dtFormatter(t,o({},this.opts,e)).resolvedOptions()},e.num=function(t,e){if(void 0===e&&(e=0),this.opts.forceSimple)return Y(t,e);var n=o({},this.opts);return e>0&&(n.padTo=e),this.loc.numberFormatter(n).format(t)},e.formatDateTimeFromString=function(e,n){var r=this,o="en"===this.loc.listingMode(),i=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,s=function(t,n){return r.loc.extract(e,t,n)},a=function(t){return e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):""},u=function(t,n){return o?function(t,e){return bt(e)[t.month-1]}(e,t):s(n?{month:t}:{month:t,day:"numeric"},"month")},c=function(t,n){return o?function(t,e){return kt(e)[t.weekday-1]}(e,t):s(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday")},l=function(t){return o?function(t,e){return At(e)[t.year<0?0:1]}(e,t):s({era:t},"era")};return Mt(t.parseFormat(n),function(n){switch(n){case"S":return r.num(e.millisecond);case"u":case"SSS":return r.num(e.millisecond,3);case"s":return r.num(e.second);case"ss":return r.num(e.second,2);case"m":return r.num(e.minute);case"mm":return r.num(e.minute,2);case"h":return r.num(e.hour%12==0?12:e.hour%12);case"hh":return r.num(e.hour%12==0?12:e.hour%12,2);case"H":return r.num(e.hour);case"HH":return r.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:r.opts.allowZ});case"ZZ":return a({format:"short",allowZ:r.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:r.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:r.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:r.loc.locale});case"z":return e.zoneName;case"a":return o?function(t){return St[t.hour<12?0:1]}(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return i?s({day:"numeric"},"day"):r.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):r.num(e.day,2);case"c":return r.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return r.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):r.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):r.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?s({month:"numeric"},"month"):r.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):r.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?s({year:"numeric"},"year"):r.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):r.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):r.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):r.num(e.year,6);case"G":return l("short");case"GG":return l("long");case"GGGGG":return l("narrow");case"kk":return r.num(e.weekYear.toString().slice(-2),2);case"kkkk":return r.num(e.weekYear,4);case"W":return r.num(e.weekNumber);case"WW":return r.num(e.weekNumber,2);case"o":return r.num(e.ordinal);case"ooo":return r.num(e.ordinal,3);case"q":return r.num(e.quarter);case"qq":return r.num(e.quarter,2);case"X":return r.num(Math.floor(e.ts/1e3));case"x":return r.num(e.ts);default:return function(n){var o=t.macroTokenToFormatOpts(n);return o?r.formatWithSystemDefault(e,o):n}(n)}})},e.formatDurationFromString=function(e,n){var r,o=this,i=function(t){switch(t[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},s=t.parseFormat(n),a=s.reduce(function(t,e){return e.literal?t:t.concat(e.val)},[]),u=e.shiftTo.apply(e,a.map(i).filter(function(t){return t}));return Mt(s,(r=u,function(t){var e=i(t);return e?o.num(r.get(e),t.length):t}))},t}(),Dt=function(){function t(t,e){this.reason=t,this.explanation=e}return t.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},t}(),Pt=function(){function t(){}var e=t.prototype;return e.offsetName=function(t,e){throw new w},e.formatOffset=function(t,e){throw new w},e.offset=function(t){throw new w},e.equals=function(t){throw new w},r(t,[{key:"type",get:function(){throw new w}},{key:"name",get:function(){throw new w}},{key:"isUniversal",get:function(){throw new w}},{key:"isValid",get:function(){throw new w}}]),t}(),It=null,Rt=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.offsetName=function(t,e){return ct(t,e.format,e.locale)},n.formatOffset=function(t,e){return dt(this.offset(t),e)},n.offset=function(t){return-new Date(t).getTimezoneOffset()},n.equals=function(t){return"system"===t.type},r(e,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===It&&(It=new e),It}}]),e}(Pt),Nt=RegExp("^"+mt.source+"$"),Lt={},$t={year:0,month:1,day:2,hour:3,minute:4,second:5},Ft={},Vt=function(t){function e(n){var r;return(r=t.call(this)||this).zoneName=n,r.valid=e.isValidZone(n),r}i(e,t),e.create=function(t){return Ft[t]||(Ft[t]=new e(t)),Ft[t]},e.resetCache=function(){Ft={},Lt={}},e.isValidSpecifier=function(t){return!(!t||!t.match(Nt))},e.isValidZone=function(t){try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch(e){return!1}},e.parseGMTOffset=function(t){if(t){var e=t.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(e)return-60*parseInt(e[1])}return null};var n=e.prototype;return n.offsetName=function(t,e){return ct(t,e.format,e.locale,this.name)},n.formatOffset=function(t,e){return dt(this.offset(t),e)},n.offset=function(t){var e=new Date(t);if(isNaN(e))return NaN;var n,r=(Lt[n=this.name]||(Lt[n]=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Lt[n]),o=r.formatToParts?function(t,e){for(var n=t.formatToParts(e),r=[],o=0;o<n.length;o++){var i=n[o],s=i.value,a=$t[i.type];W(a)||(r[a]=parseInt(s,10))}return r}(r,e):function(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}(r,e),i=+e,s=i%1e3;return(st({year:o[0],month:o[1],day:o[2],hour:o[3],minute:o[4],second:o[5],millisecond:0})-(i-=s>=0?s:1e3+s))/6e4},n.equals=function(t){return"iana"===t.type&&t.name===this.name},r(e,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),e}(Pt),Bt=null,zt=function(t){function e(e){var n;return(n=t.call(this)||this).fixed=e,n}i(e,t),e.instance=function(t){return 0===t?e.utcInstance:new e(t)},e.parseSpecifier=function(t){if(t){var n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new e(lt(n[1],n[2]))}return null};var n=e.prototype;return n.offsetName=function(){return this.name},n.formatOffset=function(t,e){return dt(this.fixed,e)},n.offset=function(){return this.fixed},n.equals=function(t){return"fixed"===t.type&&t.fixed===this.fixed},r(e,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+dt(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===Bt&&(Bt=new e(0)),Bt}}]),e}(Pt),qt=function(t){function e(e){var n;return(n=t.call(this)||this).zoneName=e,n}i(e,t);var n=e.prototype;return n.offsetName=function(){return null},n.formatOffset=function(){return""},n.offset=function(){return NaN},n.equals=function(){return!1},r(e,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),e}(Pt);function Ut(t,e){var n;if(W(t)||null===t)return e;if(t instanceof Pt)return t;if("string"==typeof t){var r=t.toLowerCase();return"local"===r||"system"===r?e:"utc"===r||"gmt"===r?zt.utcInstance:null!=(n=Vt.parseGMTOffset(t))?zt.instance(n):Vt.isValidSpecifier(r)?Vt.create(t):zt.parseSpecifier(r)||new qt(t)}return J(t)?zt.instance(t):"object"==typeof t&&t.offset&&"number"==typeof t.offset?t:new qt(t)}var Ht,Wt=function(){return Date.now()},Jt="system",Qt=null,Kt=null,Gt=null,Zt=function(){function t(){}return t.resetCaches=function(){ue.resetCache(),Vt.resetCache()},r(t,null,[{key:"now",get:function(){return Wt},set:function(t){Wt=t}},{key:"defaultZone",get:function(){return Ut(Jt,Rt.instance)},set:function(t){Jt=t}},{key:"defaultLocale",get:function(){return Qt},set:function(t){Qt=t}},{key:"defaultNumberingSystem",get:function(){return Kt},set:function(t){Kt=t}},{key:"defaultOutputCalendar",get:function(){return Gt},set:function(t){Gt=t}},{key:"throwOnInvalid",get:function(){return Ht},set:function(t){Ht=t}}]),t}(),Xt=["base"],Yt={};function te(t,e){void 0===e&&(e={});var n=JSON.stringify([t,e]),r=Yt[n];return r||(r=new Intl.DateTimeFormat(t,e),Yt[n]=r),r}var ee={},ne={},re=null;function oe(t,e,n,r,o){var i=t.listingMode(n);return"error"===i?null:"en"===i?r(e):o(e)}var ie=function(){function t(t,e,n){if(this.padTo=n.padTo||0,this.floor=n.floor||!1,!e){var r={useGrouping:!1};n.padTo>0&&(r.minimumIntegerDigits=n.padTo),this.inf=function(t,e){void 0===e&&(e={});var n=JSON.stringify([t,e]),r=ee[n];return r||(r=new Intl.NumberFormat(t,e),ee[n]=r),r}(t,r)}}return t.prototype.format=function(t){if(this.inf){var e=this.floor?Math.floor(t):t;return this.inf.format(e)}return Y(this.floor?Math.floor(t):nt(t,3),this.padTo)},t}(),se=function(){function t(t,e,n){var r;if(this.opts=n,t.zone.isUniversal){var i=t.offset/60*-1,s=i>=0?"Etc/GMT+"+i:"Etc/GMT"+i,a=Vt.isValidZone(s);0!==t.offset&&a?(r=s,this.dt=t):(r="UTC",this.dt=n.timeZoneName||0===t.offset?t:ar.fromMillis(t.ts+60*t.offset*1e3))}else"system"===t.zone.type?this.dt=t:(this.dt=t,r=t.zone.name);var u=o({},this.opts);r&&(u.timeZone=r),this.dtf=te(e,u)}var e=t.prototype;return e.format=function(){return this.dtf.format(this.dt.toJSDate())},e.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},e.resolvedOptions=function(){return this.dtf.resolvedOptions()},t}(),ae=function(){function t(t,e,n){this.opts=o({style:"long"},n),!e&&K()&&(this.rtf=function(t,e){void 0===e&&(e={});var n=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e.indexOf(n=i[r])>=0||(o[n]=t[n]);return o}(e,Xt),r=JSON.stringify([t,n]),o=ne[r];return o||(o=new Intl.RelativeTimeFormat(t,e),ne[r]=o),o}(t,n))}var e=t.prototype;return e.format=function(t,e){return this.rtf?this.rtf.format(t,e):function(t,e,n,r){void 0===n&&(n="always"),void 0===r&&(r=!1);var o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(t);if("auto"===n&&i){var s="days"===t;switch(e){case 1:return s?"tomorrow":"next "+o[t][0];case-1:return s?"yesterday":"last "+o[t][0];case 0:return s?"today":"this "+o[t][0]}}var a=Object.is(e,-0)||e<0,u=Math.abs(e),c=1===u,l=o[t],f=r?c?l[1]:l[2]||l[1]:c?o[t][0]:t;return a?u+" "+f+" ago":"in "+u+" "+f}(e,t,this.opts.numeric,"long"!==this.opts.style)},e.formatToParts=function(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]},t}(),ue=function(){function t(t,e,n,r){var o=function(t){var e=t.indexOf("-u-");if(-1===e)return[t];var n,r=t.substring(0,e);try{n=te(t).resolvedOptions()}catch(o){n=te(r).resolvedOptions()}return[r,n.numberingSystem,n.calendar]}(t),i=o[1],s=o[2];this.locale=o[0],this.numberingSystem=e||i||null,this.outputCalendar=n||s||null,this.intl=function(t,e,n){return n||e?(t+="-u",n&&(t+="-ca-"+n),e&&(t+="-nu-"+e),t):t}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}t.fromOpts=function(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)},t.create=function(e,n,r,o){void 0===o&&(o=!1);var i=e||Zt.defaultLocale;return new t(i||(o?"en-US":re||(re=(new Intl.DateTimeFormat).resolvedOptions().locale)),n||Zt.defaultNumberingSystem,r||Zt.defaultOutputCalendar,i)},t.resetCache=function(){re=null,Yt={},ee={},ne={}},t.fromObject=function(e){var n=void 0===e?{}:e;return t.create(n.locale,n.numberingSystem,n.outputCalendar)};var e=t.prototype;return e.listingMode=function(t){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"},e.clone=function(e){return e&&0!==Object.getOwnPropertyNames(e).length?t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1):this},e.redefaultToEN=function(t){return void 0===t&&(t={}),this.clone(o({},t,{defaultToEN:!0}))},e.redefaultToSystem=function(t){return void 0===t&&(t={}),this.clone(o({},t,{defaultToEN:!1}))},e.months=function(t,e,n){var r=this;return void 0===e&&(e=!1),void 0===n&&(n=!0),oe(this,t,n,bt,function(){var n=e?{month:t,day:"numeric"}:{month:t},o=e?"format":"standalone";return r.monthsCache[o][t]||(r.monthsCache[o][t]=function(t){for(var e=[],n=1;n<=12;n++){var r=ar.utc(2016,n,1);e.push(t(r))}return e}(function(t){return r.extract(t,n,"month")})),r.monthsCache[o][t]})},e.weekdays=function(t,e,n){var r=this;return void 0===e&&(e=!1),void 0===n&&(n=!0),oe(this,t,n,kt,function(){var n=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},o=e?"format":"standalone";return r.weekdaysCache[o][t]||(r.weekdaysCache[o][t]=function(t){for(var e=[],n=1;n<=7;n++){var r=ar.utc(2016,11,13+n);e.push(t(r))}return e}(function(t){return r.extract(t,n,"weekday")})),r.weekdaysCache[o][t]})},e.meridiems=function(t){var e=this;return void 0===t&&(t=!0),oe(this,void 0,t,function(){return St},function(){if(!e.meridiemCache){var t={hour:"numeric",hourCycle:"h12"};e.meridiemCache=[ar.utc(2016,11,13,9),ar.utc(2016,11,13,19)].map(function(n){return e.extract(n,t,"dayperiod")})}return e.meridiemCache})},e.eras=function(t,e){var n=this;return void 0===e&&(e=!0),oe(this,t,e,At,function(){var e={era:t};return n.eraCache[t]||(n.eraCache[t]=[ar.utc(-40,1,1),ar.utc(2017,1,1)].map(function(t){return n.extract(t,e,"era")})),n.eraCache[t]})},e.extract=function(t,e,n){var r=this.dtFormatter(t,e).formatToParts().find(function(t){return t.type.toLowerCase()===n});return r?r.value:null},e.numberFormatter=function(t){return void 0===t&&(t={}),new ie(this.intl,t.forceSimple||this.fastNumbers,t)},e.dtFormatter=function(t,e){return void 0===e&&(e={}),new se(t,this.intl,e)},e.relFormatter=function(t){return void 0===t&&(t={}),new ae(this.intl,this.isEnglish(),t)},e.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},e.equals=function(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar},r(t,[{key:"fastNumbers",get:function(){var t;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(t=this).numberingSystem||"latn"===t.numberingSystem)&&("latn"===t.numberingSystem||!t.locale||t.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),t}();function ce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.reduce(function(t,e){return t+e.source},"");return RegExp("^"+r+"$")}function le(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce(function(e,n){var r=e[0],i=e[1],s=n(t,e[2]),a=s[1],u=s[2];return[o({},r,s[0]),i||a,u]},[{},null,1]).slice(0,2)}}function fe(t){if(null==t)return[null,null];for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o],a=s[0],u=s[1],c=a.exec(t);if(c)return u(c)}return[null,null]}function he(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n){var r,o={};for(r=0;r<e.length;r++)o[e[r]]=tt(t[n+r]);return[o,null,n+r]}}var de=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,pe=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,me=RegExp(""+pe.source+de.source+"?"),ve=RegExp("(?:T"+me.source+")?"),ye=he("weekYear","weekNumber","weekDay"),ge=he("year","ordinal"),be=RegExp(pe.source+" ?(?:"+de.source+"|("+mt.source+"))?"),we=RegExp("(?: "+be.source+")?");function _e(t,e,n){var r=t[e];return W(r)?n:tt(r)}function xe(t,e){return[{year:_e(t,e),month:_e(t,e+1,1),day:_e(t,e+2,1)},null,e+3]}function ke(t,e){return[{hours:_e(t,e,0),minutes:_e(t,e+1,0),seconds:_e(t,e+2,0),milliseconds:et(t[e+3])},null,e+4]}function Se(t,e){var n=!t[e]&&!t[e+1],r=lt(t[e+1],t[e+2]);return[{},n?null:zt.instance(r),e+3]}function Ce(t,e){return[{},t[e]?Vt.create(t[e]):null,e+1]}var Oe=RegExp("^T?"+pe.source+"$"),Ee=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Ae(t){var e=t[2],n=t[3],r=t[4],o=t[5],i=t[6],s=t[7],a=t[8],u="-"===t[0][0],c=s&&"-"===s[0],l=function(t,e){return void 0===e&&(e=!1),void 0!==t&&(e||t&&u)?-t:t};return[{years:l(tt(t[1])),months:l(tt(e)),weeks:l(tt(n)),days:l(tt(r)),hours:l(tt(o)),minutes:l(tt(i)),seconds:l(tt(s),"-0"===s),milliseconds:l(et(a),c)}]}var Me={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Te(t,e,n,r,o,i,s){var a={year:2===e.length?ut(tt(e)):tt(e),month:yt.indexOf(n)+1,day:tt(r),hour:tt(o),minute:tt(i)};return s&&(a.second=tt(s)),t&&(a.weekday=t.length>3?wt.indexOf(t)+1:_t.indexOf(t)+1),a}var je=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function De(t){var e,n=t[8],r=t[9],o=t[10],i=t[11],s=Te(t[1],t[4],t[3],t[2],t[5],t[6],t[7]);return e=n?Me[n]:r?0:lt(o,i),[s,new zt(e)]}var Pe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ie=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Re=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ne(t){return[Te(t[1],t[4],t[3],t[2],t[5],t[6],t[7]),zt.utcInstance]}function Le(t){return[Te(t[1],t[7],t[2],t[3],t[4],t[5],t[6]),zt.utcInstance]}var $e=ce(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ve),Fe=ce(/(\d{4})-?W(\d\d)(?:-?(\d))?/,ve),Ve=ce(/(\d{4})-?(\d{3})/,ve),Be=ce(me),ze=le(xe,ke,Se),qe=le(ye,ke,Se),Ue=le(ge,ke,Se),He=le(ke,Se),We=le(ke),Je=ce(/(\d{4})-(\d\d)-(\d\d)/,we),Qe=ce(be),Ke=le(xe,ke,Se,Ce),Ge=le(ke,Se,Ce),Ze={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Xe=o({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Ze),Ye=o({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Ze),tn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],en=tn.slice(0).reverse();function nn(t,e,n){void 0===n&&(n=!1);var r={values:n?e.values:o({},t.values,e.values||{}),loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy};return new on(r)}function rn(t,e,n,r,o){var i=t[o][n],s=e[n]/i,a=Math.sign(s)!==Math.sign(r[o])&&0!==r[o]&&Math.abs(s)<=1?function(t){return t<0?Math.floor(t):Math.ceil(t)}(s):Math.trunc(s);r[o]+=a,e[n]-=a*i}var on=function(){function t(t){var e="longterm"===t.conversionAccuracy||!1;this.values=t.values,this.loc=t.loc||ue.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=e?Ye:Xe,this.isLuxonDuration=!0}t.fromMillis=function(e,n){return t.fromObject({milliseconds:e},n)},t.fromObject=function(e,n){if(void 0===n&&(n={}),null==e||"object"!=typeof e)throw new b("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new t({values:ht(e,t.normalizeUnit),loc:ue.fromObject(n),conversionAccuracy:n.conversionAccuracy})},t.fromISO=function(e,n){var r=function(t){return fe(t,[Ee,Ae])}(e)[0];return r?t.fromObject(r,n):t.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")},t.fromISOTime=function(e,n){var r=function(t){return fe(t,[Oe,We])}(e)[0];return r?t.fromObject(r,n):t.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")},t.invalid=function(e,n){if(void 0===n&&(n=null),!e)throw new b("need to specify a reason the Duration is invalid");var r=e instanceof Dt?e:new Dt(e,n);if(Zt.throwOnInvalid)throw new v(r);return new t({invalid:r})},t.normalizeUnit=function(t){var e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t?t.toLowerCase():t];if(!e)throw new g(t);return e},t.isDuration=function(t){return t&&t.isLuxonDuration||!1};var e=t.prototype;return e.toFormat=function(t,e){void 0===e&&(e={});var n=o({},e,{floor:!1!==e.round&&!1!==e.floor});return this.isValid?jt.create(this.loc,n).formatDurationFromString(this,t):"Invalid Duration"},e.toObject=function(){return this.isValid?o({},this.values):{}},e.toISO=function(){if(!this.isValid)return null;var t="P";return 0!==this.years&&(t+=this.years+"Y"),0===this.months&&0===this.quarters||(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(t+=nt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t},e.toISOTime=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var e=this.toMillis();if(e<0||e>=864e5)return null;t=o({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},t);var n=this.shiftTo("hours","minutes","seconds","milliseconds"),r="basic"===t.format?"hhmm":"hh:mm";t.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+="basic"===t.format?"ss":":ss",t.suppressMilliseconds&&0===n.milliseconds||(r+=".SSS"));var i=n.toFormat(r);return t.includePrefix&&(i="T"+i),i},e.toJSON=function(){return this.toISO()},e.toString=function(){return this.toISO()},e.toMillis=function(){return this.as("milliseconds")},e.valueOf=function(){return this.toMillis()},e.plus=function(t){if(!this.isValid)return this;for(var e,n=sn(t),r={},o=h(tn);!(e=o()).done;){var i=e.value;(Z(n.values,i)||Z(this.values,i))&&(r[i]=n.get(i)+this.get(i))}return nn(this,{values:r},!0)},e.minus=function(t){if(!this.isValid)return this;var e=sn(t);return this.plus(e.negate())},e.mapUnits=function(t){if(!this.isValid)return this;for(var e={},n=0,r=Object.keys(this.values);n<r.length;n++){var o=r[n];e[o]=ft(t(this.values[o],o))}return nn(this,{values:e},!0)},e.get=function(e){return this[t.normalizeUnit(e)]},e.set=function(e){return this.isValid?nn(this,{values:o({},this.values,ht(e,t.normalizeUnit))}):this},e.reconfigure=function(t){var e=void 0===t?{}:t,n=e.conversionAccuracy,r={loc:this.loc.clone({locale:e.locale,numberingSystem:e.numberingSystem})};return n&&(r.conversionAccuracy=n),nn(this,r)},e.as=function(t){return this.isValid?this.shiftTo(t).get(t):NaN},e.normalize=function(){if(!this.isValid)return this;var t=this.toObject();return function(t,e){en.reduce(function(n,r){return W(e[r])?n:(n&&rn(t,e,n,e,r),r)},null)}(this.matrix,t),nn(this,{values:t},!0)},e.shiftTo=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!this.isValid)return this;if(0===n.length)return this;n=n.map(function(e){return t.normalizeUnit(e)});for(var o,i,s={},a={},u=this.toObject(),c=h(tn);!(i=c()).done;){var l=i.value;if(n.indexOf(l)>=0){o=l;var f=0;for(var d in a)f+=this.matrix[d][l]*a[d],a[d]=0;J(u[l])&&(f+=u[l]);var p=Math.trunc(f);for(var m in s[l]=p,a[l]=f-p,u)tn.indexOf(m)>tn.indexOf(l)&&rn(this.matrix,u,m,s,l)}else J(u[l])&&(a[l]=u[l])}for(var v in a)0!==a[v]&&(s[o]+=v===o?a[v]:a[v]/this.matrix[o][v]);return nn(this,{values:s},!0).normalize()},e.negate=function(){if(!this.isValid)return this;for(var t={},e=0,n=Object.keys(this.values);e<n.length;e++){var r=n[e];t[r]=-this.values[r]}return nn(this,{values:t},!0)},e.equals=function(t){if(!this.isValid||!t.isValid)return!1;if(!this.loc.equals(t.loc))return!1;for(var e,n=h(tn);!(e=n()).done;){var r=e.value;if(i=t.values[r],!(void 0===(o=this.values[r])||0===o?void 0===i||0===i:o===i))return!1}var o,i;return!0},r(t,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),t}();function sn(t){if(J(t))return on.fromMillis(t);if(on.isDuration(t))return t;if("object"==typeof t)return on.fromObject(t);throw new b("Unknown duration argument "+t+" of type "+typeof t)}var an="Invalid Interval";function un(t,e){return t&&t.isValid?e&&e.isValid?e<t?cn.invalid("end before start","The end of an interval must be after its start, but you had start="+t.toISO()+" and end="+e.toISO()):null:cn.invalid("missing or invalid end"):cn.invalid("missing or invalid start")}var cn=function(){function t(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}t.invalid=function(e,n){if(void 0===n&&(n=null),!e)throw new b("need to specify a reason the Interval is invalid");var r=e instanceof Dt?e:new Dt(e,n);if(Zt.throwOnInvalid)throw new m(r);return new t({invalid:r})},t.fromDateTimes=function(e,n){var r=ur(e),o=ur(n),i=un(r,o);return null==i?new t({start:r,end:o}):i},t.after=function(e,n){var r=sn(n),o=ur(e);return t.fromDateTimes(o,o.plus(r))},t.before=function(e,n){var r=sn(n),o=ur(e);return t.fromDateTimes(o.minus(r),o)},t.fromISO=function(e,n){var r=(e||"").split("/",2),o=r[0],i=r[1];if(o&&i){var s,a,u,c;try{a=(s=ar.fromISO(o,n)).isValid}catch(i){a=!1}try{c=(u=ar.fromISO(i,n)).isValid}catch(i){c=!1}if(a&&c)return t.fromDateTimes(s,u);if(a){var l=on.fromISO(i,n);if(l.isValid)return t.after(s,l)}else if(c){var f=on.fromISO(o,n);if(f.isValid)return t.before(u,f)}}return t.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")},t.isInterval=function(t){return t&&t.isLuxonInterval||!1};var e=t.prototype;return e.length=function(t){return void 0===t&&(t="milliseconds"),this.isValid?this.toDuration.apply(this,[t]).get(t):NaN},e.count=function(t){if(void 0===t&&(t="milliseconds"),!this.isValid)return NaN;var e=this.start.startOf(t),n=this.end.startOf(t);return Math.floor(n.diff(e,t).get(t))+1},e.hasSame=function(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))},e.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},e.isAfter=function(t){return!!this.isValid&&this.s>t},e.isBefore=function(t){return!!this.isValid&&this.e<=t},e.contains=function(t){return!!this.isValid&&this.s<=t&&this.e>t},e.set=function(e){var n=void 0===e?{}:e;return this.isValid?t.fromDateTimes(n.start||this.s,n.end||this.e):this},e.splitAt=function(){var e=this;if(!this.isValid)return[];for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(var i=r.map(ur).filter(function(t){return e.contains(t)}).sort(),s=[],a=this.s,u=0;a<this.e;){var c=i[u]||this.e,l=+c>+this.e?this.e:c;s.push(t.fromDateTimes(a,l)),a=l,u+=1}return s},e.splitBy=function(e){var n=sn(e);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];for(var r,o=this.s,i=1,s=[];o<this.e;){var a=this.start.plus(n.mapUnits(function(t){return t*i}));s.push(t.fromDateTimes(o,r=+a>+this.e?this.e:a)),o=r,i+=1}return s},e.divideEqually=function(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]},e.overlaps=function(t){return this.e>t.s&&this.s<t.e},e.abutsStart=function(t){return!!this.isValid&&+this.e==+t.s},e.abutsEnd=function(t){return!!this.isValid&&+t.e==+this.s},e.engulfs=function(t){return!!this.isValid&&this.s<=t.s&&this.e>=t.e},e.equals=function(t){return!(!this.isValid||!t.isValid)&&this.s.equals(t.s)&&this.e.equals(t.e)},e.intersection=function(e){if(!this.isValid)return this;var n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:t.fromDateTimes(n,r)},e.union=function(e){return this.isValid?t.fromDateTimes(this.s<e.s?this.s:e.s,this.e>e.e?this.e:e.e):this},t.merge=function(t){var e=t.sort(function(t,e){return t.s-e.s}).reduce(function(t,e){var n=t[0],r=t[1];return r?r.overlaps(e)||r.abutsStart(e)?[n,r.union(e)]:[n.concat([r]),e]:[n,e]},[[],null]),n=e[0],r=e[1];return r&&n.push(r),n},t.xor=function(e){for(var n,r,o=null,i=0,s=[],a=e.map(function(t){return[{time:t.s,type:"s"},{time:t.e,type:"e"}]}),u=h((n=Array.prototype).concat.apply(n,a).sort(function(t,e){return t.time-e.time}));!(r=u()).done;){var c=r.value;1===(i+="s"===c.type?1:-1)?o=c.time:(o&&+o!=+c.time&&s.push(t.fromDateTimes(o,c.time)),o=null)}return t.merge(s)},e.difference=function(){for(var e=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.xor([this].concat(r)).map(function(t){return e.intersection(t)}).filter(function(t){return t&&!t.isEmpty()})},e.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":an},e.toISO=function(t){return this.isValid?this.s.toISO(t)+"/"+this.e.toISO(t):an},e.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():an},e.toISOTime=function(t){return this.isValid?this.s.toISOTime(t)+"/"+this.e.toISOTime(t):an},e.toFormat=function(t,e){var n=(void 0===e?{}:e).separator,r=void 0===n?" \u2013 ":n;return this.isValid?""+this.s.toFormat(t)+r+this.e.toFormat(t):an},e.toDuration=function(t,e){return this.isValid?this.e.diff(this.s,t,e):on.invalid(this.invalidReason)},e.mapEndpoints=function(e){return t.fromDateTimes(e(this.s),e(this.e))},r(t,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),t}(),ln=function(){function t(){}return t.hasDST=function(t){void 0===t&&(t=Zt.defaultZone);var e=ar.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset},t.isValidIANAZone=function(t){return Vt.isValidSpecifier(t)&&Vt.isValidZone(t)},t.normalizeZone=function(t){return Ut(t,Zt.defaultZone)},t.months=function(t,e){void 0===t&&(t="long");var n=void 0===e?{}:e,r=n.locale,o=n.numberingSystem,i=n.locObj,s=n.outputCalendar;return((void 0===i?null:i)||ue.create(void 0===r?null:r,void 0===o?null:o,void 0===s?"gregory":s)).months(t)},t.monthsFormat=function(t,e){void 0===t&&(t="long");var n=void 0===e?{}:e,r=n.locale,o=n.numberingSystem,i=n.locObj,s=n.outputCalendar;return((void 0===i?null:i)||ue.create(void 0===r?null:r,void 0===o?null:o,void 0===s?"gregory":s)).months(t,!0)},t.weekdays=function(t,e){void 0===t&&(t="long");var n=void 0===e?{}:e,r=n.locale,o=n.numberingSystem,i=n.locObj;return((void 0===i?null:i)||ue.create(void 0===r?null:r,void 0===o?null:o,null)).weekdays(t)},t.weekdaysFormat=function(t,e){void 0===t&&(t="long");var n=void 0===e?{}:e,r=n.locale,o=n.numberingSystem,i=n.locObj;return((void 0===i?null:i)||ue.create(void 0===r?null:r,void 0===o?null:o,null)).weekdays(t,!0)},t.meridiems=function(t){var e=(void 0===t?{}:t).locale;return ue.create(void 0===e?null:e).meridiems()},t.eras=function(t,e){void 0===t&&(t="short");var n=(void 0===e?{}:e).locale;return ue.create(void 0===n?null:n,null,"gregory").eras(t)},t.features=function(){return{relative:K()}},t}();function fn(t,e){var n=function(t){return t.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=n(e)-n(t);return Math.floor(on.fromMillis(r).as("days"))}var hn={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},dn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},pn=hn.hanidec.replace(/[\[|\]]/g,"").split("");function mn(t,e){return void 0===e&&(e=""),new RegExp(""+hn[t.numberingSystem||"latn"]+e)}function vn(t,e){return void 0===e&&(e=function(t){return t}),{regex:t,deser:function(t){return e(function(t){var e=parseInt(t,10);if(isNaN(e)){e="";for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);if(-1!==t[n].search(hn.hanidec))e+=pn.indexOf(t[n]);else for(var o in dn){var i=dn[o],s=i[0];r>=s&&r<=i[1]&&(e+=r-s)}}return parseInt(e,10)}return e}(t[0]))}}}var yn="( |"+String.fromCharCode(160)+")",gn=new RegExp(yn,"g");function bn(t){return t.replace(/\./g,"\\.?").replace(gn,yn)}function wn(t){return t.replace(/\./g,"").replace(gn," ").toLowerCase()}function _n(t,e){return null===t?null:{regex:RegExp(t.map(bn).join("|")),deser:function(n){var r=n[0];return t.findIndex(function(t){return wn(r)===wn(t)})+e}}}function xn(t,e){return{regex:t,deser:function(t){return lt(t[1],t[2])},groups:e}}function kn(t){return{regex:t,deser:function(t){return t[0]}}}var Sn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},Cn=null;function On(t,e,n){var r=function(t,e){var n;return(n=Array.prototype).concat.apply(n,t.map(function(t){return function(t,e){if(t.literal)return t;var n=jt.macroTokenToFormatOpts(t.val);if(!n)return t;var r=jt.create(e,n).formatDateTimeParts((Cn||(Cn=ar.fromMillis(1555555555555)),Cn)).map(function(t){return function(t,e,n){var r=t.type;if("literal"===r)return{literal:!0,val:t.value};var o=Sn[r];return"object"==typeof o&&(o=o[n[r]]),o?{literal:!1,val:o}:void 0}(t,0,n)});return r.includes(void 0)?t:r}(t,e)}))}(jt.parseFormat(n),t),o=r.map(function(e){return n=e,o=mn(r=t),i=mn(r,"{2}"),s=mn(r,"{3}"),a=mn(r,"{4}"),u=mn(r,"{6}"),c=mn(r,"{1,2}"),l=mn(r,"{1,3}"),f=mn(r,"{1,6}"),h=mn(r,"{1,9}"),d=mn(r,"{2,4}"),p=mn(r,"{4,6}"),m=function(t){return{regex:RegExp((e=t.val,e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(t){return t[0]},literal:!0};var e},(v=function(t){if(n.literal)return m(t);switch(t.val){case"G":return _n(r.eras("short",!1),0);case"GG":return _n(r.eras("long",!1),0);case"y":return vn(f);case"yy":return vn(d,ut);case"yyyy":return vn(a);case"yyyyy":return vn(p);case"yyyyyy":return vn(u);case"M":return vn(c);case"MM":return vn(i);case"MMM":return _n(r.months("short",!0,!1),1);case"MMMM":return _n(r.months("long",!0,!1),1);case"L":return vn(c);case"LL":return vn(i);case"LLL":return _n(r.months("short",!1,!1),1);case"LLLL":return _n(r.months("long",!1,!1),1);case"d":return vn(c);case"dd":return vn(i);case"o":return vn(l);case"ooo":return vn(s);case"HH":return vn(i);case"H":return vn(c);case"hh":return vn(i);case"h":return vn(c);case"mm":return vn(i);case"m":case"q":return vn(c);case"qq":return vn(i);case"s":return vn(c);case"ss":return vn(i);case"S":return vn(l);case"SSS":return vn(s);case"u":return kn(h);case"a":return _n(r.meridiems(),0);case"kkkk":return vn(a);case"kk":return vn(d,ut);case"W":return vn(c);case"WW":return vn(i);case"E":case"c":return vn(o);case"EEE":return _n(r.weekdays("short",!1,!1),1);case"EEEE":return _n(r.weekdays("long",!1,!1),1);case"ccc":return _n(r.weekdays("short",!0,!1),1);case"cccc":return _n(r.weekdays("long",!0,!1),1);case"Z":case"ZZ":return xn(new RegExp("([+-]"+c.source+")(?::("+i.source+"))?"),2);case"ZZZ":return xn(new RegExp("([+-]"+c.source+")("+i.source+")?"),2);case"z":return kn(/[a-z_+-/]{1,256}?/i);default:return m(t)}}(n)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"}).token=n,v;var n,r,o,i,s,a,u,c,l,f,h,d,p,m,v}),i=o.find(function(t){return t.invalidReason});if(i)return{input:e,tokens:r,invalidReason:i.invalidReason};var s=function(t){return["^"+t.map(function(t){return t.regex}).reduce(function(t,e){return t+"("+e.source+")"},"")+"$",t]}(o),a=s[1],u=RegExp(s[0],"i"),c=function(t,e,n){var r=t.match(e);if(r){var o={},i=1;for(var s in n)if(Z(n,s)){var a=n[s],u=a.groups?a.groups+1:1;!a.literal&&a.token&&(o[a.token.val[0]]=a.deser(r.slice(i,i+u))),i+=u}return[r,o]}return[r,{}]}(e,u,a),l=c[0],f=c[1],h=f?function(t){var e;return e=W(t.Z)?W(t.z)?null:Vt.create(t.z):new zt(t.Z),W(t.q)||(t.M=3*(t.q-1)+1),W(t.h)||(t.h<12&&1===t.a?t.h+=12:12===t.h&&0===t.a&&(t.h=0)),0===t.G&&t.y&&(t.y=-t.y),W(t.u)||(t.S=et(t.u)),[Object.keys(t).reduce(function(e,n){var r=function(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(n);return r&&(e[r]=t[n]),e},{}),e]}(f):[null,null],d=h[0],p=h[1];if(Z(f,"a")&&Z(f,"H"))throw new y("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:u,rawMatches:l,matches:f,result:d,zone:p}}var En=[0,31,59,90,120,151,181,212,243,273,304,334],An=[0,31,60,91,121,152,182,213,244,274,305,335];function Mn(t,e){return new Dt("unit out of range","you specified "+e+" (of type "+typeof e+") as a "+t+", which is invalid")}function Tn(t,e,n){var r=new Date(Date.UTC(t,e-1,n)).getUTCDay();return 0===r?7:r}function jn(t,e,n){return n+(rt(t)?An:En)[e-1]}function Dn(t,e){var n=rt(t)?An:En,r=n.findIndex(function(t){return t<e});return{month:r+1,day:e-n[r]}}function Pn(t){var e,n=t.year,r=t.month,i=t.day,s=jn(n,r,i),a=Tn(n,r,i),u=Math.floor((s-a+10)/7);return u<1?u=at(e=n-1):u>at(n)?(e=n+1,u=1):e=n,o({weekYear:e,weekNumber:u,weekday:a},pt(t))}function In(t){var e,n=t.weekYear,r=t.weekNumber,i=t.weekday,s=Tn(n,1,4),a=ot(n),u=7*r+i-s-3;u<1?u+=ot(e=n-1):u>a?(e=n+1,u-=ot(n)):e=n;var c=Dn(e,u);return o({year:e,month:c.month,day:c.day},pt(t))}function Rn(t){var e=t.year;return o({year:e,ordinal:jn(e,t.month,t.day)},pt(t))}function Nn(t){var e=t.year,n=Dn(e,t.ordinal);return o({year:e,month:n.month,day:n.day},pt(t))}function Ln(t){var e=Q(t.year),n=X(t.month,1,12),r=X(t.day,1,it(t.year,t.month));return e?n?!r&&Mn("day",t.day):Mn("month",t.month):Mn("year",t.year)}function $n(t){var e=t.hour,n=t.minute,r=t.second,o=t.millisecond,i=X(e,0,23)||24===e&&0===n&&0===r&&0===o,s=X(n,0,59),a=X(r,0,59),u=X(o,0,999);return i?s?a?!u&&Mn("millisecond",o):Mn("second",r):Mn("minute",n):Mn("hour",e)}var Fn="Invalid DateTime",Vn=864e13;function Bn(t){return new Dt("unsupported zone",'the zone "'+t.name+'" is not supported')}function zn(t){return null===t.weekData&&(t.weekData=Pn(t.c)),t.weekData}function qn(t,e){var n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new ar(o({},n,e,{old:n}))}function Un(t,e,n){var r=t-60*e*1e3,o=n.offset(r);if(e===o)return[r,e];var i=n.offset(r-=60*(o-e)*1e3);return o===i?[r,o]:[t-60*Math.min(o,i)*1e3,Math.max(o,i)]}function Hn(t,e){var n=new Date(t+=60*e*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Wn(t,e,n){return Un(st(t),e,n)}function Jn(t,e){var n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+3*Math.trunc(e.quarters),s=o({},t.c,{year:r,month:i,day:Math.min(t.c.day,it(r,i))+Math.trunc(e.days)+7*Math.trunc(e.weeks)}),a=on.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),u=Un(st(s),n,t.zone),c=u[0],l=u[1];return 0!==a&&(l=t.zone.offset(c+=a)),{ts:c,o:l}}function Qn(t,e,n,r,i){var s=n.setZone,a=n.zone;if(t&&0!==Object.keys(t).length){var u=ar.fromObject(t,o({},n,{zone:e||a}));return s?u:u.setZone(a)}return ar.invalid(new Dt("unparsable",'the input "'+i+"\" can't be parsed as "+r))}function Kn(t,e,n){return void 0===n&&(n=!0),t.isValid?jt.create(ue.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Gn(t,e){var n=e.suppressSeconds,r=e.suppressMilliseconds,o=e.includeOffset,i=e.includePrefix,s=void 0!==i&&i,a=e.includeZone,u=void 0!==a&&a,c=e.spaceZone,l=e.format,f=void 0===l?"extended":l,h="basic"===f?"HHmm":"HH:mm";void 0!==n&&n&&0===t.second&&0===t.millisecond||(h+="basic"===f?"ss":":ss",void 0!==r&&r&&0===t.millisecond||(h+=".SSS")),(u||o)&&void 0!==c&&c&&(h+=" "),u?h+="z":o&&(h+="basic"===f?"ZZZ":"ZZ");var d=Kn(t,h);return s&&(d="T"+d),d}var Zn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Xn={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Yn={ordinal:1,hour:0,minute:0,second:0,millisecond:0},tr=["year","month","day","hour","minute","second","millisecond"],er=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],nr=["year","ordinal","hour","minute","second","millisecond"];function rr(t){var e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new g(t);return e}function or(t,e){var n,r,o=Ut(e.zone,Zt.defaultZone),i=ue.fromObject(e),s=Zt.now();if(W(t.year))n=s;else{for(var a,u=h(tr);!(a=u()).done;){var c=a.value;W(t[c])&&(t[c]=Zn[c])}var l=Ln(t)||$n(t);if(l)return ar.invalid(l);var f=Wn(t,o.offset(s),o);n=f[0],r=f[1]}return new ar({ts:n,zone:o,loc:i,o:r})}function ir(t,e,n){var r=!!W(n.round)||n.round,o=function(t,o){return t=nt(t,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(t,o)},i=function(r){return n.calendary?e.hasSame(t,r)?0:e.startOf(r).diff(t.startOf(r),r).get(r):e.diff(t,r).get(r)};if(n.unit)return o(i(n.unit),n.unit);for(var s,a=h(n.units);!(s=a()).done;){var u=s.value,c=i(u);if(Math.abs(c)>=1)return o(c,u)}return o(t>e?-0:0,n.units[n.units.length-1])}function sr(t){var e,n={};return t.length>0&&"object"==typeof t[t.length-1]?(n=t[t.length-1],e=Array.from(t).slice(0,t.length-1)):e=Array.from(t),[n,e]}var ar=function(){function t(t){var e=t.zone||Zt.defaultZone,n=t.invalid||(Number.isNaN(t.ts)?new Dt("invalid input"):null)||(e.isValid?null:Bn(e));this.ts=W(t.ts)?Zt.now():t.ts;var r=null,o=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e)){var i=[t.old.c,t.old.o];r=i[0],o=i[1]}else{var s=e.offset(this.ts);r=Hn(this.ts,s),r=(n=Number.isNaN(r.year)?new Dt("invalid input"):null)?null:r,o=n?null:s}this._zone=e,this.loc=t.loc||ue.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}t.now=function(){return new t({})},t.local=function(){var t=sr(arguments),e=t[0],n=t[1],r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],u=n[5],c=n[6];return or({year:r,month:o,day:i,hour:s,minute:a,second:u,millisecond:c},e)},t.utc=function(){var t=sr(arguments),e=t[0],n=t[1],r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],u=n[5],c=n[6];return e.zone=zt.utcInstance,or({year:r,month:o,day:i,hour:s,minute:a,second:u,millisecond:c},e)},t.fromJSDate=function(e,n){void 0===n&&(n={});var r="[object Date]"===Object.prototype.toString.call(e)?e.valueOf():NaN;if(Number.isNaN(r))return t.invalid("invalid input");var o=Ut(n.zone,Zt.defaultZone);return o.isValid?new t({ts:r,zone:o,loc:ue.fromObject(n)}):t.invalid(Bn(o))},t.fromMillis=function(e,n){if(void 0===n&&(n={}),J(e))return e<-Vn||e>Vn?t.invalid("Timestamp out of range"):new t({ts:e,zone:Ut(n.zone,Zt.defaultZone),loc:ue.fromObject(n)});throw new b("fromMillis requires a numerical input, but received a "+typeof e+" with value "+e)},t.fromSeconds=function(e,n){if(void 0===n&&(n={}),J(e))return new t({ts:1e3*e,zone:Ut(n.zone,Zt.defaultZone),loc:ue.fromObject(n)});throw new b("fromSeconds requires a numerical input")},t.fromObject=function(e,n){void 0===n&&(n={}),e=e||{};var r=Ut(n.zone,Zt.defaultZone);if(!r.isValid)return t.invalid(Bn(r));var o=Zt.now(),i=r.offset(o),s=ht(e,rr),a=!W(s.ordinal),u=!W(s.year),c=!W(s.month)||!W(s.day),l=u||c,f=s.weekYear||s.weekNumber,d=ue.fromObject(n);if((l||a)&&f)throw new y("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new y("Can't mix ordinal dates with month/day");var p,m,v=f||s.weekday&&!l,g=Hn(o,i);v?(p=er,m=Xn,g=Pn(g)):a?(p=nr,m=Yn,g=Rn(g)):(p=tr,m=Zn);for(var b,w=!1,_=h(p);!(b=_()).done;){var x=b.value;W(s[x])?s[x]=w?m[x]:g[x]:w=!0}var k=(v?function(t){var e=Q(t.weekYear),n=X(t.weekNumber,1,at(t.weekYear)),r=X(t.weekday,1,7);return e?n?!r&&Mn("weekday",t.weekday):Mn("week",t.week):Mn("weekYear",t.weekYear)}(s):a?function(t){var e=Q(t.year),n=X(t.ordinal,1,ot(t.year));return e?!n&&Mn("ordinal",t.ordinal):Mn("year",t.year)}(s):Ln(s))||$n(s);if(k)return t.invalid(k);var S=Wn(v?In(s):a?Nn(s):s,i,r),C=new t({ts:S[0],zone:r,o:S[1],loc:d});return s.weekday&&l&&e.weekday!==C.weekday?t.invalid("mismatched weekday","you can't specify both a weekday of "+s.weekday+" and a date of "+C.toISO()):C},t.fromISO=function(t,e){void 0===e&&(e={});var n=function(t){return fe(t,[$e,ze],[Fe,qe],[Ve,Ue],[Be,He])}(t);return Qn(n[0],n[1],e,"ISO 8601",t)},t.fromRFC2822=function(t,e){void 0===e&&(e={});var n=function(t){return fe(function(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(t),[je,De])}(t);return Qn(n[0],n[1],e,"RFC 2822",t)},t.fromHTTP=function(t,e){void 0===e&&(e={});var n=function(t){return fe(t,[Pe,Ne],[Ie,Ne],[Re,Le])}(t);return Qn(n[0],n[1],e,"HTTP",e)},t.fromFormat=function(e,n,r){if(void 0===r&&(r={}),W(e)||W(n))throw new b("fromFormat requires an input string and a format");var o,i=r.locale,s=r.numberingSystem,a=[(o=On(ue.fromOpts({locale:void 0===i?null:i,numberingSystem:void 0===s?null:s,defaultToEN:!0}),e,n)).result,o.zone,o.invalidReason],u=a[0],c=a[1],l=a[2];return l?t.invalid(l):Qn(u,c,r,"format "+n,e)},t.fromString=function(e,n,r){return void 0===r&&(r={}),t.fromFormat(e,n,r)},t.fromSQL=function(t,e){void 0===e&&(e={});var n=function(t){return fe(t,[Je,Ke],[Qe,Ge])}(t);return Qn(n[0],n[1],e,"SQL",t)},t.invalid=function(e,n){if(void 0===n&&(n=null),!e)throw new b("need to specify a reason the DateTime is invalid");var r=e instanceof Dt?e:new Dt(e,n);if(Zt.throwOnInvalid)throw new p(r);return new t({invalid:r})},t.isDateTime=function(t){return t&&t.isLuxonDateTime||!1};var e=t.prototype;return e.get=function(t){return this[t]},e.resolvedLocaleOptions=function(t){void 0===t&&(t={});var e=jt.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e.locale,numberingSystem:e.numberingSystem,outputCalendar:e.calendar}},e.toUTC=function(t,e){return void 0===t&&(t=0),void 0===e&&(e={}),this.setZone(zt.instance(t),e)},e.toLocal=function(){return this.setZone(Zt.defaultZone)},e.setZone=function(e,n){var r=void 0===n?{}:n,o=r.keepLocalTime,i=void 0!==o&&o,s=r.keepCalendarTime,a=void 0!==s&&s;if((e=Ut(e,Zt.defaultZone)).equals(this.zone))return this;if(e.isValid){var u=this.ts;if(i||a){var c=e.offset(this.ts);u=Wn(this.toObject(),c,e)[0]}return qn(this,{ts:u,zone:e})}return t.invalid(Bn(e))},e.reconfigure=function(t){var e=void 0===t?{}:t;return qn(this,{loc:this.loc.clone({locale:e.locale,numberingSystem:e.numberingSystem,outputCalendar:e.outputCalendar})})},e.setLocale=function(t){return this.reconfigure({locale:t})},e.set=function(t){if(!this.isValid)return this;var e,n=ht(t,rr),r=!W(n.weekYear)||!W(n.weekNumber)||!W(n.weekday),i=!W(n.ordinal),s=!W(n.year),a=!W(n.month)||!W(n.day);if((s||a||i)&&(n.weekYear||n.weekNumber))throw new y("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&i)throw new y("Can't mix ordinal dates with month/day");r?e=In(o({},Pn(this.c),n)):W(n.ordinal)?(e=o({},this.toObject(),n),W(n.day)&&(e.day=Math.min(it(e.year,e.month),e.day))):e=Nn(o({},Rn(this.c),n));var u=Wn(e,this.o,this.zone);return qn(this,{ts:u[0],o:u[1]})},e.plus=function(t){return this.isValid?qn(this,Jn(this,sn(t))):this},e.minus=function(t){return this.isValid?qn(this,Jn(this,sn(t).negate())):this},e.startOf=function(t){if(!this.isValid)return this;var e={},n=on.normalizeUnit(t);switch(n){case"years":e.month=1;case"quarters":case"months":e.day=1;case"weeks":case"days":e.hour=0;case"hours":e.minute=0;case"minutes":e.second=0;case"seconds":e.millisecond=0}if("weeks"===n&&(e.weekday=1),"quarters"===n){var r=Math.ceil(this.month/3);e.month=3*(r-1)+1}return this.set(e)},e.endOf=function(t){var e;return this.isValid?this.plus((e={},e[t]=1,e)).startOf(t).minus(1):this},e.toFormat=function(t,e){return void 0===e&&(e={}),this.isValid?jt.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):Fn},e.toLocaleString=function(t,e){return void 0===t&&(t=S),void 0===e&&(e={}),this.isValid?jt.create(this.loc.clone(e),t).formatDateTime(this):Fn},e.toLocaleParts=function(t){return void 0===t&&(t={}),this.isValid?jt.create(this.loc.clone(t),t).formatDateTimeParts(this):[]},e.toISO=function(t){return void 0===t&&(t={}),this.isValid?this.toISODate(t)+"T"+this.toISOTime(t):null},e.toISODate=function(t){var e=(void 0===t?{}:t).format,n="basic"===(void 0===e?"extended":e)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(n="+"+n),Kn(this,n)},e.toISOWeekDate=function(){return Kn(this,"kkkk-'W'WW-c")},e.toISOTime=function(t){var e=void 0===t?{}:t,n=e.suppressMilliseconds,r=e.suppressSeconds,o=e.includeOffset,i=e.includePrefix,s=e.format;return Gn(this,{suppressSeconds:void 0!==r&&r,suppressMilliseconds:void 0!==n&&n,includeOffset:void 0===o||o,includePrefix:void 0!==i&&i,format:void 0===s?"extended":s})},e.toRFC2822=function(){return Kn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},e.toHTTP=function(){return Kn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},e.toSQLDate=function(){return Kn(this,"yyyy-MM-dd")},e.toSQLTime=function(t){var e=void 0===t?{}:t,n=e.includeOffset,r=e.includeZone;return Gn(this,{includeOffset:void 0===n||n,includeZone:void 0!==r&&r,spaceZone:!0})},e.toSQL=function(t){return void 0===t&&(t={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(t):null},e.toString=function(){return this.isValid?this.toISO():Fn},e.valueOf=function(){return this.toMillis()},e.toMillis=function(){return this.isValid?this.ts:NaN},e.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},e.toJSON=function(){return this.toISO()},e.toBSON=function(){return this.toJSDate()},e.toObject=function(t){if(void 0===t&&(t={}),!this.isValid)return{};var e=o({},this.c);return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e},e.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},e.diff=function(t,e,n){if(void 0===e&&(e="milliseconds"),void 0===n&&(n={}),!this.isValid||!t.isValid)return on.invalid("created by diffing an invalid DateTime");var r,i=o({locale:this.locale,numberingSystem:this.numberingSystem},n),s=(r=e,Array.isArray(r)?r:[r]).map(on.normalizeUnit),a=t.valueOf()>this.valueOf(),u=function(t,e,n,r){var o,i=function(t,e,n){for(var r,o,i={},s=0,a=[["years",function(t,e){return e.year-t.year}],["quarters",function(t,e){return e.quarter-t.quarter}],["months",function(t,e){return e.month-t.month+12*(e.year-t.year)}],["weeks",function(t,e){var n=fn(t,e);return(n-n%7)/7}],["days",fn]];s<a.length;s++){var u=a[s],c=u[0],l=u[1];if(n.indexOf(c)>=0){var f;r=c;var h,d=l(t,e);(o=t.plus(((f={})[c]=d,f)))>e?(t=t.plus(((h={})[c]=d-1,h)),d-=1):t=o,i[c]=d}}return[t,i,o,r]}(t,e,n),s=i[0],a=i[1],u=i[2],c=i[3],l=e-s,f=n.filter(function(t){return["hours","minutes","seconds","milliseconds"].indexOf(t)>=0});0===f.length&&(u<e&&(u=s.plus(((o={})[c]=1,o))),u!==s&&(a[c]=(a[c]||0)+l/(u-s)));var h,d=on.fromObject(a,r);return f.length>0?(h=on.fromMillis(l,r)).shiftTo.apply(h,f).plus(d):d}(a?this:t,a?t:this,s,i);return a?u.negate():u},e.diffNow=function(e,n){return void 0===e&&(e="milliseconds"),void 0===n&&(n={}),this.diff(t.now(),e,n)},e.until=function(t){return this.isValid?cn.fromDateTimes(this,t):this},e.hasSame=function(t,e){if(!this.isValid)return!1;var n=t.valueOf(),r=this.setZone(t.zone,{keepLocalTime:!0});return r.startOf(e)<=n&&n<=r.endOf(e)},e.equals=function(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)},e.toRelative=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var n=e.base||t.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),ir(n,this.plus(r),o({},e,{numeric:"always",units:i,unit:s}))},e.toRelativeCalendar=function(e){return void 0===e&&(e={}),this.isValid?ir(e.base||t.fromObject({},{zone:this.zone}),this,o({},e,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},t.min=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.every(t.isDateTime))throw new b("min requires all arguments be DateTimes");return G(n,function(t){return t.valueOf()},Math.min)},t.max=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.every(t.isDateTime))throw new b("max requires all arguments be DateTimes");return G(n,function(t){return t.valueOf()},Math.max)},t.fromFormatExplain=function(t,e,n){void 0===n&&(n={});var r=n.locale,o=n.numberingSystem;return On(ue.fromOpts({locale:void 0===r?null:r,numberingSystem:void 0===o?null:o,defaultToEN:!0}),t,e)},t.fromStringExplain=function(e,n,r){return void 0===r&&(r={}),t.fromFormatExplain(e,n,r)},r(t,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?zn(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?zn(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?zn(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Rn(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?ln.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?ln.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?ln.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?ln.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return rt(this.year)}},{key:"daysInMonth",get:function(){return it(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?ot(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?at(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return S}},{key:"DATE_MED",get:function(){return C}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return O}},{key:"DATE_FULL",get:function(){return E}},{key:"DATE_HUGE",get:function(){return A}},{key:"TIME_SIMPLE",get:function(){return M}},{key:"TIME_WITH_SECONDS",get:function(){return T}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return j}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return D}},{key:"TIME_24_SIMPLE",get:function(){return P}},{key:"TIME_24_WITH_SECONDS",get:function(){return I}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return R}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return N}},{key:"DATETIME_SHORT",get:function(){return L}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return $}},{key:"DATETIME_MED",get:function(){return F}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return V}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return B}},{key:"DATETIME_FULL",get:function(){return z}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return q}},{key:"DATETIME_HUGE",get:function(){return U}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return H}}]),t}();function ur(t){if(ar.isDateTime(t))return t;if(t&&t.valueOf&&J(t.valueOf()))return ar.fromJSDate(t);if(t&&"object"==typeof t)return ar.fromObject(t);throw new b("Unknown datetime argument: "+t+", of type "+typeof t)}e.ou=ar},2975:(t,e,n)=>{"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var o=r(n(6744)),i=r(n(8763)),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(t,e){Object.keys(t).forEach(function(n){e(t[n],n)})},c=function(t){return!!("undefined"!=typeof Uint8Array&&t instanceof Uint8Array||t&&t.$Uint8ArrayPolyfill)},l=u,f=function(t){return Array.isArray(t)&&!c(t)},h=function(t){return!(!t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||f(t)||null===t||t instanceof RegExp||"function"==typeof t||t instanceof Date||c(t))},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&e.field&&(t+=" for field '"+e.field+"'");var n=new Error(t);return n.name="ModifyJsError",n},p=u,m=function(t,e,n){n=n||{};for(var r,o=!1,i=0;i<e.length;i++){var a=i===e.length-1,u=e[i];if(!f(r=t)&&!h(r)){if(n.noCreate)return;var c=d("cannot use the part '"+u+"' to traverse "+t);throw c.setPropertyError=!0,c}if(t instanceof Array){if(n.forbidArray)return null;if("$"===u){if(o)throw d("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw d("The positional operator did not find the match needed from the query");u=n.arrayIndices[0],o=!0}else{if(!/^[0-9]+$/.test(u)){if(n.noCreate)return;throw d("can't append to array using string field name ["+u+"]")}u=parseInt(u)}if(a&&(e[i]=u),n.noCreate&&u>=t.length)return;for(;t.length<u;)t.push(null);if(!a)if(t.length===u)t.push({});else if("object"!==s(t[u]))throw d("can't modify field '"+e[i+1]+"' of list value "+JSON.stringify(t[u]))}else if(!(u in t)){if(n.noCreate)return;a||(t[u]={})}if(a)return t;t=t[u]}},v={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},y={$currentDate:function(t,e,n){if("object"===(void 0===n?"undefined":s(n))&&n.hasOwnProperty("$type")){if("date"!==n.$type)throw d("Minimongo does currently only support the date type in $currentDate modifiers",{field:e})}else if(!0!==n)throw d("Invalid $currentDate modifier",{field:e});t[e]=new Date},$min:function(t,e,n){if("number"!=typeof n)throw d("Modifier $min allowed for numbers only",{field:e});if(e in t){if("number"!=typeof t[e])throw d("Cannot apply $min modifier to non-number",{field:e});t[e]>n&&(t[e]=n)}else t[e]=n},$max:function(t,e,n){if("number"!=typeof n)throw d("Modifier $max allowed for numbers only",{field:e});if(e in t){if("number"!=typeof t[e])throw d("Cannot apply $max modifier to non-number",{field:e});t[e]<n&&(t[e]=n)}else t[e]=n},$inc:function(t,e,n){if("number"!=typeof n)throw d("Modifier $inc allowed for numbers only",{field:e});if(e in t){if("number"!=typeof t[e])throw d("Cannot apply $inc modifier to non-number",{field:e});t[e]+=n}else t[e]=n},$set:function(t,e,n){var r,o;if("object"!==(void 0===(o=t)?"undefined":s(o))||null===o)throw(r=d("Cannot set property on non-object field",{field:e})).setPropertyError=!0,r;if(null===t)throw(r=d("Cannot set property on null",{field:e})).setPropertyError=!0,r;t[e]=n},$setOnInsert:function(t,e,n){},$unset:function(t,e,n){void 0!==t&&(t instanceof Array?e in t&&(t[e]=null):delete t[e])},$push:function(t,e,n){if(void 0===t[e]&&(t[e]=[]),!(t[e]instanceof Array))throw d("Cannot apply $push modifier to non-array",{field:e});if(n&&n.$each){var r=n.$each;if(!(r instanceof Array))throw d("$each must be an array",{field:e});var o=void 0;if("$position"in n){if("number"!=typeof n.$position)throw d("$position must be a numeric value",{field:e});if(n.$position<0)throw d("$position in $push must be zero or positive",{field:e});o=n.$position}var i=void 0;if("$slice"in n){if("number"!=typeof n.$slice)throw d("$slice must be a numeric value",{field:e});if(n.$slice>0)throw d("$slice in $push must be zero or negative",{field:e});i=n.$slice}if(n.$sort)throw d("$sort in $push not implemented yet");if(void 0===o)for(var s=0;s<r.length;s++)t[e].push(r[s]);else{var a=[o,0];for(s=0;s<r.length;s++)a.push(r[s]);Array.prototype.splice.apply(t[e],a)}void 0!==i&&(t[e]=0===i?[]:t[e].slice(i))}else t[e].push(n)},$pushAll:function(t,e,n){if(!("object"===(void 0===n?"undefined":s(n))&&n instanceof Array))throw d("Modifier $pushAll/pullAll allowed for arrays only");var r=t[e];if(void 0===r)t[e]=n;else{if(!(r instanceof Array))throw d("Cannot apply $pushAll modifier to non-array",{field:e});for(var o=0;o<n.length;o++)r.push(n[o])}},$addToSet:function(t,e,n){var r=!1;"object"===(void 0===n?"undefined":s(n))&&"$each"===Object.keys(n)[0]&&(r=!0);var o=r?n.$each:[n],a=t[e];if(void 0===a)t[e]=o;else{if(!(a instanceof Array))throw d("Cannot apply $addToSet modifier to non-array",{field:e});p(o,function(t){for(var e=0;e<a.length;e++)if(i(t,a[e]))return;a.push(t)})}},$pop:function(t,e,n){if(void 0!==t){var r=t[e];if(void 0!==r){if(!(r instanceof Array))throw d("Cannot apply $pop modifier to non-array",{field:e});"number"==typeof n&&n<0?r.splice(0,1):r.pop()}}},$pull:function(t,e,n){if(void 0!==t){var r=t[e];if(void 0!==r)throw r instanceof Array?d("$pull not implemented yet"):d("Cannot apply $pull/pullAll modifier to non-array",{field:e})}},$pullAll:function(t,e,n){if(!("object"===(void 0===n?"undefined":s(n))&&n instanceof Array))throw d("Modifier $pushAll/pullAll allowed for arrays only",{field:e});if(void 0!==t){var r=t[e];if(void 0!==r){if(!(r instanceof Array))throw d("Cannot apply $pull/pullAll modifier to non-array",{field:e});for(var o=[],a=0;a<r.length;a++){for(var u=!1,c=0;c<n.length;c++)if(i(r[a],n[c])){u=!0;break}u||o.push(r[a])}t[e]=o}}},$rename:function(t,e,n,r,o){if(r===n)throw d("$rename source must differ from target",{field:e});if(null===t)throw d("$rename source field invalid",{field:e});if("string"!=typeof n)throw d("$rename target must be a string",{field:e});if(n.indexOf("\0")>-1)throw d("The 'to' field for $rename cannot contain an embedded null byte",{field:e});if(void 0!==t){var i=t[e];delete t[e];var s=n.split("."),a=m(o,s,{forbidArray:!0});if(null===a)throw d("$rename target field invalid",{field:e});a[s.pop()]=i}},$bit:function(t,e,n){throw d("$bit is not supported",{field:e})}};t.exports=function(t,e,n){if(!n||!n.each)return function(t,e,n){if(n=n||{},!h(e))throw d("Modifier must be an object");var r;if(function(t,e){if(!h(t))return!1;var n=void 0;return l(t,function(e,r){var o="$"===r.substr(0,1);if(void 0===n)n=o;else if(n!==o)throw new Error("Inconsistent operator: "+JSON.stringify(t))}),!!n}(e=o(e))?(r=o(t),p(e,function(t,e){var o=y[e];if(!o)throw d("Invalid modifier specified "+e);p(t,function(t,i){if(""===i)throw d("An empty update path is not valid.");var s=i.split(".");if(!s.every(function(t){return t}))throw d("The update path '"+i+"' contains an empty field name, which is not allowed.");var a=m(r,s,{noCreate:v[e],forbidArray:"$rename"===e,arrayIndices:n.arrayIndices}),u=s.pop();o(a,u,t,i,r)})})):r=e,n.returnInsteadOfReplacing)return r;p(Object.keys(t),function(e){"_id"!==e&&delete t[e]}),p(r,function(e,n){t[n]=e})}(t,e,a({},n,{returnInsteadOfReplacing:!0}))}},6744:t=>{var e=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(a){e=function(){}}try{n=Set}catch(a){n=function(){}}try{r=Promise}catch(a){r=function(){}}function o(i,a,u,c,l){"object"==typeof a&&(u=a.depth,c=a.prototype,l=a.includeNonEnumerable,a=a.circular);var f=[],h=[],d="undefined"!=typeof Buffer;return void 0===a&&(a=!0),void 0===u&&(u=1/0),function i(u,p){if(null===u)return null;if(0===p)return u;var m,v;if("object"!=typeof u)return u;if(t(u,e))m=new e;else if(t(u,n))m=new n;else if(t(u,r))m=new r(function(t,e){u.then(function(e){t(i(e,p-1))},function(t){e(i(t,p-1))})});else if(o.__isArray(u))m=[];else if(o.__isRegExp(u))m=new RegExp(u.source,s(u)),u.lastIndex&&(m.lastIndex=u.lastIndex);else if(o.__isDate(u))m=new Date(u.getTime());else{if(d&&Buffer.isBuffer(u))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(u.length):new Buffer(u.length),u.copy(m),m;t(u,Error)?m=Object.create(u):void 0===c?(v=Object.getPrototypeOf(u),m=Object.create(v)):(m=Object.create(c),v=c)}if(a){var y=f.indexOf(u);if(-1!=y)return h[y];f.push(u),h.push(m)}for(var g in t(u,e)&&u.forEach(function(t,e){var n=i(e,p-1),r=i(t,p-1);m.set(n,r)}),t(u,n)&&u.forEach(function(t){var e=i(t,p-1);m.add(e)}),u){var b;v&&(b=Object.getOwnPropertyDescriptor(v,g)),b&&null==b.set||(m[g]=i(u[g],p-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(u);for(g=0;g<w.length;g++){var _=w[g];(!(k=Object.getOwnPropertyDescriptor(u,_))||k.enumerable||l)&&(m[_]=i(u[_],p-1),k.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(l){var x=Object.getOwnPropertyNames(u);for(g=0;g<x.length;g++){var k,S=x[g];(k=Object.getOwnPropertyDescriptor(u,S))&&k.enumerable||(m[S]=i(u[S],p-1),Object.defineProperty(m,S,{enumerable:!1}))}}return m}(i,u)}function i(t){return Object.prototype.toString.call(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=i,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===i(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===i(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===i(t)},o.__getRegExpFlags=s,o}();t.exports&&(t.exports=e)},5933:(t,e,n)=>{var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,s=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&u&&"function"==typeof u.get?u.get:null,l=a&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,v=Function.prototype.toString,y=String.prototype.match,g="function"==typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,_="function"==typeof Symbol&&"object"==typeof Symbol.iterator,x=Object.prototype.propertyIsEnumerable,k=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),S=n(4654).custom,C=S&&T(S)?S:null,O="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function E(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function A(t){return String(t).replace(/"/g,"&quot;")}function M(t){return!("[object Array]"!==P(t)||O&&"object"==typeof t&&O in t)}function T(t){if(_)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!w)return!1;try{return w.call(t),!0}catch(e){}return!1}t.exports=function t(e,n,r,o){var a=n||{};if(D(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(D(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!D(a,"customInspect")||a.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(D(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return R(e,a);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var m=void 0===a.depth?5:a.depth;if(void 0===r&&(r=0),r>=m&&m>0&&"object"==typeof e)return M(e)?"[Array]":"[Object]";var b,x=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=Array(t.indent+1).join(" ")}return{base:n,prev:Array(e+1).join(n)}}(a,r);if(void 0===o)o=[];else if(I(o,e)>=0)return"[Circular]";function S(e,n,i){if(n&&(o=o.slice()).push(n),i){var s={depth:a.depth};return D(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),t(e,s,r+1,o)}return t(e,a,r+1,o)}if("function"==typeof e){var j=function(t){if(t.name)return t.name;var e=y.call(v.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),N=B(e,S);return"[Function"+(j?": "+j:" (anonymous)")+"]"+(N.length>0?" { "+N.join(", ")+" }":"")}if(T(e)){var z=_?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):w.call(e);return"object"!=typeof e||_?z:L(z)}if((b=e)&&"object"==typeof b&&("undefined"!=typeof HTMLElement&&b instanceof HTMLElement||"string"==typeof b.nodeName&&"function"==typeof b.getAttribute)){for(var q="<"+String(e.nodeName).toLowerCase(),U=e.attributes||[],H=0;H<U.length;H++)q+=" "+U[H].name+"="+E(A(U[H].value),"double",a);return q+=">",e.childNodes&&e.childNodes.length&&(q+="..."),q+"</"+String(e.nodeName).toLowerCase()+">"}if(M(e)){if(0===e.length)return"[]";var W=B(e,S);return x&&!function(t){for(var e=0;e<t.length;e++)if(I(t[e],"\n")>=0)return!1;return!0}(W)?"["+V(W,x)+"]":"[ "+W.join(", ")+" ]"}if(function(t){return!("[object Error]"!==P(t)||O&&"object"==typeof t&&O in t)}(e)){var J=B(e,S);return 0===J.length?"["+String(e)+"]":"{ ["+String(e)+"] "+J.join(", ")+" }"}if("object"==typeof e&&u){if(C&&"function"==typeof e[C])return e[C]();if("symbol"!==u&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{c.call(t)}catch(q){return!0}return t instanceof Map}catch(e){}return!1}(e)){var Q=[];return s.call(e,function(t,n){Q.push(S(n,e,!0)+" => "+S(t,e))}),F("Map",i.call(e),Q,x)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{i.call(t)}catch(e){return!0}return t instanceof Set}catch(n){}return!1}(e)){var K=[];return l.call(e,function(t){K.push(S(t,e))}),F("Set",c.call(e),K,x)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{h.call(t,h)}catch(q){return!0}return t instanceof WeakMap}catch(e){}return!1}(e))return $("WeakMap");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{f.call(t,f)}catch(q){return!0}return t instanceof WeakSet}catch(e){}return!1}(e))return $("WeakSet");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{return d.call(t),!0}catch(e){}return!1}(e))return $("WeakRef");if(function(t){return!("[object Number]"!==P(t)||O&&"object"==typeof t&&O in t)}(e))return L(S(Number(e)));if(function(t){if(!t||"object"!=typeof t||!g)return!1;try{return g.call(t),!0}catch(e){}return!1}(e))return L(S(g.call(e)));if(function(t){return!("[object Boolean]"!==P(t)||O&&"object"==typeof t&&O in t)}(e))return L(p.call(e));if(function(t){return!("[object String]"!==P(t)||O&&"object"==typeof t&&O in t)}(e))return L(S(String(e)));if(!function(t){return!("[object Date]"!==P(t)||O&&"object"==typeof t&&O in t)}(e)&&!function(t){return!("[object RegExp]"!==P(t)||O&&"object"==typeof t&&O in t)}(e)){var G=B(e,S),Z=k?k(e)===Object.prototype:e instanceof Object||e.constructor===Object,X=e instanceof Object?"":"null prototype",Y=!Z&&O&&Object(e)===e&&O in e?P(e).slice(8,-1):X?"Object":"",tt=(Z||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(Y||X?"["+[].concat(Y||[],X||[]).join(": ")+"] ":"");return 0===G.length?tt+"{}":x?tt+"{"+V(G,x)+"}":tt+"{ "+G.join(", ")+" }"}return String(e)};var j=Object.prototype.hasOwnProperty||function(t){return t in this};function D(t,e){return j.call(t,e)}function P(t){return m.call(t)}function I(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function R(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return R(t.slice(0,e.maxStringLength),e)+r}return E(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,N),"single",e)}function N(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function L(t){return"Object("+t+")"}function $(t){return t+" { ? }"}function F(t,e,n,r){return t+" ("+e+") {"+(r?V(n,r):n.join(", "))+"}"}function V(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+t.join(","+n)+"\n"+e.prev}function B(t,e){var n=M(t),r=[];if(n){r.length=t.length;for(var o=0;o<t.length;o++)r[o]=D(t,o)?e(t[o],t):""}var i,s="function"==typeof b?b(t):[];if(_){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=s[a]}for(var u in t)D(t,u)&&(n&&String(Number(u))===u&&u<t.length||_&&i["$"+u]instanceof Symbol||(/[^\w$]/.test(u)?r.push(e(u,t)+": "+e(t[u],t)):r.push(u+": "+e(t[u],t))));if("function"==typeof b)for(var c=0;c<s.length;c++)x.call(t,s[c])&&r.push("["+e(s[c])+"]: "+e(t[s[c]],t));return r}},926:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},6825:(t,e,n)=>{"use strict";var r=n(59),o=n(1474),i=n(926),s=n(3509),a=n(5426),u=o(s(),Object);r(u,{getPolyfill:s,implementation:i,shim:a}),t.exports=u},3509:(t,e,n)=>{"use strict";var r=n(926);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},5426:(t,e,n)=>{"use strict";var r=n(3509),o=n(59);t.exports=function(){var t=r();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},3082:(t,e,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=n(7765),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=s(t),a=e&&"[object String]"===i.call(t),h=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=c&&n;if(a&&t.length>0&&!o.call(t,0))for(var m=0;m<t.length;++m)h.push(String(m));if(r&&t.length>0)for(var v=0;v<t.length;++v)h.push(String(v));else for(var y in t)p&&"prototype"===y||!o.call(t,y)||h.push(String(y));if(u)for(var g=function(t){if("undefined"==typeof window||!d)return f(t);try{return f(t)}catch(e){return!1}}(t),b=0;b<l.length;++b)g&&"constructor"===l[b]||!o.call(t,l[b])||h.push(l[b]);return h}}t.exports=r},5453:(t,e,n)=>{"use strict";var r=Array.prototype.slice,o=n(7765),i=Object.keys,s=i?function(t){return i(t)}:n(3082),a=Object.keys;s.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return o(t)?a(r.call(t)):a(t)}):Object.keys=s,Object.keys||s},t.exports=s},7765:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},4105:function(t,e){var n,r,o;!function(i,s){"use strict";"object"==typeof t.exports?t.exports=s():(r=[],void 0===(o="function"==typeof(n=s)?n.apply(e,r):n)||(t.exports=o))}(0,function(){"use strict";var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function n(t){if(!t)return!0;if(o(t)&&0===t.length)return!0;if("string"!=typeof t){for(var n in t)if(e(t,n))return!1;return!0}return!1}function r(e){return t.call(e)}var o=Array.isArray||function(e){return"[object Array]"===t.call(e)};function i(t){var e=parseInt(t);return e.toString()===t?e:t}function s(t){var s,a,u=function(t){return Object.keys(u).reduce(function(e,n){return"create"===n||"function"==typeof u[n]&&(e[n]=u[n].bind(u,t)),e},{})};function c(t,e){if(s(t,e))return t[e]}function l(t,e,n,r){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return l(t,e.split(".").map(i),n,r);var o=e[0],s=a(t,o);return 1===e.length?(void 0!==s&&r||(t[o]=n),s):(void 0===s&&(t[o]="number"==typeof e[1]?[]:{}),l(t[o],e.slice(1),n,r))}return s=(t=t||{}).includeInheritedProps?function(){return!0}:function(t,n){return"number"==typeof n&&Array.isArray(t)||e(t,n)},a=t.includeInheritedProps?function(t,e){"string"!=typeof e&&"number"!=typeof e&&(e=String(e));var n=c(t,e);if("__proto__"===e||"prototype"===e||"constructor"===e&&"function"==typeof n)throw new Error("For security reasons, object's magic properties cannot be set");return n}:function(t,e){return c(t,e)},u.has=function(n,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!n;for(var s=0;s<r.length;s++){var a=i(r[s]);if(!("number"==typeof a&&o(n)&&a<n.length||(t.includeInheritedProps?a in Object(n):e(n,a))))return!1;n=n[a]}return!0},u.ensureExists=function(t,e,n){return l(t,e,n,!0)},u.set=function(t,e,n,r){return l(t,e,n,r)},u.insert=function(t,e,n,r){var i=u.get(t,e);r=~~r,o(i)||u.set(t,e,i=[]),i.splice(r,0,n)},u.empty=function(t,e){var i,a;if(!n(e)&&null!=t&&(i=u.get(t,e))){if("string"==typeof i)return u.set(t,e,"");if(function(t){return"boolean"==typeof t||"[object Boolean]"===r(t)}(i))return u.set(t,e,!1);if("number"==typeof i)return u.set(t,e,0);if(o(i))i.length=0;else{if(!function(t){return"object"==typeof t&&"[object Object]"===r(t)}(i))return u.set(t,e,null);for(a in i)s(i,a)&&delete i[a]}}},u.push=function(t,e){var n=u.get(t,e);o(n)||u.set(t,e,n=[]),n.push.apply(n,Array.prototype.slice.call(arguments,2))},u.coalesce=function(t,e,n){for(var r,o=0,i=e.length;o<i;o++)if(void 0!==(r=u.get(t,e[o])))return r;return n},u.get=function(t,e,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return n;if("string"==typeof e)return u.get(t,e.split("."),n);var r=i(e[0]),o=a(t,r);return void 0===o?n:1===e.length?o:u.get(t[r],e.slice(1),n)},u.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(n(e))return t;if("string"==typeof e)return u.del(t,e.split("."));var r=i(e[0]);return a(t,r),s(t,r)?1!==e.length?u.del(t[r],e.slice(1)):(o(t)?t.splice(r,1):delete t[r],t):t},u}var a=s();return a.create=s,a.withInheritedProps=s({includeInheritedProps:!0}),a})},4730:(t,e,n)=>{"use strict";var r=n(5453),o=function(t){return null!=t},i=n(944)(),s=n(8818),a=Object,u=s("Array.prototype.push"),c=s("Object.prototype.propertyIsEnumerable"),l=i?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(!o(t))throw new TypeError("target must be an object");var n,s,f,h,d,p,m,v=a(t);for(n=1;n<arguments.length;++n){s=a(arguments[n]),h=r(s);var y=i&&(Object.getOwnPropertySymbols||l);if(y)for(d=y(s),f=0;f<d.length;++f)c(s,m=d[f])&&u(h,m);for(f=0;f<h.length;++f)p=s[m=h[f]],c(s,m)&&(v[m]=p)}return v}},4280:(t,e,n)=>{"use strict";var r=n(59),o=n(1474),i=n(4730),s=n(8652),a=n(5854),u=o.apply(s()),c=function(t,e){return u(Object,arguments)};r(c,{getPolyfill:s,implementation:i,shim:a}),t.exports=c},8652:(t,e,n)=>{"use strict";var r=n(4730);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var o=Object.assign({},n),i="";for(var s in o)i+=s;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?r:Object.assign:r}},5854:(t,e,n)=>{"use strict";var r=n(59),o=n(8652);t.exports=function(){var t=o();return r(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},3169:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>U});var r=n(4169),o=n(890),i=n(1207),s=(n(9113),n(2936));function a(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}var u=a(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),c=a(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function l(t){if(!/^\d+-/.test(t))return(0,s.Tr)(s.Dq);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function f(t,e,n){var r,i,a;n||(n={deterministic_revs:!0});var f={status:"available"};if(t._deleted&&(f.deleted=!0),e)if(t._id||(t._id=(0,o.Vj)()),i=(0,o.OD)(t,n.deterministic_revs),t._rev){if((a=l(t._rev)).error)return a;t._rev_tree=[{pos:a.prefix,ids:[a.id,{status:"missing"},[[i,f,[]]]]}],r=a.prefix+1}else t._rev_tree=[{pos:1,ids:[i,f,[]]}],r=1;else if(t._revisions&&(t._rev_tree=function(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,o=[r[0],e,[]],i=1,s=r.length;i<s;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}(t._revisions,f),r=t._revisions.start,i=t._revisions.ids[0]),!t._rev_tree){if((a=l(t._rev)).error)return a;t._rev_tree=[{pos:r=a.prefix,ids:[i=a.id,f,[]]}]}(0,o.GE)(t._id),t._rev=r+"-"+i;var h={metadata:{},data:{}};for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)){var p="_"===d[0];if(p&&!u[d]){var m=(0,s.Tr)(s.cI,d);throw m.message=s.cI.message+": "+d,m}p&&!c[d]?h.metadata[d.slice(1)]=t[d]:h.data[d]=t[d]}return h}var h=n(9737),d=Number.MIN_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER+1,m=Number.MIN_SAFE_INTEGER+2,v=/[^a-zA-Z0-9_$]+|(^[^a-zA-Z_$])/g,y=/(\\.)|[^a-zA-Z0-9_$.]+|(^[^a-zA-Z_$])/g,g="\\".charCodeAt(0),b=/[^a-zA-Z0-9_$]+|(^[^a-zA-Z_$])/;function w(t,e){return t.replace(e?y:v,function(t){for(var n="",r=0;r<t.length;r++){var o=t.charCodeAt(r);o===g&&e||(n+="_c"+o+"_")}return n})}function _(t){for(var e of Object.keys(t)){if(b.test(e))return!0;if(null===t[e]||"boolean"==typeof t[e])return!0;if("object"==typeof t[e])return _(t[e])}}function x(t){if(!_(t))return!1;var e=Array.isArray(t),n=e?[]:{};return Object.keys(t).forEach(function(r){var o=e?r:w(r);n[o]=null===t[r]?d:"boolean"==typeof t[r]?t[r]?m:p:"object"==typeof t[r]?x(t[r]):t[r]}),n}var k="docs",S="meta";function C(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t((0,s.Tr)(s.cG,n,e.type))}}function O(t,e,n,o){return delete n._attachments[t].stub,o?(n._attachments[t].data=e.attachments[n._attachments[t].digest].data,Promise.resolve()):new Promise(function(o){(0,r.fM)(e.attachments[n._attachments[t].digest].data,function(e){n._attachments[t].data=(0,r.r3)(e),delete n._attachments[t].length,o()})})}function E(t,e){return(t.views[e].options&&t.views[e].options.def&&t.views[e].options.def.fields||[]).map(function(t){return"string"==typeof t?t:Object.keys(t)[0]})}function A(t){return"_find_idx/"+t.join("/")}var M=Math.pow(10,13);function T(t,e,n){return t[n.name]&&!t[n.name].versionchanged||(n.versionchanged=t[n.name]&&t[n.name].versionchanged,t[n.name]=new Promise(function(e,r){!function(t,e,n,r,i){var s=n.versionchanged?indexedDB.open(n.name):indexedDB.open(n.name,1*M+(new Date).getTime());s.onupgradeneeded=function(t){if(t.oldVersion>0&&t.oldVersion<M)throw new Error('Incorrect adapter: you should specify the "idb" adapter to open this DB');var e;e=t.target.result,Math.floor(t.oldVersion/M)<1&&(e.createObjectStore(k,{keyPath:"id"}).createIndex("seq","seq",{unique:!0}),e.createObjectStore(S,{keyPath:"id"})),function(t,e){var n=t.transaction.objectStore(k);n.getAll(IDBKeyRange.bound("_design/","_design/\uffff")).onsuccess=function(t){var r=t.target.result,o=Array.from(n.indexNames),i=r.filter(function(t){return 0===t.deleted&&t.revs[t.rev].data.views}).map(function(t){return t.revs[t.rev].data}).reduce(function(t,e){return Object.keys(e.views).reduce(function(t,n){var r=E(e,n);return r&&r.length>0&&(t[A(r)]=function(t){return["deleted"].concat(t.map(function(t){return t in["_id","_rev","_deleted","_attachments"]?t.substr(1):"data."+w(t,!0)}))}(r)),t},t)},{}),s=Object.keys(i),a=["seq"];o.forEach(function(t){-1===a.indexOf(t)&&-1===s.indexOf(t)&&n.deleteIndex(t)});var u=s.filter(function(t){return-1===o.indexOf(t)});try{u.forEach(function(t){n.createIndex(t,i[t])})}catch(c){e(c)}}}(s,i)},s.onblocked=function(t){console.error("onblocked, this should never happen",t)},s.onsuccess=function(e){var i=e.target.result;i.onabort=function(e){console.error("Database has a global failure",e.target.error),delete t[n.name],i.close()},i.onversionchange=function(){console.log("Database was made stale, closing handle"),t[n.name].versionchanged=!0,i.close()};var s={id:S},a=i.transaction([S],"readwrite");a.oncomplete=function(){r({idb:i,metadata:s})};var u=a.objectStore(S);u.get(S).onsuccess=function(t){var e=!1;"doc_count"in(s=t.target.result||s)||(e=!0,s.doc_count=0),"seq"in s||(e=!0,s.seq=0),"db_uuid"in s||(e=!0,s.db_uuid=(0,o.Vj)()),e&&u.put(s)}},s.onerror=function(t){i(t.target.error)}}(t,0,n,e,r)})),t[n.name]}function j(t,e,n,r){if(t.error)return r(t.error);t.txn.objectStore(k).get(e).onsuccess=function(e){var o,i=e.target.result;if(o=n.rev?n.latest?(0,h.pA)(n.rev,i):n.rev:i&&i.rev,i&&(!i.deleted||n.rev)&&o in i.revs){var a=i.revs[o].data;a._id=i.id,a._rev=o,r(null,{doc:a,metadata:i,ctx:t})}else r((0,s.Tr)(s.Uc,"missing"))}}function D(t,e,n,o,i,s){if(t.error)return s(t.error);var a;t.txn.objectStore(k).get(e).onsuccess=function(t){var e=t.target.result;a=e.attachments[e.revs[i.rev||e.rev].data._attachments[n].digest].data},t.txn.oncomplete=function(){!function(t,e,n){if(e.binary)return n(null,t);(0,r.fM)(t,function(t){n(null,(0,r.r3)(t))})}(a,i,s)},t.txn.onabort=s}function P(t,e,n){if(t.error)return n(t.error);t.txn.objectStore(k).get(e).onsuccess=function(t){t.target.result?n(null,t.target.result.rev_tree):n((0,s.Tr)(s.Uc))}}function I(t,e,n,r){if(t.error)return r(t.error);var o=t.txn.objectStore(k);o.get(e).onsuccess=function(t){var e=t.target.result;(0,h.fE)(e.rev_tree,function(t,e,r,o,i){-1!==n.indexOf(e+"-"+r)&&(i.status="missing")});var r=[];n.forEach(function(t){if(t in e.revs){if(e.revs[t].data._attachments)for(var n in e.revs[t].data._attachments)r.push(e.revs[t].data._attachments[n].digest);delete e.revs[t]}}),r.forEach(function(t){n.forEach(function(n){delete e.attachments[t].revs[n]}),Object.keys(e.attachments[t].revs).length||delete e.attachments[t]}),o.put(e)},t.txn.oncomplete=function(){r()}}var R=Number.NEGATIVE_INFINITY,N=[[[[[[[[[[[[]]]]]]]]]]]];function L(t,e,n){var r=A(e);return new Promise(function(o){t._openTransactionSafely([k],"readonly",function(i,s){if(i)return C(n)(i);s.onabort=C(n),s.ontimeout=C(n),-1===Array.from(s.objectStore(k).indexNames).indexOf(r)?t._freshen().then(function(){return L(t,e,n)}).then(o):o(s.objectStore(k).index(r))})})}function $(t,e,n){var r=this,o=e.split("/");return new Promise(function(t,e){r.get("_design/"+o[0]).then(function(i){var s=E(i,o[1]);if(!s)throw new Error("ddoc "+i._id+" with view "+o[1]+" does not have map.options.def.fields defined.");var a=n.skip,u=Number.isInteger(n.limit)&&n.limit;return L(r,s,e).then(function(r){var o=function(t){function e(t,e){return void 0!==t[e]}function n(t,e){return[0].concat(t).map(function(t){if(null===t&&e)return d;if(!0===t)return m;if(!1===t)return p;if(!e){if(null===t)return R;if(t.hasOwnProperty("\uffff"))return N}return t})}if(e(t,"inclusive_end")||(t.inclusive_end=!0),e(t,"inclusive_start")||(t.inclusive_start=!0),t.descending){var r=t.startkey,o=t.inclusive_start;t.startkey=t.endkey,t.endkey=r,t.inclusive_start=t.inclusive_end,t.inclusive_end=o}try{return e(t,"key")?IDBKeyRange.only(n(t.key,!0)):e(t,"startkey")&&!e(t,"endkey")?IDBKeyRange.lowerBound(n(t.startkey),!t.inclusive_start):!e(t,"startkey")&&e(t,"endkey")?IDBKeyRange.upperBound(n(t.endkey),!t.inclusive_end):e(t,"startkey")&&e(t,"endkey")?IDBKeyRange.bound(n(t.startkey),n(t.endkey),!t.inclusive_start,!t.inclusive_end):IDBKeyRange.only([0])}catch(i){throw console.error("Could not generate keyRange",i,t),Error("Could not generate key range with "+JSON.stringify(t))}}(n),i=r.openCursor(o,n.descending?"prev":"next"),s=[];i.onerror=C(e),i.onsuccess=function(e){var n,r,o=e.target.result;return o&&0!==u?a?(o.advance(a),void(a=!1)):(u&&(u-=1),s.push({doc:(n=o.value,r=n.revs[n.rev].data,r._id=n.id,r._rev=n.rev,n.deleted&&(r._deleted=!0),r)}),void o.continue()):t({rows:s})}})}).catch(e)})}function F(){return Promise.resolve()}var V="indexeddb",B=new o.b6,z={};function q(t,e){var n=this,a={},u=function(e){return function(){var r=Array.prototype.slice.call(arguments);T(z,0,t).then(function(t){a=t.metadata,r.unshift(t.idb),e.apply(n,r)}).catch(function(t){var e=r.unshift();"function"==typeof e?e(t):console.error(t)})}},c=function(e){return function(){var r=Array.prototype.slice.call(arguments);return new Promise(function(o,i){T(z,0,t).then(function(t){return a=t.metadata,r.unshift(t.idb),e.apply(n,r)}).then(o).catch(i)})}},l=function(e,r,o){return r=r||[k],o=o||"readonly",function(){var i=Array.prototype.slice.call(arguments),s={};T(z,0,t).then(function(t){a=t.metadata,s.txn=t.idb.transaction(r,o),i.unshift(s),e.apply(n,i)}).catch(function(t){console.error("Failed to establish transaction safely"),console.error(t),s.error=t})}};n._openTransactionSafely=function(t,e,n){l(function(t,e){e(t.error,t.txn)},t,e)(n)},n._remote=!1,n.type=function(){return V},n._id=u(function(t,e){e(null,a.db_uuid)}),n._info=u(function(t,e){return function(t,e){e(null,{doc_count:t.doc_count,update_seq:t.seq})}(a,e)}),n._get=l(j),n._bulkDocs=u(function(e,o,u,c){!function(t,e,n,o,a,u,c){var l,d,p,m,v=[],y=[],g=a.revs_limit||1e3,b=-1===a.name.indexOf("-mrview-");function w(t){return/^_local/.test(t.id)?1:g}function _(t){var e={id:t.metadata.id,rev:t.metadata.rev,rev_tree:t.metadata.rev_tree,revs:t.metadata.revs||{}};return e.revs[e.rev]={data:t.data,deleted:t.metadata.deleted},e}function O(t){t===p&&l.objectStore(S).put(o)}for(var E=0,A=e.docs.length;E<A;E++){var M;try{M=f(e.docs[E],n.new_edits,a)}catch(T){M=T}if(M.error)return c(M);y.push(_(M))}(m=y.map(function(t){var e=t.revs[t.rev].data;if(!e._attachments)return Promise.resolve(e);var n=Object.keys(e._attachments).map(function(t){return e._attachments[t].name=t,function(t){if(t.stub)return Promise.resolve(t);var e;if("string"==typeof t.data){if((e=function(t){try{return atob(t)}catch(e){return{error:(0,s.Tr)(s.eC,"Attachment is not a valid base64 string")}}}(t.data)).error)return Promise.reject(e.error);t.data=(0,r.sG)(e,t.content_type)}else e=t.data;return new Promise(function(n){(0,i.u)(e,function(r){t.digest="md5-"+r,t.length=e.size||e.length||0,n(t)})})}(e._attachments[t])});return Promise.all(n).then(function(t){var n={};return t.forEach(function(t){n[t.name]=t,delete t.name}),e._attachments=n,e})}),Promise.all(m)).then(function(){t._openTransactionSafely([k,S],"readwrite",function(t,e){if(t)return c(t);(l=e).onabort=function(){c(d)},l.ontimeout=C(c),l.oncomplete=function(){u.notify(a.name),c(null,v)},function(t,e){var r=0,i={};function u(u){u.target.result&&(i[u.target.result.id]=u.target.result),++r===e.length&&function(t,e,r){e.forEach(function(e,i){var u;if("was_delete"in n&&!r.hasOwnProperty(e.id))u=(0,s.Tr)(s.Uc,"deleted");else if(n.new_edits&&!r.hasOwnProperty(e.id)&&function(t){return"missing"===t.rev_tree[0].ids[1].status}(e))u=(0,s.Tr)(s.gW);else if(r.hasOwnProperty(e.id)){if(0==(u=function(t,e,r){if(e.rev in r.revs&&!n.new_edits)return!1;var o=/^1-/.test(e.rev);if(r.deleted&&!e.deleted&&n.new_edits&&o){var i=e.revs[e.rev].data;i._rev=r.rev,i._id=r.id,e=_(f(i,n.new_edits,a))}var u=(0,h.TS)(r.rev_tree,e.rev_tree[0],w(e));e.stemmedRevs=u.stemmedRevs,e.rev_tree=u.tree;var c=r.revs;return c[e.rev]=e.revs[e.rev],e.revs=c,e.attachments=r.attachments,n.new_edits&&(r.deleted&&e.deleted||!r.deleted&&"new_leaf"!==u.conflicts||r.deleted&&!e.deleted&&"new_branch"===u.conflicts||r.rev===e.rev)?(0,s.Tr)(s.gW):(e.wasDeleted=r.deleted,e)}(0,e,r[e.id])))return}else{var c=(0,h.TS)([],e.rev_tree[0],w(e));e.rev_tree=c.tree,e.stemmedRevs=c.stemmedRevs,(u=e).isNewDoc=!0,u.wasDeleted=e.revs[e.rev].deleted?1:0}u.error?v[i]=u:(r[u.id]=u,p=i,function(t,e,n){var r=(0,h.S)(e),i=e.rev,a=/^_local/.test(e.id),u=e.revs[r].data;if(b){var c=x(u);c?(e.data=c,delete e.data._attachments):e.data=u}else e.data=u;if(e.rev=r,e.deleted=e.revs[r].deleted?1:0,!a){e.seq=++o.seq;var l=0;e.isNewDoc?l=e.deleted?0:1:e.wasDeleted!==e.deleted&&(l=e.deleted?-1:1),o.doc_count+=l}if(delete e.isNewDoc,delete e.wasDeleted,e.stemmedRevs&&e.stemmedRevs.forEach(function(t){delete e.revs[t]}),delete e.stemmedRevs,"attachments"in e||(e.attachments={}),u._attachments)for(var f in u._attachments){var p=u._attachments[f];if(p.stub){if(!(p.digest in e.attachments))return d=(0,s.Tr)(s.wp),void t.abort();e.attachments[p.digest].revs[i]=!0}else e.attachments[p.digest]=p,e.attachments[p.digest].revs={},e.attachments[p.digest].revs[i]=!0,u._attachments[f]={stub:!0,digest:p.digest,content_type:p.content_type,length:p.length,revpos:parseInt(i,10)}}if(a&&e.deleted)return t.objectStore(k).delete(e.id).onsuccess=function(){v[n]={ok:!0,id:e.id,rev:"0-0"}},void O(n);t.objectStore(k).put(e).onsuccess=function(){v[n]={ok:!0,id:e.id,rev:i},O(n)}}(t,u,i))})}(t,e,i)}e.forEach(function(e){t.objectStore(k).get(e.id).onsuccess=u})}(l,y)})}).catch(function(t){c(t)})}(n,o,u,a,t,B,c)}),n._allDocs=l(function(t,e,n){!function(t,e,n,r){if(t.error)return r(t.error);if(0===n.limit){var o={total_rows:e.doc_count,offset:n.skip,rows:[]};return n.update_seq&&(o.update_seq=e.seq),r(null,o)}var i,a=[],u=[],c="keys"in n&&n.keys,l=n.skip||0,f="number"==typeof n.limit?n.limit:-1,d="descending"in n&&n.descending?"prev":null;if(!c&&(i=function(t,e,n,r,o){try{if(t&&e)return o?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return o?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return o?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(i){return{error:i}}return null}("startkey"in n&&n.startkey,"endkey"in n&&n.endkey,!1!==n.inclusive_end,"key"in n&&n.key,d))&&i.error)return function(t,e,n,r){if("DataError"===n.name&&0===n.code){var o={total_rows:e.doc_count,offset:t.skip,rows:[]};return t.update_seq&&(o.update_seq=e.seq),r(null,o)}r((0,s.Tr)(s.cG,n.name,n.message))}(n,e,i.error,r);var p=t.txn.objectStore(k);if(t.txn.oncomplete=function(){Promise.all(u).then(function(){var t={total_rows:e.doc_count,offset:0,rows:a};n.update_seq&&(t.update_seq=e.seq),r(null,t)})},c)return function(t,e,n){var r=new Array(t.length),o=0;t.forEach(function(i,s){e.get(i).onsuccess=function(e){r[s]=e.target.result?e.target.result:{key:i,error:"not_found"},++o===t.length&&r.forEach(function(t){n(t)})}})}(n.keys,p,m);function m(t){if(t.error&&c)return a.push(t),!0;var e={id:t.id,key:t.id,value:{rev:t.rev}};if(t.deleted)c&&(a.push(e),e.value.deleted=!0,e.doc=null);else if(l--<=0&&(a.push(e),n.include_docs&&function(t,e){var r=e.revs[e.rev].data;if(t.doc=r,t.doc._id=e.id,t.doc._rev=e.rev,n.conflicts){var o=(0,h.DJ)(e);o.length&&(t.doc._conflicts=o)}if(n.attachments&&r._attachments)for(var i in r._attachments)u.push(O(i,e,t.doc,n.binary))}(e,t),0==--f))return!1;return!0}(d?p.openCursor(i,d):p.openCursor(i)).onsuccess=function(t){var e=t.target.result&&t.target.result.value;if(e){if(/^_local/.test(e.id))return t.target.result.continue();m(e)&&t.target.result.continue()}}}(t,a,e,n)}),n._getAttachment=l(D),n._changes=l(function(e,r){!function(t,e,n,r,i){if(t.error)return i.complete(t.error);if(i.continuous){var s=r.name+":"+(0,o.Vj)();return e.addListener(r.name,s,n,i),e.notify(r.name),{cancel:function(){e.removeListener(r.name,s)}}}var a="limit"in i?i.limit:-1;0===a&&(a=1);var u,c=t.txn.objectStore(k).index("seq"),l=(0,o.sP)(i),f=0,h=i.since||0,d=[],p=[];u=i.descending?c.openCursor(null,"prev"):c.openCursor(IDBKeyRange.lowerBound(i.since,!0)),t.txn.oncomplete=function(){Promise.all(p).then(function(){i.complete(null,{results:d,last_seq:h})})},u.onsuccess=function(t){if(t.target.result){var e=t.target.result,n=e.value;if(n.data=n.revs[n.rev].data,n.data._id=n.id,n.data._rev=n.rev,n.deleted&&(n.data._deleted=!0),i.doc_ids&&-1===i.doc_ids.indexOf(n.id))return e.continue();var r=i.processChange(n.data,n,i);r.seq=n.seq,h=n.seq;var o=l(r);if("object"==typeof o)return i.complete(o);if(o)if(f++,i.return_docs&&d.push(r),i.include_docs&&i.attachments&&n.data._attachments){var s=[];for(var u in n.data._attachments){var c=O(u,n,r.doc,i.binary);s.push(c),p.push(c)}Promise.all(s).then(function(){i.onChange(r)})}else i.onChange(r);f!==a&&e.continue()}}}(e,B,n,t,r)}),n._getRevisionTree=l(P),n._doCompaction=l(I,[k],"readwrite"),n._customFindAbstractMapper={query:c($),viewCleanup:c(F)},n._destroy=function(e,n){return function(t,e,n,r){function o(){indexedDB.deleteDatabase(t.name).onsuccess=function(){delete e[t.name],r(null,{ok:!0})}}n.removeAllListeners(t.name),t.name in e?e[t.name].then(function(t){t.idb.close(),o()}):o()}(t,z,B,n)},n._close=u(function(e,n){delete z[t.name],e.close(),n()}),n._freshen=function(){return new Promise(function(t){n._close(function(){u(t)()})})},setTimeout(function(){e(null,n)})}q.valid=function(){return!0};const U=function(t){t.adapter(V,q,!0)}},4169:(t,e,n)=>{"use strict";n.d(e,{r3:()=>r,W7:()=>s,sG:()=>i,LX:()=>u,fM:()=>a});var r=function(t){return btoa(t)};function o(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}function i(t,e){return function(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}([o(t)],{type:e})}function s(t,e){return i(atob(t),e)}function a(t,e){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";if(r)return e(n);e(function(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,o=0;o<r;o++)e+=String.fromCharCode(n[o]);return e}(n))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function u(t,e){var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}},9113:(t,e,n)=>{"use strict";function r(t){return"$"+t}function o(t){return t.substring(1)}function i(){this._store={}}function s(t){if(this._store=new i,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}var a,u;n.d(e,{l:()=>a,D:()=>u}),i.prototype.get=function(t){var e=r(t);return this._store[e]},i.prototype.set=function(t,e){var n=r(t);return this._store[n]=e,!0},i.prototype.has=function(t){return r(t)in this._store},i.prototype.delete=function(t){var e=r(t),n=e in this._store;return delete this._store[e],n},i.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,r=e.length;n<r;n++){var i=e[n];t(this._store[i],i=o(i))}},Object.defineProperty(i.prototype,"size",{get:function(){return Object.keys(this._store).length}}),s.prototype.add=function(t){return this._store.set(t,!0)},s.prototype.has=function(t){return this._store.has(t)},s.prototype.forEach=function(t){this._store.forEach(function(e,n){t(n)})},Object.defineProperty(s.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(a=Set,u=Map):(a=s,u=i)},2936:(t,e,n)=>{"use strict";n.d(e,{kD:()=>i,Uc:()=>s,gW:()=>a,JE:()=>u,Xt:()=>c,zG:()=>l,I4:()=>f,eC:()=>h,bi:()=>d,cI:()=>p,y3:()=>m,nM:()=>v,Dq:()=>g,wp:()=>b,cG:()=>y,Tr:()=>w,G3:()=>_});var r=n(8485);function o(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}n.n(r)()(o,Error),o.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new o(401,"unauthorized","Name or password is incorrect.");var i=new o(400,"bad_request","Missing JSON list of 'docs'"),s=new o(404,"not_found","missing"),a=new o(409,"conflict","Document update conflict"),u=new o(400,"bad_request","_id field must contain a string"),c=new o(412,"missing_id","_id is required for puts"),l=new o(400,"bad_request","Only reserved document ids may start with underscore."),f=(new o(412,"precondition_failed","Database not open"),new o(500,"unknown_error","Database encountered an unknown error")),h=new o(500,"badarg","Some query argument is invalid"),d=(new o(400,"invalid_request","Request was invalid"),new o(400,"query_parse_error","Some query parameter is invalid")),p=new o(500,"doc_validation","Bad special document member"),m=new o(400,"bad_request","Something wrong with the request"),v=new o(400,"bad_request","Document must be a JSON object"),y=(new o(404,"not_found","Database not found"),new o(500,"indexed_db_went_bad","unknown")),g=(new o(500,"web_sql_went_bad","unknown"),new o(500,"levelDB_went_went_bad","unknown"),new o(403,"forbidden","Forbidden by design doc validate_doc_update function"),new o(400,"bad_request","Invalid rev format")),b=(new o(412,"file_exists","The database could not be created, the file already exists."),new o(412,"missing_stub","A pre-existing attachment stub wasn't found"));function w(t,e){function n(e){for(var n=Object.getOwnPropertyNames(t),r=0,o=n.length;r<o;r++)"function"!=typeof t[n[r]]&&(this[n[r]]=t[n[r]]);void 0!==e&&(this.reason=e)}return n.prototype=o.prototype,new n(e)}function _(t){if("object"!=typeof t){var e=t;(t=f).data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}new o(413,"invalid_url","Provided URL is invalid")},1207:(t,e,n)=>{"use strict";n.d(e,{u:()=>c,$:()=>l});var r=n(4169),o=n(2186),i=n.n(o),s=self.setImmediate||self.setTimeout;function a(t,e,n,o,i){(n>0||o<e.size)&&(e=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}(e,n,o)),(0,r.LX)(e,function(e){t.append(e),i()})}function u(t,e,n,r,o){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),o()}function c(t,e){var n="string"==typeof t,o=n?t.length:t.size,c=Math.min(32768,o),l=Math.ceil(o/c),f=0,h=n?new(i()):new(i().ArrayBuffer),d=n?u:a;function p(){s(v)}function m(){var t,n=(t=h.end(!0),(0,r.r3)(t));e(n),h.destroy()}function v(){var e=f*c;f++,d(h,t,e,e+c,f<l?p:m)}v()}function l(t){return i().hash(t)}},2186:t=>{t.exports=function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+e[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+e[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&n)+e[3]-1044525330|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+e[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+e[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&n)+e[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+e[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+e[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&n)+e[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+e[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+e[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&n)+e[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+e[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|o>>>18)+i|0)&n|i&~n)+e[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+e[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|o>>>18)+i|0)&n|i&~n)+e[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+e[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|o>>>18)+i|0)&n|i&~n)+e[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+e[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|o>>>18)+i|0)&n|i&~n)+e[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+e[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|o>>>16)+i|0)^i^n)+e[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+e[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|o>>>16)+i|0)^i^n)+e[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+e[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|o>>>16)+i|0)^i^n)+e[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+e[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|o>>>16)+i|0)^i^n)+e[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+e[7]+1126891415|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[14]-1416354905|0)<<15|o>>>17)+i|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+e[3]-1894986606|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[10]-1051523|0)<<15|o>>>17)+i|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+e[15]-30611744|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[6]-1560198380|0)<<15|o>>>17)+i|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+e[11]-1120210379|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[2]+718787259|0)<<15|o>>>17)+i|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+o|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function o(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function i(t){var e,o,i,s,a,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)n(l,r(t.substring(e-64,e)));for(o=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(l,i),e=0;e<16;e+=1)i[e]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,i[14]=a,i[15]=u,n(l,i),l}function s(t){var n,r="";for(n=0;n<4;n+=1)r+=e[t>>8*n+4&15]+e[t>>8*n&15];return r}function a(t){var e;for(e=0;e<t.length;e+=1)t[e]=s(t[e]);return t.join("")}function u(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function c(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function l(){this.reset()}return a(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(e,n){var r,o,i,s,a=this.byteLength,u=t(e,a),c=a;return void 0!==n&&(c=t(n,a)),u>c?new ArrayBuffer(0):(r=c-u,o=new ArrayBuffer(r),i=new Uint8Array(o),s=new Uint8Array(this,u,r),i.set(s),o)}}(),l.prototype.append=function(t){return this.appendBinary(u(t)),this},l.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,o=this._buff.length;for(e=64;e<=o;e+=64)n(this._hash,r(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},l.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=a(this._hash),t&&(n=c(n)),this.reset(),n},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(t,e){var r,o,i,s=e;if(t[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,t),s=0;s<16;s+=1)t[s]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,t[14]=o,t[15]=i,n(this._hash,t)},l.hash=function(t,e){return l.hashBinary(u(t),e)},l.hashBinary=function(t,e){var n=a(i(t));return e?c(n):n},(l.ArrayBuffer=function(){this.reset()}).prototype.append=function(t){var e,r,i,s,a=(r=this._buff.buffer,i=t,!0,(s=new Uint8Array(r.byteLength+i.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(i),r.byteLength),s),u=a.length;for(this._length+=t.byteLength,e=64;e<=u;e+=64)n(this._hash,o(a.subarray(e-64,e)));return this._buff=e-64<u?new Uint8Array(a.buffer.slice(e-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=a(this._hash),t&&(n=c(n)),this.reset(),n},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var t=l.prototype.getState.call(this);return t.buff=String.fromCharCode.apply(null,new Uint8Array(t.buff)),t},l.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=t.charCodeAt(n);return i}(t.buff),l.prototype.setState.call(this,t)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(t,e){var r=a(function(t){var e,r,i,s,a,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)n(l,o(t.subarray(e-64,e)));for(r=(t=e-64<c?t.subarray(e-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(l,i),e=0;e<16;e+=1)i[e]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,i[14]=a,i[15]=u,n(l,i),l}(new Uint8Array(t)));return e?c(r):r},l}()},9737:(t,e,n)=>{"use strict";function r(t){for(var e,n,r,o,i=t.rev_tree.slice();o=i.pop();){var s=o.ids,a=s[2],u=o.pos;if(a.length)for(var c=0,l=a.length;c<l;c++)i.push({pos:u+1,ids:a[c]});else{var f=!!s[1].deleted,h=s[0];e&&!(r!==f?r:n!==u?n<u:e<h)||(e=h,n=u,r=f)}}return n+"-"+e}function o(t,e){for(var n,r=t.slice();n=r.pop();)for(var o=n.pos,i=n.ids,s=i[2],a=e(0===s.length,o,i[0],n.ctx,i[1]),u=0,c=s.length;u<c;u++)r.push({pos:o+1,ids:s[u],ctx:a})}function i(t,e){return t.pos-e.pos}function s(t){var e=[];o(t,function(t,n,r,o,i){t&&e.push({rev:n+"-"+r,pos:n,opts:i})}),e.sort(i).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function a(t){for(var e=r(t),n=s(t.rev_tree),o=[],i=0,a=n.length;i<a;i++){var u=n[i];u.rev===e||u.opts.deleted||o.push(u.rev)}return o}function u(t){for(var e,n=[],r=t.slice();e=r.pop();){var o=e.pos,i=e.ids,s=i[0],a=i[1],u=i[2],c=0===u.length,l=e.history?e.history.slice():[];l.push({id:s,opts:a}),c&&n.push({pos:o+1-l.length,ids:l});for(var f=0,h=u.length;f<h;f++)r.push({pos:o+1,ids:u[f],history:l})}return n.reverse()}function c(t,e){return t.pos-e.pos}function l(t,e,n){var r=function(t,e,n){for(var r,o=0,i=t.length;o<i;)n(t[r=o+i>>>1],e)<0?o=r+1:i=r;return o}(t,e,n);t.splice(r,0,e)}function f(t,e){for(var n,r,o=e,i=t.length;o<i;o++){var s=t[o],a=[s.id,s.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function h(t,e){return t[0]<e[0]?-1:1}function d(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,s=o.tree2;(i[1].status||s[1].status)&&(i[1].status="available"===i[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(i[2][0]){for(var u=!1,c=0;c<i[2].length;c++)i[2][c][0]===s[2][a][0]&&(n.push({tree1:i[2][c],tree2:s[2][a]}),u=!0);u||(r="new_branch",l(i[2],s[2][a],h))}else r="new_leaf",i[2][0]=s[2][a]}return{conflicts:r,tree:t}}function p(t,e,n){var r,o=[],i=!1,s=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var a=0,u=t.length;a<u;a++){var l=t[a];if(l.pos===e.pos&&l.ids[0]===e.ids[0])r=d(l.ids,e.ids),o.push({pos:l.pos,ids:r.tree}),i=i||r.conflicts,s=!0;else if(!0!==n){var f=l.pos<e.pos?l:e,h=l.pos<e.pos?e:l,p=[],m=[];for(m.push({ids:f.ids,diff:h.pos-f.pos,parent:null,parentIdx:null});m.length>0;){var v=m.pop();if(0!==v.diff)for(var y=v.ids[2],g=0,b=y.length;g<b;g++)m.push({ids:y[g],diff:v.diff-1,parent:v.ids,parentIdx:g});else v.ids[0]===h.ids[0]&&p.push(v)}var w=p[0];w?(r=d(w.ids,h.ids),w.parent[2][w.parentIdx]=r.tree,o.push({pos:f.pos,ids:f.ids}),i=i||r.conflicts,s=!0):o.push(l)}else o.push(l)}return s||o.push(e),o.sort(c),{tree:o,conflicts:i||"internal_node"}}function m(t,e,n){var r=p(t,e),i=function(t,e){for(var n,r,i=u(t),s=0,a=i.length;s<a;s++){var c,l=i[s],h=l.ids;if(h.length>e){n||(n={});var d=h.length-e;c={pos:l.pos+d,ids:f(h,d)};for(var m=0;m<d;m++)n[l.pos+m+"-"+h[m].id]=!0}else c={pos:l.pos,ids:f(h,0)};r=r?p(r,c,!0).tree:[c]}return n&&o(r,function(t,e,r){delete n[e+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function v(t){return t.ids}function y(t,e){e||(e=r(t));for(var n,o=e.substring(e.indexOf("-")+1),i=t.rev_tree.map(v);n=i.pop();){if(n[0]===o)return!!n[1].deleted;i=i.concat(n[2])}}function g(t){return/^_local/.test(t)}function b(t,e){for(var n,r=e.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,s=i[0],a=i[1],u=i[2],c=0===u.length,l=n.history?n.history.slice():[];if(l.push({id:s,pos:o,opts:a}),c)for(var f=0,h=l.length;f<h;f++){var d=l[f];if(d.pos+"-"+d.id===t)return o+"-"+s}for(var p=0,m=u.length;p<m;p++)r.push({pos:o+1,ids:u[p],history:l})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}n.d(e,{DJ:()=>a,cI:()=>s,uY:()=>y,zB:()=>g,TS:()=>m,vc:()=>u,fE:()=>o,S:()=>r,pA:()=>b})},890:(t,e,n)=>{"use strict";n.d(e,{D3:()=>_,f0:()=>j,o:()=>C,b6:()=>E,d9:()=>g,ui:()=>M,KT:()=>T,sP:()=>D,xH:()=>P,yq:()=>A,eW:()=>O,GE:()=>I,Q1:()=>R,xS:()=>N,Y3:()=>c(),Rc:()=>$,IH:()=>b,VO:()=>L,ei:()=>x,OD:()=>B,m6:()=>F,Vi:()=>w,H:()=>V,Vj:()=>z});var r=n(2376),o=n.n(r),i=n(9113),s=n(8485),a=n.n(s),u=n(6346),c=n.n(u),l=n(2936),f=n(5458),h=n.n(f);const d=n(2117).v4;var p,m=n(1207),v=Function.prototype.toString,y=v.call(Object);function g(t){var e,n,r;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=g(t[n]);return e}if(t instanceof Date)return t.toISOString();if(function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}(t))return function(t){if(t instanceof ArrayBuffer)return function(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}(t);if(!function(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&v.call(n)==y}(t))return t;for(n in e={},t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=g(t[n]);void 0!==o&&(e[n]=o)}return e}function b(t){var e=!1;return o()(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function w(t){return o()(function(e){e=g(e);var n=this,r="function"==typeof e[e.length-1]&&e.pop(),o=new Promise(function(r,o){var i;try{var s=b(function(t,e){t?o(t):r(e)});e.push(s),(i=t.apply(n,e))&&"function"==typeof i.then&&r(i)}catch(a){o(a)}});return r&&o.then(function(t){r(null,t)},r),o})}function _(t,e){return w(o()(function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(t,e,n){if(t.constructor.listeners("debug").length){for(var r=["api",t.name,e],o=0;o<n.length-1;o++)r.push(n[o]);t.constructor.emit("debug",r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=["api",t.name,e];o=o.concat(n?["error",n]:["success",r]),t.constructor.emit("debug",o),i(n,r)}}}(r,t,n),this.taskqueue.isReady?e.apply(this,n):new Promise(function(e,o){r.taskqueue.addTask(function(i){i?o(i):e(r[t].apply(r,n))})})}))}function x(t,e){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];i in t&&(n[i]=t[i])}return n}function k(t){return t}function S(t){return[{ok:t}]}function C(t,e,n){var r=e.docs,o=new i.D;r.forEach(function(t){o.has(t.id)?o.get(t.id).push(t):o.set(t.id,[t])});var s=o.size,a=0,u=new Array(s),c=[];o.forEach(function(t,e){c.push(e)});var l=0;!function r(){if(!(l>=c.length)){var i=Math.min(l+6,c.length),f=c.slice(l,i);!function(i,c){i.forEach(function(i,l){var f=c+l,h=o.get(i),d=x(h[0],["atts_since","attachments"]);d.open_revs=h.map(function(t){return t.rev}),d.open_revs=d.open_revs.filter(k);var p=k;0===d.open_revs.length&&(delete d.open_revs,p=S),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in e&&(d[t]=e[t])}),t.get(i,d,function(t,e){var o,c;o=t?[{error:t}]:p(e),u[f]={id:i,docs:o},++a===s&&(c=[],u.forEach(function(t){t.docs.forEach(function(e){c.push({id:t.id,docs:[e]})})}),n(null,{results:c})),r()})})}(f,l),l+=f.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),p=!!localStorage.getItem("_pouch_check_localstorage")}catch(q){p=!1}function O(){return p}function E(){h().call(this),this._listeners={},function(t){O()&&addEventListener("storage",function(e){t.emit(e.key)})}(this)}function A(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function M(t){var e=0;return t||(e=2e3),function(t,e){var n=6e5;return t=parseInt(t,10)||0,(e=parseInt(e,10))!=e||e<=t?e=(t||1)<<1:e+=1,e>n&&(t=3e5,e=n),~~((e-t)*Math.random()+t)}(t,e)}function T(t,e){A("info","The above "+t+" is totally normal. "+e)}a()(E,h()),E.prototype.addListener=function(t,e,n,r){if(!this._listeners[e]){var o=this,i=!1;this._listeners[e]=s,this.on(t,s)}function s(){if(o._listeners[e])if(i)i="waiting";else{i=!0;var t=x(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(t).on("change",function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))}).on("complete",function(){"waiting"===i&&c()(s),i=!1}).on("error",function(){i=!1})}}},E.prototype.removeListener=function(t,e){e in this._listeners&&(h().prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},E.prototype.notifyLocalWindows=function(t){O()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},E.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var j="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};function D(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(r){r.doc||(r.doc={});var o=n&&function(t,e,n){try{return!t(e,n)}catch(o){var r="Filter function threw: "+o.toString();return(0,l.Tr)(l.y3,r)}}(t.filter,r.doc,e);if("object"==typeof o)return o;if(o)return!1;if(t.include_docs){if(!t.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function P(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function I(t){var e;if(t?"string"!=typeof t?e=(0,l.Tr)(l.JE):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=(0,l.Tr)(l.zG)):e=(0,l.Tr)(l.Xt),e)throw e}function R(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(A("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function N(t,e){return"listenerCount"in t?t.listenerCount(e):h().listenerCount(t,e)}function L(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function $(t){var e=L(t);return e?e.join("/"):null}function F(t,e){var n=[],r=[];for(var o in e)e.hasOwnProperty(o)&&(n.push(o),r.push(e[o]));return n.push(t),Function.apply(null,n).apply(null,r)}function V(t,e,n){return new Promise(function(r,o){t.get(e,function(i,s){if(i){if(404!==i.status)return o(i);s={}}var a=s._rev,u=n(s);if(!u)return r({updated:!1,rev:a});u._id=e,u._rev=a,r(function(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(r){if(409!==r.status)throw r;return V(t,e._id,n)})}(t,u,n))})})}function B(t,e){var n=g(t);return e?(delete n._rev_tree,(0,m.$)(JSON.stringify(n))):d().replace(/-/g,"").toLowerCase()}var z=d},6346:(t,e,n)=>{"use strict";var r,o,i,s=[n(4703),n(4895),n(3),n(5575),n(5414),n(2966)],a=-1,u=[],c=!1;function l(){r&&o&&(r=!1,o.length?u=o.concat(u):a=-1,u.length&&f())}function f(){if(!r){c=!1,r=!0;for(var t=u.length,e=setTimeout(l);t;){for(o=u,u=[];o&&++a<t;)o[a].run();a=-1,t=u.length}o=null,a=-1,r=!1,clearTimeout(e)}}for(var h=-1,d=s.length;++h<d;)if(s[h]&&s[h].test&&s[h].test()){i=s[h].install(f);break}function p(t,e){this.fun=t,this.array=e}p.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}},t.exports=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),c||r||(c=!0,i())}},5575:(t,e)=>{"use strict";e.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},e.install=function(t){var e=new global.MessageChannel;return e.port1.onmessage=t,function(){e.port2.postMessage(0)}}},3:(t,e)=>{"use strict";var n=global.MutationObserver||global.WebKitMutationObserver;e.test=function(){return n},e.install=function(t){var e=0,r=new n(t),o=global.document.createTextNode("");return r.observe(o,{characterData:!0}),function(){o.data=e=++e%2}}},4895:(t,e)=>{"use strict";e.test=function(){return"function"==typeof global.queueMicrotask},e.install=function(t){return function(){global.queueMicrotask(t)}}},5414:(t,e)=>{"use strict";e.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},e.install=function(t){return function(){var e=global.document.createElement("script");return e.onreadystatechange=function(){t(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e),t}}},2966:(t,e)=>{"use strict";e.test=function(){return!0},e.install=function(t){return function(){setTimeout(t,0)}}},5680:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n=[];for(let r=0;r<256;++r)n.push((r+256).toString(16).substr(1));e.default=function(t,e){const r=e||0;return(n[t[r+0]]+n[t[r+1]]+n[t[r+2]]+n[t[r+3]]+"-"+n[t[r+4]]+n[t[r+5]]+"-"+n[t[r+6]]+n[t[r+7]]+"-"+n[t[r+8]]+n[t[r+9]]+"-"+n[t[r+10]]+n[t[r+11]]+n[t[r+12]]+n[t[r+13]]+n[t[r+14]]+n[t[r+15]]).toLowerCase()}},2117:(t,e,n)=>{"use strict";Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return s.default}});var r=a(n(1218)),o=a(n(6062)),i=a(n(8829)),s=a(n(6235));function a(t){return t&&t.__esModule?t:{default:t}}},1454:(t,e)=>{"use strict";function n(t){return 14+(t+64>>>9<<4)+1}function r(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function o(t,e,n,o,i,s){return r((a=r(r(e,t),r(o,s)))<<(u=i)|a>>>32-u,n);var a,u}function i(t,e,n,r,i,s,a){return o(e&n|~e&r,t,e,i,s,a)}function s(t,e,n,r,i,s,a){return o(e&r|n&~r,t,e,i,s,a)}function a(t,e,n,r,i,s,a){return o(e^n^r,t,e,i,s,a)}function u(t,e,n,r,i,s,a){return o(n^(e|~r),t,e,i,s,a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){const e=[],n=32*t.length,r="0123456789abcdef";for(let o=0;o<n;o+=8){const n=t[o>>5]>>>o%32&255,i=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);e.push(i)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[n(e)-1]=e;let o=1732584193,c=-271733879,l=-1732584194,f=271733878;for(let n=0;n<t.length;n+=16){const e=o,h=c,d=l,p=f;o=i(o,c,l,f,t[n],7,-680876936),f=i(f,o,c,l,t[n+1],12,-389564586),l=i(l,f,o,c,t[n+2],17,606105819),c=i(c,l,f,o,t[n+3],22,-1044525330),o=i(o,c,l,f,t[n+4],7,-176418897),f=i(f,o,c,l,t[n+5],12,1200080426),l=i(l,f,o,c,t[n+6],17,-1473231341),c=i(c,l,f,o,t[n+7],22,-45705983),o=i(o,c,l,f,t[n+8],7,1770035416),f=i(f,o,c,l,t[n+9],12,-1958414417),l=i(l,f,o,c,t[n+10],17,-42063),c=i(c,l,f,o,t[n+11],22,-1990404162),o=i(o,c,l,f,t[n+12],7,1804603682),f=i(f,o,c,l,t[n+13],12,-40341101),l=i(l,f,o,c,t[n+14],17,-1502002290),c=i(c,l,f,o,t[n+15],22,1236535329),o=s(o,c,l,f,t[n+1],5,-165796510),f=s(f,o,c,l,t[n+6],9,-1069501632),l=s(l,f,o,c,t[n+11],14,643717713),c=s(c,l,f,o,t[n],20,-373897302),o=s(o,c,l,f,t[n+5],5,-701558691),f=s(f,o,c,l,t[n+10],9,38016083),l=s(l,f,o,c,t[n+15],14,-660478335),c=s(c,l,f,o,t[n+4],20,-405537848),o=s(o,c,l,f,t[n+9],5,568446438),f=s(f,o,c,l,t[n+14],9,-1019803690),l=s(l,f,o,c,t[n+3],14,-187363961),c=s(c,l,f,o,t[n+8],20,1163531501),o=s(o,c,l,f,t[n+13],5,-1444681467),f=s(f,o,c,l,t[n+2],9,-51403784),l=s(l,f,o,c,t[n+7],14,1735328473),c=s(c,l,f,o,t[n+12],20,-1926607734),o=a(o,c,l,f,t[n+5],4,-378558),f=a(f,o,c,l,t[n+8],11,-2022574463),l=a(l,f,o,c,t[n+11],16,1839030562),c=a(c,l,f,o,t[n+14],23,-35309556),o=a(o,c,l,f,t[n+1],4,-1530992060),f=a(f,o,c,l,t[n+4],11,1272893353),l=a(l,f,o,c,t[n+7],16,-155497632),c=a(c,l,f,o,t[n+10],23,-1094730640),o=a(o,c,l,f,t[n+13],4,681279174),f=a(f,o,c,l,t[n],11,-358537222),l=a(l,f,o,c,t[n+3],16,-722521979),c=a(c,l,f,o,t[n+6],23,76029189),o=a(o,c,l,f,t[n+9],4,-640364487),f=a(f,o,c,l,t[n+12],11,-421815835),l=a(l,f,o,c,t[n+15],16,530742520),c=a(c,l,f,o,t[n+2],23,-995338651),o=u(o,c,l,f,t[n],6,-198630844),f=u(f,o,c,l,t[n+7],10,1126891415),l=u(l,f,o,c,t[n+14],15,-1416354905),c=u(c,l,f,o,t[n+5],21,-57434055),o=u(o,c,l,f,t[n+12],6,1700485571),f=u(f,o,c,l,t[n+3],10,-1894986606),l=u(l,f,o,c,t[n+10],15,-1051523),c=u(c,l,f,o,t[n+1],21,-2054922799),o=u(o,c,l,f,t[n+8],6,1873313359),f=u(f,o,c,l,t[n+15],10,-30611744),l=u(l,f,o,c,t[n+6],15,-1560198380),c=u(c,l,f,o,t[n+13],21,1309151649),o=u(o,c,l,f,t[n+4],6,-145523070),f=u(f,o,c,l,t[n+11],10,-1120210379),l=u(l,f,o,c,t[n+2],15,718787259),c=u(c,l,f,o,t[n+9],21,-343485551),o=r(o,e),c=r(c,h),l=r(l,d),f=r(f,p)}return[o,c,l,f]}(function(t){if(0===t.length)return[];const e=8*t.length,r=new Uint32Array(n(e));for(let n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))}},8306:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};const n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16)},4990:(t,e)=>{"use strict";function n(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function r(t,e){return t<<e|t>>>32-e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){const e=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n))}t.push(128);const i=Math.ceil((t.length/4+2)/16),s=new Array(i);for(let n=0;n<i;++n){const e=new Uint32Array(16);for(let r=0;r<16;++r)e[r]=t[64*n+4*r]<<24|t[64*n+4*r+1]<<16|t[64*n+4*r+2]<<8|t[64*n+4*r+3];s[n]=e}s[i-1][14]=8*(t.length-1)/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=8*(t.length-1)&4294967295;for(let a=0;a<i;++a){const t=new Uint32Array(80);for(let e=0;e<16;++e)t[e]=s[a][e];for(let e=16;e<80;++e)t[e]=r(t[e-3]^t[e-8]^t[e-14]^t[e-16],1);let i=o[0],u=o[1],c=o[2],l=o[3],f=o[4];for(let o=0;o<80;++o){const s=Math.floor(o/20),a=r(i,5)+n(s,u,c,l)+f+e[s]+t[o]>>>0;f=l,l=c,c=r(u,30)>>>0,u=i,i=a}o[0]=o[0]+i>>>0,o[1]=o[1]+u>>>0,o[2]=o[2]+c>>>0,o[3]=o[3]+l>>>0,o[4]=o[4]+f>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]}},1218:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(8306)),o=i(n(5680));function i(t){return t&&t.__esModule?t:{default:t}}let s,a,u=0,c=0;e.default=function(t,e,n){let i=e&&n||0;const l=e||[];let f=(t=t||{}).node||s,h=void 0!==t.clockseq?t.clockseq:a;if(null==f||null==h){const e=t.random||(t.rng||r.default)();null==f&&(f=s=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==h&&(h=a=16383&(e[6]<<8|e[7]))}let d=void 0!==t.msecs?t.msecs:Date.now(),p=void 0!==t.nsecs?t.nsecs:c+1;const m=d-u+(p-c)/1e4;if(m<0&&void 0===t.clockseq&&(h=h+1&16383),(m<0||d>u)&&void 0===t.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=d,c=p,a=h,d+=122192928e5;const v=(1e4*(268435455&d)+p)%4294967296;l[i++]=v>>>24&255,l[i++]=v>>>16&255,l[i++]=v>>>8&255,l[i++]=255&v;const y=d/4294967296*1e4&268435455;l[i++]=y>>>8&255,l[i++]=255&y,l[i++]=y>>>24&15|16,l[i++]=y>>>16&255,l[i++]=h>>>8|128,l[i++]=255&h;for(let r=0;r<6;++r)l[i+r]=f[r];return e||(0,o.default)(l)}},6062:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(6226)),o=i(n(1454));function i(t){return t&&t.__esModule?t:{default:t}}const s=(0,r.default)("v3",48,o.default);e.default=s},6226:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){function r(t,r,i,s){const a=i&&s||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof r&&(r=function(t){const e=[];return t.replace(/[a-fA-F0-9]{2}/g,function(t){e.push(parseInt(t,16))}),e}(r)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const u=n(r.concat(t));if(u[6]=15&u[6]|e,u[8]=63&u[8]|128,i)for(let e=0;e<16;++e)i[a+e]=u[e];return i||(0,o.default)(u)}try{r.name=t}catch(a){}return r.DNS=i,r.URL=s,r},e.URL=e.DNS=void 0;var r,o=(r=n(5680))&&r.__esModule?r:{default:r};const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=i;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=s},8829:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(8306)),o=i(n(5680));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,n){"string"==typeof t&&(e="binary"===t?new Uint8Array(16):null,t=null);const i=(t=t||{}).random||(t.rng||r.default)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){const t=n||0;for(let n=0;n<16;++n)e[t+n]=i[n];return e}return(0,o.default)(i)}},6235:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(6226)),o=i(n(4990));function i(t){return t&&t.__esModule?t:{default:t}}const s=(0,r.default)("v5",80,o.default);e.default=s},4693:function(t){!function(e){var n=function(t,e){return isNaN(e)||e<1?void 0:function(t,e){for(var n,r="",o=t.length;e--;)r+=t[(n=o,Math.floor(Math.random()*n))];return r}(t,e)};function r(t){var e=n.bind(n,t="string"==typeof t&&t.length>0?t:"abcdefghijklmnopqrstuvwxzy0123456789");return e.salt=function(){return t},e.create=r,e.gen=r,e}n.gen=r,t.exports=r()}()},6439:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(j){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=Object.create((e&&e.prototype instanceof v?e:v).prototype),i=new A(r||[]);return o._invoke=function(t,e,n){var r=f;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",m={};function v(){}function y(){}function g(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(M([])));_&&_!==n&&r.call(_,i)&&(b=_);var x=g.prototype=v.prototype=Object.create(b);function k(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function S(t,e){function n(o,i,s,a){var u=l(t[o],t,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,s,a)},function(t){n("throw",t,s,a)}):e.resolve(f).then(function(t){c.value=t,s(c)},function(t){return n("throw",t,s,a)})}a(u.arg)}var o;this._invoke=function(t,r){function i(){return new e(function(e,o){n(t,r,e,o)})}return o=o?o.then(i,i):i()}}function C(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=l(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function M(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:T}}function T(){return{value:e,done:!0}}return y.prototype=x.constructor=g,g.constructor=y,y.displayName=u(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,a,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[s]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new S(c(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then(function(t){return t.done?t.value:s.next()})},k(x),u(x,a,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=e}catch(n){Function("r","regeneratorRuntime = r")(e)}},4119:t=>{"use strict";var e=Object,n=TypeError;t.exports=function(){if(null!=this&&this!==e(this))throw new n("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},3993:(t,e,n)=>{"use strict";var r=n(59),o=n(1474),i=n(4119),s=n(8558),a=n(3434),u=o(i);r(u,{getPolyfill:s,implementation:i,shim:a}),t.exports=u},8558:(t,e,n)=>{"use strict";var r=n(4119),o=n(59).supportsDescriptors,i=Object.getOwnPropertyDescriptor,s=TypeError;t.exports=function(){if(!o)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return r}},3434:(t,e,n)=>{"use strict";var r=n(59).supportsDescriptors,o=n(8558),i=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,u=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!r||!u)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=u(c),n=i(e,"flags");return n&&n.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},3467:t=>{var e=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(a){e=function(){}}try{n=Set}catch(a){n=function(){}}try{r=Promise}catch(a){r=function(){}}function o(i,a,u,c,l){"object"==typeof a&&(u=a.depth,c=a.prototype,l=a.includeNonEnumerable,a=a.circular);var f=[],h=[],d="undefined"!=typeof Buffer;return void 0===a&&(a=!0),void 0===u&&(u=1/0),function i(u,p){if(null===u)return null;if(0===p)return u;var m,v;if("object"!=typeof u)return u;if(t(u,e))m=new e;else if(t(u,n))m=new n;else if(t(u,r))m=new r(function(t,e){u.then(function(e){t(i(e,p-1))},function(t){e(i(t,p-1))})});else if(o.__isArray(u))m=[];else if(o.__isRegExp(u))m=new RegExp(u.source,s(u)),u.lastIndex&&(m.lastIndex=u.lastIndex);else if(o.__isDate(u))m=new Date(u.getTime());else{if(d&&Buffer.isBuffer(u))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(u.length):new Buffer(u.length),u.copy(m),m;t(u,Error)?m=Object.create(u):void 0===c?(v=Object.getPrototypeOf(u),m=Object.create(v)):(m=Object.create(c),v=c)}if(a){var y=f.indexOf(u);if(-1!=y)return h[y];f.push(u),h.push(m)}for(var g in t(u,e)&&u.forEach(function(t,e){var n=i(e,p-1),r=i(t,p-1);m.set(n,r)}),t(u,n)&&u.forEach(function(t){var e=i(t,p-1);m.add(e)}),u){var b;v&&(b=Object.getOwnPropertyDescriptor(v,g)),b&&null==b.set||(m[g]=i(u[g],p-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(u);for(g=0;g<w.length;g++){var _=w[g];(!(k=Object.getOwnPropertyDescriptor(u,_))||k.enumerable||l)&&(m[_]=i(u[_],p-1),k.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(l){var x=Object.getOwnPropertyNames(u);for(g=0;g<x.length;g++){var k,S=x[g];(k=Object.getOwnPropertyDescriptor(u,S))&&k.enumerable||(m[S]=i(u[S],p-1),Object.defineProperty(m,S,{enumerable:!1}))}}return m}(i,u)}function i(t){return Object.prototype.toString.call(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=i,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===i(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===i(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===i(t)},o.__getRegExpFlags=s,o}();t.exports&&(t.exports=e)},6549:(t,e,n)=>{"use strict";var r=n(5453),o=n(7263),i=n(6825),s=n(7345),a=n(3993),u=n(7362),c=n(7634),l=n(8689),f=n(2261),h=n(8818),d=n(593),p=n(1280),m=n(1852),v=n(3414),y=n(4280),g=h("Date.prototype.getTime"),b=Object.getPrototypeOf,w=h("Object.prototype.toString"),_=f("%Set%",!0),x=h("Map.prototype.has",!0),k=h("Map.prototype.get",!0),S=h("Map.prototype.size",!0),C=h("Set.prototype.add",!0),O=h("Set.prototype.delete",!0),E=h("Set.prototype.has",!0),A=h("Set.prototype.size",!0);function M(t,e,n,r){for(var o,i=p(t);(o=i.next())&&!o.done;)if(I(e,o.value,n,r))return O(t,o.value),!0;return!1}function T(t){return void 0===t?null:"object"!=typeof t?"symbol"!=typeof t&&("string"!=typeof t&&"number"!=typeof t||+t==+t):void 0}function j(t,e,n,r,o,i){var s=T(n);if(null!=s)return s;var a=k(e,s),u=y({},o,{strict:!1});return!(void 0===a&&!x(e,s)||!I(r,a,u,i))&&!x(t,s)&&I(r,a,u,i)}function D(t,e,n){var r=T(n);return null!=r?r:E(e,r)&&!E(t,r)}function P(t,e,n,r,o,i){for(var s,a,u=p(t);(s=u.next())&&!s.done;)if(I(n,a=s.value,o,i)&&I(r,k(e,a),o,i))return O(t,a),!0;return!1}function I(t,e,n,f){var h=n||{};if(h.strict?i(t,e):t===e)return!0;if(l(t)!==l(e))return!1;if(!t||!e||"object"!=typeof t&&"object"!=typeof e)return h.strict?i(t,e):t==e;var m,O=f.has(t),T=f.has(e);if(O&&T){if(f.get(t)===f.get(e))return!0}else m={};return O||f.set(t,m),T||f.set(e,m),function(t,e,n,i){var l,f;if(typeof t!=typeof e)return!1;if(null==t||null==e)return!1;if(w(t)!==w(e))return!1;if(o(t)!==o(e))return!1;if(u(t)!==u(e))return!1;var h=t instanceof Error,m=e instanceof Error;if(h!==m)return!1;if((h||m)&&(t.name!==e.name||t.message!==e.message))return!1;var O=s(t),T=s(e);if(O!==T)return!1;if((O||T)&&(t.source!==e.source||a(t)!==a(e)))return!1;var N=c(t),L=c(e);if(N!==L)return!1;if((N||L)&&g(t)!==g(e))return!1;if(n.strict&&b&&b(t)!==b(e))return!1;if(v(t)!==v(e))return!1;var $=R(t),F=R(e);if($!==F)return!1;if($||F){if(t.length!==e.length)return!1;for(l=0;l<t.length;l++)if(t[l]!==e[l])return!1;return!0}if(typeof t!=typeof e)return!1;var V=r(t),B=r(e);if(V.length!==B.length)return!1;for(V.sort(),B.sort(),l=V.length-1;l>=0;l--)if(V[l]!=B[l])return!1;for(l=V.length-1;l>=0;l--)if(!I(t[f=V[l]],e[f],n,i))return!1;var z=d(t),q=d(e);return z===q&&("Set"===z||"Set"===q?function(t,e,n,r){if(A(t)!==A(e))return!1;for(var o,i,s,a=p(t),u=p(e);(o=a.next())&&!o.done;)if(o.value&&"object"==typeof o.value)s||(s=new _),C(s,o.value);else if(!E(e,o.value)){if(n.strict)return!1;if(!D(t,e,o.value))return!1;s||(s=new _),C(s,o.value)}if(s){for(;(i=u.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!M(s,i.value,n.strict,r))return!1}else if(!n.strict&&!E(t,i.value)&&!M(s,i.value,n.strict,r))return!1;return 0===A(s)}return!0}(t,e,n,i):"Map"!==z||function(t,e,n,r){if(S(t)!==S(e))return!1;for(var o,i,s,a,u,c,l=p(t),f=p(e);(o=l.next())&&!o.done;)if(u=o.value[1],(a=o.value[0])&&"object"==typeof a)s||(s=new _),C(s,a);else if(void 0===(c=k(e,a))&&!x(e,a)||!I(u,c,n,r)){if(n.strict)return!1;if(!j(t,e,a,u,n,r))return!1;s||(s=new _),C(s,a)}if(s){for(;(i=f.next())&&!i.done;)if(c=i.value[1],(a=i.value[0])&&"object"==typeof a){if(!P(s,t,a,c,n,r))return!1}else if(!(n.strict||t.has(a)&&I(k(t,a),c,n,r)||P(s,t,a,c,y({},n,{strict:!1}),r)))return!1;return 0===A(s)}return!0}(t,e,n,i))}(t,e,h,f)}function R(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0]||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))}t.exports=function(t,e,n){return I(t,e,n,m())}},7362:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},6253:(t,e,n)=>{"use strict";n.d(e,{X:()=>o});var r=n(6086),o=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return(0,r.ZT)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){var t=this,e=t._value;if(t.hasError)throw t.thrownError;return this._throwIfClosed(),e},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(n(2890).x)},5321:(t,e,n)=>{"use strict";n.d(e,{y:()=>l});var r=n(8334),o=n(869),i=n(4104),s=n(2560),a=n(6752),u=n(6468),c=n(369),l=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i,s=this,a=(i=t)&&i instanceof r.Lv||function(t){return t&&(0,u.m)(t.next)&&(0,u.m)(t.error)&&(0,u.m)(t.complete)}(i)&&(0,o.Nn)(i)?t:new r.Hp(t,e,n);return(0,c.x)(function(){var t=s.operator,e=s.source;a.add(t?t.call(a,e):e?s._subscribe(a):s._trySubscribe(a))}),a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=f(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(n){r(n),null==o||o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[i.L]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.U)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=f(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function f(t){var e;return null!==(e=null!=t?t:a.v.Promise)&&void 0!==e?e:Promise}},110:(t,e,n)=>{"use strict";n.d(e,{t:()=>s});var r=n(6086),o=n(2890),i=n(7043),s=function(t){function e(e,n,r){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===r&&(r=i.l);var o=t.call(this)||this;return o._bufferSize=e,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,n),o}return(0,r.ZT)(e,t),e.prototype.next=function(e){var n=this,r=n._buffer,o=n._infiniteTimeWindow,i=n._timestampProvider,s=n._windowTime;n.isStopped||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!t.closed;o+=n?1:2)t.next(r[o]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,n=t._timestampProvider,r=t._buffer,o=t._infiniteTimeWindow,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var s=n.now(),a=0,u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}},e}(o.x)},3916:(t,e,n)=>{"use strict";n.d(e,{b:()=>o});var r=n(7043),o=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=r.l.now,t}()},2890:(t,e,n)=>{"use strict";n.d(e,{x:()=>c});var r=n(6086),o=n(5321),i=n(869),s=n(7707),a=n(6503),u=n(369),c=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return(0,r.ZT)(e,t),e.prototype.lift=function(t){var e=new l(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new s.N},e.prototype.next=function(t){var e=this;(0,u.x)(function(){var n,o;if(e._throwIfClosed(),!e.isStopped){var i=e.observers.slice();try{for(var s=(0,r.XA)(i),a=s.next();!a.done;a=s.next())a.value.next(t)}catch(u){n={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}}})},e.prototype.error=function(t){var e=this;(0,u.x)(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}})},e.prototype.complete=function(){var t=this;(0,u.x)(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=e.observers;return e.hasError||e.isStopped?i.Lc:(n.push(t),new i.w0(function(){return(0,a.P)(n,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.isStopped;e.hasError?t.error(e.thrownError):n&&t.complete()},e.prototype.asObservable=function(){var t=new o.y;return t.source=this,t},e.create=function(t,e){return new l(t,e)},e}(o.y),l=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return(0,r.ZT)(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:i.Lc},e}(c)},8334:(t,e,n)=>{"use strict";n.d(e,{Hp:()=>p,Lv:()=>d});var r=n(6086),o=n(6468),i=n(869),s=n(6752),a=n(5699),u=n(9799),c=l("C",void 0,void 0);function l(t,e,n){return{kind:t,value:e,error:n}}var f=n(3715),h=n(369),d=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,(0,i.Nn)(e)&&e.add(n)):n.destination=g,n}return(0,r.ZT)(e,t),e.create=function(t,e,n){return new p(t,e,n)},e.prototype.next=function(t){this.isStopped?y(function(t){return l("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?y(l("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?y(c,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(i.w0),p=function(t){function e(e,n,r){var i,a=t.call(this)||this;if((0,o.m)(e))i=e;else if(e){var c;i=e.next,n=e.error,r=e.complete,a&&s.v.useDeprecatedNextContext?(c=Object.create(e)).unsubscribe=function(){return a.unsubscribe()}:c=e,i=null==i?void 0:i.bind(c),n=null==n?void 0:n.bind(c),r=null==r?void 0:r.bind(c)}return a.destination={next:i?m(i):u.Z,error:m(null!=n?n:v),complete:r?m(r):u.Z},a}return(0,r.ZT)(e,t),e}(d);function m(t,e){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(void 0,(0,r.ev)([],(0,r.CR)(e)))}catch(o){s.v.useDeprecatedSynchronousErrorHandling?(0,h.O)(o):(0,a.h)(o)}}}function v(t){throw t}function y(t,e){var n=s.v.onStoppedNotification;n&&f.z.setTimeout(function(){return n(t,e)})}var g={closed:!0,next:u.Z,error:v,complete:u.Z}},869:(t,e,n)=>{"use strict";n.d(e,{w0:()=>a,Lc:()=>u,Nn:()=>c});var r=n(6086),o=n(6468),i=n(4857),s=n(6503),a=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,s,a;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=(0,r.XA)(u),f=c.next();!f.done;f=c.next())f.value.remove(this)}catch(y){t={error:y}}finally{try{f&&!f.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}else u.remove(this);var h=this.initialTeardown;if((0,o.m)(h))try{h()}catch(g){a=g instanceof i.B?g.errors:[g]}var d=this._teardowns;if(d){this._teardowns=null;try{for(var p=(0,r.XA)(d),m=p.next();!m.done;m=p.next()){var v=m.value;try{l(v)}catch(b){a=null!=a?a:[],b instanceof i.B?a=(0,r.ev)((0,r.ev)([],(0,r.CR)(a)),(0,r.CR)(b.errors)):a.push(b)}}}catch(w){n={error:w}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}}if(a)throw new i.B(a)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)l(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&(0,s.P)(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&(0,s.P)(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),u=a.EMPTY;function c(t){return t instanceof a||t&&"closed"in t&&(0,o.m)(t.remove)&&(0,o.m)(t.add)&&(0,o.m)(t.unsubscribe)}function l(t){(0,o.m)(t)?t():t.unsubscribe()}},6752:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2421:(t,e,n)=>{"use strict";n.d(e,{z:()=>i});var r=n(3693),o=n(8334);function i(t,e){var n="object"==typeof e;return new Promise(function(i,s){var a=new o.Hp({next:function(t){i(t),a.unsubscribe()},error:s,complete:function(){n?i(e.defaultValue):s(new r.K)}});t.subscribe(a)})}},1161:(t,e,n)=>{"use strict";n.d(e,{c:()=>c});var r=n(6086),o=n(5321),i=n(869),s=n(3337),a=n(7418),u=n(727),c=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,(0,u.A)(e)&&(r.lift=e.lift),r}return(0,r.ZT)(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,null==t||t.unsubscribe()},e.prototype.connect=function(){var t=this,e=this._connection;if(!e){e=this._connection=new i.w0;var n=this.getSubject();e.add(this.source.subscribe(new a.Q(n,void 0,function(){t._teardown(),n.complete()},function(e){t._teardown(),n.error(e)},function(){return t._teardown()}))),e.closed&&(this._connection=null,e=i.w0.EMPTY)}return e},e.prototype.refCount=function(){return(0,s.x)()(this)},e}(o.y)},4602:(t,e,n)=>{"use strict";n.d(e,{a:()=>h,l:()=>d});var r=n(5321),o=n(5132),i=n(5001),s=n(419),a=n(3706),u=n(5600),c=n(3744),l=n(7418),f=n(5509);function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,u.yG)(t),l=(0,u.jO)(t),f=(0,o.D)(t),h=f.args,p=f.keys;if(0===h.length)return(0,i.D)([],n);var m=new r.y(d(h,n,p?function(t){return(0,c.n)(p,t)}:s.y));return l?m.pipe((0,a.Z)(l)):m}function d(t,e,n){return void 0===n&&(n=s.y),function(r){p(e,function(){for(var o=t.length,s=new Array(o),a=o,u=o,c=function(o){p(e,function(){var c=(0,i.D)(t[o],e),f=!1;c.subscribe(new l.Q(r,function(t){s[o]=t,f||(f=!0,u--),u||r.next(n(s.slice()))},function(){--a||r.complete()}))},r)},f=0;f<o;f++)c(f)},r)}}function p(t,e,n){t?(0,f.f)(n,t,e):e()}},6212:(t,e,n)=>{"use strict";n.d(e,{z:()=>s});var r=n(3947),o=n(5600),i=n(5001);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,r.u)()((0,i.D)(t,(0,o.yG)(t)))}},8414:(t,e,n)=>{"use strict";n.d(e,{P:()=>i});var r=n(5321),o=n(2066);function i(t){return new r.y(function(e){(0,o.Xf)(t()).subscribe(e)})}},2147:(t,e,n)=>{"use strict";n.d(e,{E:()=>o,c:()=>i});var r=n(5321),o=new r.y(function(t){return t.complete()});function i(t){return t?function(t){return new r.y(function(e){return t.schedule(function(){return e.complete()})})}(t):o}},2681:(t,e,n)=>{"use strict";n.d(e,{D:()=>l});var r=n(5321),o=n(5132),i=n(2066),s=n(5600),a=n(7418),u=n(3706),c=n(3744);function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,s.jO)(t),l=(0,o.D)(t),f=l.args,h=l.keys,d=new r.y(function(t){var e=f.length;if(e)for(var n=new Array(e),r=e,o=e,s=function(e){var s=!1;(0,i.Xf)(f[e]).subscribe(new a.Q(t,function(t){s||(s=!0,o--),n[e]=t},function(){return r--},void 0,function(){r&&s||(o||t.next(h?(0,c.n)(h,n):n),t.complete())}))},u=0;u<e;u++)s(u);else t.complete()});return n?d.pipe((0,u.Z)(n)):d}},5001:(t,e,n)=>{"use strict";n.d(e,{D:()=>i});var r=n(7091),o=n(2066);function i(t,e){return e?(0,r.x)(t,e):(0,o.Xf)(t)}},6893:(t,e,n)=>{"use strict";n.d(e,{R:()=>d});var r=n(6086),o=n(2066),i=n(5321),s=n(2600),a=n(2976),u=n(6468),c=n(3706),l=["addListener","removeListener"],f=["addEventListener","removeEventListener"],h=["on","off"];function d(t,e,n,m){if((0,u.m)(n)&&(m=n,n=void 0),m)return d(t,e,n).pipe((0,c.Z)(m));var v=(0,r.CR)(function(t){return(0,u.m)(t.addEventListener)&&(0,u.m)(t.removeEventListener)}(t)?f.map(function(r){return function(o){return t[r](e,o,n)}}):function(t){return(0,u.m)(t.addListener)&&(0,u.m)(t.removeListener)}(t)?l.map(p(t,e)):function(t){return(0,u.m)(t.on)&&(0,u.m)(t.off)}(t)?h.map(p(t,e)):[],2),y=v[0],g=v[1];if(!y&&(0,a.z)(t))return(0,s.z)(function(t){return d(t,e,n)})((0,o.Xf)(t));if(!y)throw new TypeError("Invalid event target");return new i.y(function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return y(e),function(){return g(e)}})}function p(t,e){return function(n){return function(r){return t[n](e,r)}}}},2066:(t,e,n)=>{"use strict";n.d(e,{Xf:()=>m});var r=n(6086),o=n(2976),i=n(1806),s=n(5321),a=n(9408),u=n(568),c=n(1035),l=n(4443),f=n(1858),h=n(6468),d=n(5699),p=n(4104);function m(t){if(t instanceof s.y)return t;if(null!=t){if((0,a.c)(t))return y=t,new s.y(function(t){var e=y[p.L]();if((0,h.m)(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if((0,o.z)(t))return m=t,new s.y(function(t){for(var e=0;e<m.length&&!t.closed;e++)t.next(m[e]);t.complete()});if((0,i.t)(t))return n=t,new s.y(function(t){n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,d.h)});if((0,u.D)(t))return v(t);if((0,l.T)(t))return e=t,new s.y(function(t){var n,o;try{for(var i=(0,r.XA)(e),s=i.next();!s.done;s=i.next())if(t.next(s.value),t.closed)return}catch(a){n={error:a}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}t.complete()});if((0,f.L)(t))return v((0,f.Q)(t))}var e,n,m,y;throw(0,c.z)(t)}function v(t){return new s.y(function(e){(function(t,e){var n,o,i,s;return(0,r.mG)(this,void 0,void 0,function(){var a;return(0,r.Jh)(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=(0,r.KL)(t),u.label=1;case 1:return[4,n.next()];case 2:if((o=u.sent()).done)return[3,4];if(e.next(o.value),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),o&&!o.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})})(t,e).catch(function(t){return e.error(t)})})}},7044:(t,e,n)=>{"use strict";n.d(e,{T:()=>u});var r=n(1487),o=n(2066),i=n(2147),s=n(5600),a=n(5001);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,s.yG)(t),u=(0,s._6)(t,1/0),c=t;return c.length?1===c.length?(0,o.Xf)(c[0]):(0,r.J)(u)((0,a.D)(c,n)):i.E}},4902:(t,e,n)=>{"use strict";n.d(e,{of:()=>i});var r=n(5600),o=n(5001);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,r.yG)(t);return(0,o.D)(t,n)}},9020:(t,e,n)=>{"use strict";n.d(e,{H:()=>a});var r=n(5321),o=n(806),i=n(9975),s=n(4605);function a(t,e,n){void 0===t&&(t=0),void 0===n&&(n=o.P);var a=-1;return null!=e&&((0,i.K)(e)?n=e:a=e),new r.y(function(e){var r=(0,s.q)(t)?+t-n.now():t;r<0&&(r=0);var o=0;return n.schedule(function(){e.closed||(e.next(o++),0<=a?this.schedule(void 0,a):e.complete())},r)})}},7418:(t,e,n)=>{"use strict";n.d(e,{Q:()=>o});var r=n(6086),o=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.onFinalize=i,s._next=n?function(t){try{n(t)}catch(r){e.error(r)}}:t.prototype._next,s._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return(0,r.ZT)(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(n(8334).Lv)},1420:(t,e,n)=>{"use strict";n.d(e,{K:()=>s});var r=n(2066),o=n(7418),i=n(727);function s(t){return(0,i.e)(function(e,n){var i,a=null,u=!1;a=e.subscribe(new o.Q(n,void 0,void 0,function(o){i=(0,r.Xf)(t(o,s(t)(e))),a?(a.unsubscribe(),a=null,i.subscribe(n)):u=!0})),u&&(a.unsubscribe(),a=null,i.subscribe(n))})}},3947:(t,e,n)=>{"use strict";n.d(e,{u:()=>o});var r=n(1487);function o(){return(0,r.J)(1)}},2870:(t,e,n)=>{"use strict";n.d(e,{b:()=>i});var r=n(2600),o=n(6468);function i(t,e){return(0,o.m)(e)?(0,r.z)(t,e,1):(0,r.z)(t,1)}},5999:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(806),o=n(727),i=n(7418);function s(t,e){return void 0===e&&(e=r.z),(0,o.e)(function(n,r){var o=null,s=null,a=null,u=function(){if(o){o.unsubscribe(),o=null;var t=s;s=null,r.next(t)}};function c(){var n=a+t,i=e.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);u()}n.subscribe(new i.Q(r,function(n){s=n,a=e.now(),o||(o=e.schedule(c,t),r.add(o))},function(){u(),r.complete()},void 0,function(){s=o=null}))})}},5620:(t,e,n)=>{"use strict";n.d(e,{d:()=>i});var r=n(727),o=n(7418);function i(t){return(0,r.e)(function(e,n){var r=!1;e.subscribe(new o.Q(n,function(t){r=!0,n.next(t)},function(){r||n.next(t),n.complete()}))})}},9918:(t,e,n)=>{"use strict";n.d(e,{g:()=>s});var r=n(806),o=n(689),i=n(9020);function s(t,e){void 0===e&&(e=r.z);var n=(0,i.H)(t,e);return(0,o.j)(function(){return n})}},689:(t,e,n)=>{"use strict";n.d(e,{j:()=>u});var r=n(6212),o=n(3538),i=n(1940),s=n(2885),a=n(2600);function u(t,e){return e?function(n){return(0,r.z)(e.pipe((0,o.q)(1),(0,i.l)()),n.pipe(u(t)))}:(0,a.z)(function(e,n){return t(e,n).pipe((0,o.q)(1),(0,s.h)(e))})}},3717:(t,e,n)=>{"use strict";n.d(e,{x:()=>s});var r=n(419),o=n(727),i=n(7418);function s(t,e){return void 0===e&&(e=r.y),t=null!=t?t:a,(0,o.e)(function(n,r){var o,s=!0;n.subscribe(new i.Q(r,function(n){var i=e(n);!s&&t(o,i)||(s=!1,o=i,r.next(n))}))})}function a(t,e){return t===e}},4575:(t,e,n)=>{"use strict";n.d(e,{h:()=>i});var r=n(727),o=n(7418);function i(t,e){return(0,r.e)(function(n,r){var i=0;n.subscribe(new o.Q(r,function(n){return t.call(e,n,i++)&&r.next(n)}))})}},5996:(t,e,n)=>{"use strict";n.d(e,{x:()=>o});var r=n(727);function o(t){return(0,r.e)(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}},1617:(t,e,n)=>{"use strict";n.d(e,{P:()=>c});var r=n(3693),o=n(4575),i=n(3538),s=n(5620),a=n(3796),u=n(419);function c(t,e){var n=arguments.length>=2;return function(c){return c.pipe(t?(0,o.h)(function(e,n){return t(e,n,c)}):u.y,(0,i.q)(1),n?(0,s.d)(e):(0,a.T)(function(){return new r.K}))}}},1940:(t,e,n)=>{"use strict";n.d(e,{l:()=>s});var r=n(727),o=n(7418),i=n(9799);function s(){return(0,r.e)(function(t,e){t.subscribe(new o.Q(e,i.Z))})}},2744:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r=n(3693),o=n(4575),i=n(4151),s=n(3796),a=n(5620),u=n(419);function c(t,e){var n=arguments.length>=2;return function(c){return c.pipe(t?(0,o.h)(function(e,n){return t(e,n,c)}):u.y,(0,i.h)(1),n?(0,a.d)(e):(0,s.T)(function(){return new r.K}))}}},5040:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(727),o=n(7418);function i(t,e){return(0,r.e)(function(n,r){var i=0;n.subscribe(new o.Q(r,function(n){r.next(t.call(e,n,i++))}))})}},2885:(t,e,n)=>{"use strict";n.d(e,{h:()=>o});var r=n(5040);function o(t){return(0,r.U)(function(){return t})}},1487:(t,e,n)=>{"use strict";n.d(e,{J:()=>i});var r=n(2600),o=n(419);function i(t){return void 0===t&&(t=1/0),(0,r.z)(o.y,t)}},2670:(t,e,n)=>{"use strict";n.d(e,{p:()=>s});var r=n(2066),o=n(5509),i=n(7418);function s(t,e,n,s,a,u,c,l){var f=[],h=0,d=0,p=!1,m=function(){!p||f.length||h||e.complete()},v=function(t){return h<s?y(t):f.push(t)},y=function(t){u&&e.next(t),h++;var l=!1;(0,r.Xf)(n(t,d++)).subscribe(new i.Q(e,function(t){null==a||a(t),u?v(t):e.next(t)},function(){l=!0},void 0,function(){if(l)try{h--;for(var t=function(){var t=f.shift();c?(0,o.f)(e,c,function(){return y(t)}):y(t)};f.length&&h<s;)t();m()}catch(n){e.error(n)}}))};return t.subscribe(new i.Q(e,v,function(){p=!0,m()})),function(){null==l||l()}}},2600:(t,e,n)=>{"use strict";n.d(e,{z:()=>u});var r=n(5040),o=n(2066),i=n(727),s=n(2670),a=n(6468);function u(t,e,n){return void 0===n&&(n=1/0),(0,a.m)(e)?u(function(n,i){return(0,r.U)(function(t,r){return e(n,t,i,r)})((0,o.Xf)(t(n,i)))},n):("number"==typeof e&&(n=e),(0,i.e)(function(e,r){return(0,s.p)(e,r,t,n)}))}},2639:(t,e,n)=>{"use strict";n.d(e,{Q:()=>s});var r=n(5509),o=n(727),i=n(7418);function s(t,e){return void 0===e&&(e=0),(0,o.e)(function(n,o){n.subscribe(new i.Q(o,function(n){return(0,r.f)(o,t,function(){return o.next(n)},e)},function(){return(0,r.f)(o,t,function(){return o.complete()},e)},function(n){return(0,r.f)(o,t,function(){return o.error(n)},e)}))})}},3337:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(727),o=n(7418);function i(){return(0,r.e)(function(t,e){var n=null;t._refCount++;var r=new o.Q(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount)n=null;else{var r=t._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),e.unsubscribe()}});t.subscribe(r),r.closed||(n=t.connect())})}},3836:(t,e,n)=>{"use strict";n.d(e,{R:()=>i});var r=n(727),o=n(3946);function i(t,e){return(0,r.e)((0,o.U)(t,e,arguments.length>=2,!0))}},3946:(t,e,n)=>{"use strict";n.d(e,{U:()=>o});var r=n(7418);function o(t,e,n,o,i){return function(s,a){var u=n,c=e,l=0;s.subscribe(new r.Q(a,function(e){var n=l++;c=u?t(c,e,n):(u=!0,e),o&&a.next(c)},i&&function(){u&&a.next(c),a.complete()}))}}},3030:(t,e,n)=>{"use strict";n.d(e,{B:()=>c});var r=n(6086),o=n(5001),i=n(3538),s=n(2890),a=n(8334),u=n(727);function c(t){void 0===t&&(t={});var e=t.connector,n=void 0===e?function(){return new s.x}:e,r=t.resetOnError,i=void 0===r||r,c=t.resetOnComplete,f=void 0===c||c,h=t.resetOnRefCountZero,d=void 0===h||h;return function(t){var e=null,r=null,s=null,c=0,h=!1,p=!1,m=function(){null==r||r.unsubscribe(),r=null},v=function(){m(),e=s=null,h=p=!1},y=function(){var t=e;v(),null==t||t.unsubscribe()};return(0,u.e)(function(t,u){c++,p||h||m();var g=s=null!=s?s:n();u.add(function(){0!=--c||p||h||(r=l(y,d))}),g.subscribe(u),e||(e=new a.Hp({next:function(t){return g.next(t)},error:function(t){p=!0,m(),r=l(v,i,t),g.error(t)},complete:function(){h=!0,m(),r=l(v,f),g.complete()}}),(0,o.D)(t).subscribe(e))})(t)}}function l(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return!0===e?(t(),null):!1===e?null:e.apply(void 0,(0,r.ev)([],(0,r.CR)(n))).pipe((0,i.q)(1)).subscribe(function(){return t()})}},4978:(t,e,n)=>{"use strict";n.d(e,{d:()=>i});var r=n(110),o=n(3030);function i(t,e,n){var i,s,a,u=!1;return t&&"object"==typeof t?(a=null!==(i=t.bufferSize)&&void 0!==i?i:1/0,e=null!==(s=t.windowTime)&&void 0!==s?s:1/0,u=!!t.refCount,n=t.scheduler):a=null!=t?t:1/0,(0,o.B)({connector:function(){return new r.t(a,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}},4437:(t,e,n)=>{"use strict";n.d(e,{u:()=>a});var r=n(727),o=n(7418),i=n(2066),s=n(9799);function a(t){return(0,r.e)(function(e,n){var r=!1,a=new o.Q(n,function(){null==a||a.unsubscribe(),r=!0},s.Z);(0,i.Xf)(t).subscribe(a),e.subscribe(new o.Q(n,function(t){return r&&n.next(t)}))})}},5315:(t,e,n)=>{"use strict";n.d(e,{O:()=>s});var r=n(6212),o=n(5600),i=n(727);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,o.yG)(t);return(0,i.e)(function(e,o){(n?(0,r.z)(t,e,n):(0,r.z)(t,e)).subscribe(o)})}},8103:(t,e,n)=>{"use strict";n.d(e,{R:()=>o});var r=n(727);function o(t,e){return void 0===e&&(e=0),(0,r.e)(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}},6051:(t,e,n)=>{"use strict";n.d(e,{w:()=>s});var r=n(2066),o=n(727),i=n(7418);function s(t,e){return(0,o.e)(function(n,o){var s=null,a=0,u=!1,c=function(){return u&&!s&&o.complete()};n.subscribe(new i.Q(o,function(n){null==s||s.unsubscribe();var u=0,l=a++;(0,r.Xf)(t(n,l)).subscribe(s=new i.Q(o,function(t){return o.next(e?e(n,t,l,u++):t)},function(){s=null,c()}))},function(){u=!0,c()}))})}},3538:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var r=n(2147),o=n(727),i=n(7418);function s(t){return t<=0?function(){return r.E}:(0,o.e)(function(e,n){var r=0;e.subscribe(new i.Q(n,function(e){++r<=t&&(n.next(e),t<=r&&n.complete())}))})}},4151:(t,e,n)=>{"use strict";n.d(e,{h:()=>a});var r=n(6086),o=n(2147),i=n(727),s=n(7418);function a(t){return t<=0?function(){return o.E}:(0,i.e)(function(e,n){var o=[];e.subscribe(new s.Q(n,function(e){o.push(e),t<o.length&&o.shift()},function(){var t,e;try{for(var i=(0,r.XA)(o),s=i.next();!s.done;s=i.next())n.next(s.value)}catch(a){t={error:a}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}n.complete()},void 0,function(){o=null}))})}},5342:(t,e,n)=>{"use strict";n.d(e,{b:()=>a});var r=n(6468),o=n(727),i=n(7418),s=n(419);function a(t,e,n){var a=(0,r.m)(t)||e||n?{next:t,error:e,complete:n}:t;return a?(0,o.e)(function(t,e){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;t.subscribe(new i.Q(e,function(t){var n;null===(n=a.next)||void 0===n||n.call(a,t),e.next(t)},function(){var t;r=!1,null===(t=a.complete)||void 0===t||t.call(a),e.complete()},function(t){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,t),e.error(t)},function(){var t,e;r&&(null===(t=a.unsubscribe)||void 0===t||t.call(a)),null===(e=a.finalize)||void 0===e||e.call(a)}))}):s.y}},3796:(t,e,n)=>{"use strict";n.d(e,{T:()=>s});var r=n(3693),o=n(727),i=n(7418);function s(t){return void 0===t&&(t=a),(0,o.e)(function(e,n){var r=!1;e.subscribe(new i.Q(n,function(t){r=!0,n.next(t)},function(){return r?n.complete():n.error(t())}))})}function a(){return new r.K}},5404:(t,e,n)=>{"use strict";n.d(e,{Q:()=>a});var r=n(5321),o=n(7714),i=n(6468),s=n(5509);function a(t,e){return new r.y(function(n){var r;return(0,s.f)(n,e,function(){r=t[o.h](),(0,s.f)(n,e,function(){var t,e,o;try{e=(t=r.next()).value,o=t.done}catch(i){return void n.error(i)}o?n.complete():n.next(e)},0,!0)}),function(){return(0,i.m)(null==r?void 0:r.return)&&r.return()}})}},7091:(t,e,n)=>{"use strict";n.d(e,{x:()=>y});var r=n(2066),o=n(2639),i=n(8103),s=n(5321),a=n(5404),u=n(5509);function c(t,e){if(!t)throw new Error("Iterable cannot be null");return new s.y(function(n){(0,u.f)(n,e,function(){var r=t[Symbol.asyncIterator]();(0,u.f)(n,e,function(){r.next().then(function(t){t.done?n.complete():n.next(t.value)})},0,!0)})})}var l=n(9408),f=n(1806),h=n(2976),d=n(4443),p=n(568),m=n(1035),v=n(1858);function y(t,e){if(null!=t){if((0,l.c)(t))return function(t,e){return(0,r.Xf)(t).pipe((0,i.R)(e),(0,o.Q)(e))}(t,e);if((0,h.z)(t))return function(t,e){return new s.y(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if((0,f.t)(t))return function(t,e){return(0,r.Xf)(t).pipe((0,i.R)(e),(0,o.Q)(e))}(t,e);if((0,p.D)(t))return c(t,e);if((0,d.T)(t))return(0,a.Q)(t,e);if((0,v.L)(t))return function(t,e){return c((0,v.Q)(t),e)}(t,e)}throw(0,m.z)(t)}},9836:(t,e,n)=>{"use strict";n.d(e,{o:()=>a});var r=n(6086),o=function(t){function e(e,n){return t.call(this)||this}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(869).w0),i={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,(0,r.ev)([],(0,r.CR)(t)))},clearInterval:function(t){var e=i.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},s=n(6503),a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),i.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;i.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(o){r=!0,n=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(o)},6479:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});var r=n(6086),o=n(3916),i=function(t){function e(e,n){void 0===n&&(n=o.b.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return(0,r.ZT)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(o.b)},806:(t,e,n)=>{"use strict";n.d(e,{z:()=>o,P:()=>i});var r=n(9836),o=new(n(6479).v)(r.o),i=o},7043:(t,e,n)=>{"use strict";n.d(e,{l:()=>r});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},3715:(t,e,n)=>{"use strict";n.d(e,{z:()=>o});var r=n(6086),o={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,(0,r.ev)([],(0,r.CR)(t)))},clearTimeout:function(t){var e=o.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0}},7714:(t,e,n)=>{"use strict";n.d(e,{h:()=>r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4104:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},3693:(t,e,n)=>{"use strict";n.d(e,{K:()=>r});var r=(0,n(4436).d)(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}})},7707:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});var r=(0,n(4436).d)(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},4857:(t,e,n)=>{"use strict";n.d(e,{B:()=>r});var r=(0,n(4436).d)(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}})},5600:(t,e,n)=>{"use strict";n.d(e,{jO:()=>s,yG:()=>a,_6:()=>u});var r=n(6468),o=n(9975);function i(t){return t[t.length-1]}function s(t){return(0,r.m)(i(t))?t.pop():void 0}function a(t){return(0,o.K)(i(t))?t.pop():void 0}function u(t,e){return"number"==typeof i(t)?t.pop():e}},5132:(t,e,n)=>{"use strict";n.d(e,{D:()=>a});var r=Array.isArray,o=Object.getPrototypeOf,i=Object.prototype,s=Object.keys;function a(t){if(1===t.length){var e=t[0];if(r(e))return{args:e,keys:null};if((a=e)&&"object"==typeof a&&o(a)===i){var n=s(e);return{args:n.map(function(t){return e[t]}),keys:n}}}var a;return{args:t,keys:null}}},6503:(t,e,n)=>{"use strict";function r(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}n.d(e,{P:()=>r})},4436:(t,e,n)=>{"use strict";function r(t){var e=t(function(t){Error.call(t),t.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.d(e,{d:()=>r})},3744:(t,e,n)=>{"use strict";function r(t,e){return t.reduce(function(t,n,r){return t[n]=e[r],t},{})}n.d(e,{n:()=>r})},369:(t,e,n)=>{"use strict";n.d(e,{x:()=>i,O:()=>s});var r=n(6752),o=null;function i(t){if(r.v.useDeprecatedSynchronousErrorHandling){var e=!o;if(e&&(o={errorThrown:!1,error:null}),t(),e){var n=o;if(o=null,n.errorThrown)throw n.error}}else t()}function s(t){r.v.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=t)}},5509:(t,e,n)=>{"use strict";function r(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}n.d(e,{f:()=>r})},419:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},2976:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},568:(t,e,n)=>{"use strict";n.d(e,{D:()=>o});var r=n(6468);function o(t){return Symbol.asyncIterator&&(0,r.m)(null==t?void 0:t[Symbol.asyncIterator])}},4605:(t,e,n)=>{"use strict";function r(t){return t instanceof Date&&!isNaN(t)}n.d(e,{q:()=>r})},6468:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},9408:(t,e,n)=>{"use strict";n.d(e,{c:()=>i});var r=n(4104),o=n(6468);function i(t){return(0,o.m)(t[r.L])}},4443:(t,e,n)=>{"use strict";n.d(e,{T:()=>i});var r=n(7714),o=n(6468);function i(t){return(0,o.m)(null==t?void 0:t[r.h])}},1806:(t,e,n)=>{"use strict";n.d(e,{t:()=>o});var r=n(6468);function o(t){return(0,r.m)(null==t?void 0:t.then)}},1858:(t,e,n)=>{"use strict";n.d(e,{Q:()=>i,L:()=>s});var r=n(6086),o=n(6468);function i(t){return(0,r.FC)(this,arguments,function(){var e,n,o;return(0,r.Jh)(this,function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,r.qq)(e.read())];case 3:return n=i.sent(),o=n.value,n.done?[4,(0,r.qq)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,r.qq)(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function s(t){return(0,o.m)(null==t?void 0:t.getReader)}},9975:(t,e,n)=>{"use strict";n.d(e,{K:()=>o});var r=n(6468);function o(t){return t&&(0,r.m)(t.schedule)}},727:(t,e,n)=>{"use strict";n.d(e,{A:()=>o,e:()=>i});var r=n(6468);function o(t){return(0,r.m)(null==t?void 0:t.lift)}function i(t){return function(e){if(o(e))return e.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}},3706:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(6086),o=n(5040),i=Array.isArray;function s(t){return(0,o.U)(function(e){return function(t,e){return i(e)?t.apply(void 0,(0,r.ev)([],(0,r.CR)(e))):t(e)}(t,e)})}},9799:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},2560:(t,e,n)=>{"use strict";n.d(e,{z:()=>o,U:()=>i});var r=n(419);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)}function i(t){return 0===t.length?r.y:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}},5699:(t,e,n)=>{"use strict";n.d(e,{h:()=>i});var r=n(6752),o=n(3715);function i(t){o.z.setTimeout(function(){var e=r.v.onUnhandledError;if(!e)throw t;e(t)})}},1035:(t,e,n)=>{"use strict";function r(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(e,{z:()=>r})},1852:(t,e,n)=>{"use strict";var r=n(2261),o=n(8818),i=n(5933),s=r("%TypeError%"),a=r("%WeakMap%",!0),u=r("%Map%",!0),c=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),h=o("Map.prototype.get",!0),d=o("Map.prototype.set",!0),p=o("Map.prototype.has",!0),m=function(t,e){for(var n,r=t;null!==(n=r.next);r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n};t.exports=function(){var t,e,n,r={assert:function(t){if(!r.has(t))throw new s("Side channel does not contain "+i(t))},get:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(t)return c(t,r)}else if(u){if(e)return h(e,r)}else if(n)return function(t,e){var n=m(t,e);return n&&n.value}(n,r)},has:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(t)return f(t,r)}else if(u){if(e)return p(e,r)}else if(n)return function(t,e){return!!m(t,e)}(n,r);return!1},set:function(r,o){a&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new a),l(t,r,o)):u?(e||(e=new u),d(e,r,o)):(n||(n={key:{},next:null}),function(t,e,n){var r=m(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}}(n,r,o))}};return r}},9670:t=>{t.exports=function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+e[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+e[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&n)+e[3]-1044525330|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+e[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+e[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&n)+e[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+e[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+e[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&n)+e[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+e[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+e[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&n)+e[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+e[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|o>>>18)+i|0)&n|i&~n)+e[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+e[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|o>>>18)+i|0)&n|i&~n)+e[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+e[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|o>>>18)+i|0)&n|i&~n)+e[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+e[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|o>>>18)+i|0)&n|i&~n)+e[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+e[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|o>>>16)+i|0)^i^n)+e[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+e[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|o>>>16)+i|0)^i^n)+e[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+e[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|o>>>16)+i|0)^i^n)+e[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+e[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|o>>>16)+i|0)^i^n)+e[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+e[7]+1126891415|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[14]-1416354905|0)<<15|o>>>17)+i|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+e[3]-1894986606|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[10]-1051523|0)<<15|o>>>17)+i|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+e[15]-30611744|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[6]-1560198380|0)<<15|o>>>17)+i|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+e[11]-1120210379|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[2]+718787259|0)<<15|o>>>17)+i|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+o|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function o(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function i(t){var e,o,i,s,a,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)n(l,r(t.substring(e-64,e)));for(o=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(l,i),e=0;e<16;e+=1)i[e]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,i[14]=a,i[15]=u,n(l,i),l}function s(t){var n,r="";for(n=0;n<4;n+=1)r+=e[t>>8*n+4&15]+e[t>>8*n&15];return r}function a(t){var e;for(e=0;e<t.length;e+=1)t[e]=s(t[e]);return t.join("")}function u(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function c(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function l(){this.reset()}return a(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(e,n){var r,o,i,s,a=this.byteLength,u=t(e,a),c=a;return void 0!==n&&(c=t(n,a)),u>c?new ArrayBuffer(0):(r=c-u,o=new ArrayBuffer(r),i=new Uint8Array(o),s=new Uint8Array(this,u,r),i.set(s),o)}}(),l.prototype.append=function(t){return this.appendBinary(u(t)),this},l.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,o=this._buff.length;for(e=64;e<=o;e+=64)n(this._hash,r(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},l.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=a(this._hash),t&&(n=c(n)),this.reset(),n},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(t,e){var r,o,i,s=e;if(t[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,t),s=0;s<16;s+=1)t[s]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,t[14]=o,t[15]=i,n(this._hash,t)},l.hash=function(t,e){return l.hashBinary(u(t),e)},l.hashBinary=function(t,e){var n=a(i(t));return e?c(n):n},(l.ArrayBuffer=function(){this.reset()}).prototype.append=function(t){var e,r,i,s,a=(r=this._buff.buffer,i=t,!0,(s=new Uint8Array(r.byteLength+i.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(i),r.byteLength),s),u=a.length;for(this._length+=t.byteLength,e=64;e<=u;e+=64)n(this._hash,o(a.subarray(e-64,e)));return this._buff=e-64<u?new Uint8Array(a.buffer.slice(e-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=a(this._hash),t&&(n=c(n)),this.reset(),n},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var t=l.prototype.getState.call(this);return t.buff=String.fromCharCode.apply(null,new Uint8Array(t.buff)),t},l.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=t.charCodeAt(n);return i}(t.buff),l.prototype.setState.call(this,t)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(t,e){var r=a(function(t){var e,r,i,s,a,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)n(l,o(t.subarray(e-64,e)));for(r=(t=e-64<c?t.subarray(e-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(l,i),e=0;e<16;e+=1)i[e]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,i[14]=a,i[15]=u,n(l,i),l}(new Uint8Array(t)));return e?c(r):r},l}()},9858:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},3073:(t,e,n)=>{"use strict";var r=n(7263),o=n(47),i=n(3414),s=n(2472);function a(t){return t.call.bind(t)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=a(Object.prototype.toString),f=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(u)var p=a(BigInt.prototype.valueOf);if(c)var m=a(Symbol.prototype.valueOf);function v(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(n){return!1}}function y(t){return"[object Map]"===l(t)}function g(t){return"[object Set]"===l(t)}function b(t){return"[object WeakMap]"===l(t)}function w(t){return"[object WeakSet]"===l(t)}function _(t){return"[object ArrayBuffer]"===l(t)}function x(t){return"undefined"!=typeof ArrayBuffer&&(_.working?_(t):t instanceof ArrayBuffer)}function k(t){return"[object DataView]"===l(t)}function S(t){return"undefined"!=typeof DataView&&(k.working?k(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=o,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||S(t)},e.isUint8Array=function(t){return"Uint8Array"===i(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===i(t)},e.isUint16Array=function(t){return"Uint16Array"===i(t)},e.isUint32Array=function(t){return"Uint32Array"===i(t)},e.isInt8Array=function(t){return"Int8Array"===i(t)},e.isInt16Array=function(t){return"Int16Array"===i(t)},e.isInt32Array=function(t){return"Int32Array"===i(t)},e.isFloat32Array=function(t){return"Float32Array"===i(t)},e.isFloat64Array=function(t){return"Float64Array"===i(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===i(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===i(t)},y.working="undefined"!=typeof Map&&y(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(y.working?y(t):t instanceof Map)},g.working="undefined"!=typeof Set&&g(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(g.working?g(t):t instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(b.working?b(t):t instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),e.isWeakSet=function(t){return w(t)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),e.isArrayBuffer=x,k.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=S;var C="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function O(t){return"[object SharedArrayBuffer]"===l(t)}function E(t){return void 0!==C&&(void 0===O.working&&(O.working=O(new C)),O.working?O(t):t instanceof C)}function A(t){return v(t,f)}function M(t){return v(t,h)}function T(t){return v(t,d)}function j(t){return u&&v(t,p)}function D(t){return c&&v(t,m)}e.isSharedArrayBuffer=E,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===l(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===l(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===l(t)},e.isGeneratorObject=function(t){return"[object Generator]"===l(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===l(t)},e.isNumberObject=A,e.isStringObject=M,e.isBooleanObject=T,e.isBigIntObject=j,e.isSymbolObject=D,e.isBoxedPrimitive=function(t){return A(t)||M(t)||T(t)||j(t)||D(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(x(t)||E(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})},755:(t,e,n)=>{var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),a=r[n];n<i;a=r[++n])v(a)||!_(a)?s+=" "+a:s+=" "+u(a);return s},e.deprecate=function(t,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return t.apply(this,arguments)}};var i={},s=/^$/;if(process.env.NODE_DEBUG){var a=process.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}function u(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),f(r,t,r.depth)}function c(t,e){var n=u.styles[e];return n?"\x1b["+u.colors[n][0]+"m"+t+"\x1b["+u.colors[n][1]+"m":t}function l(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return g(o)||(o=f(t,o,r)),o}var i=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}(t,n);if(i)return i;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),k(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(S(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return h(n)}var u,c="",l=!1,_=["{","}"];return p(n)&&(l=!0,_=["[","]"]),S(n)&&(c=" [Function"+(n.name?": "+n.name:"")+"]"),w(n)&&(c=" "+RegExp.prototype.toString.call(n)),x(n)&&(c=" "+Date.prototype.toUTCString.call(n)),k(n)&&(c=" "+h(n)),0!==s.length||l&&0!=n.length?r<0?w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=l?function(t,e,n,r,o){for(var i=[],s=0,a=e.length;s<a;++s)M(e,String(s))?i.push(d(t,e,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(d(t,e,n,r,o,!0))}),i}(t,n,r,a,s):s.map(function(e){return d(t,n,r,a,e,l)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,c,_)):_[0]+c+_[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,r,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=t.stylize(u.set?"[Getter/Setter]":"[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),M(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(u.value)<0?(a=v(n)?f(t,u.value,null):f(t,u.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function v(t){return null===t}function y(t){return"number"==typeof t}function g(t){return"string"==typeof t}function b(t){return void 0===t}function w(t){return _(t)&&"[object RegExp]"===C(t)}function _(t){return"object"==typeof t&&null!==t}function x(t){return _(t)&&"[object Date]"===C(t)}function k(t){return _(t)&&("[object Error]"===C(t)||t instanceof Error)}function S(t){return"function"==typeof t}function C(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!i[t])if(s.test(t)){var n=process.pid;i[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else i[t]=function(){};return i[t]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=n(3073),e.isArray=p,e.isBoolean=m,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=w,e.types.isRegExp=w,e.isObject=_,e.isDate=x,e.types.isDate=x,e.isError=k,e.types.isNativeError=k,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(9858);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),E[t.getMonth()],e].join(" ")}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",A(),e.format.apply(e,arguments))},e.inherits=n(8485),e._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(T&&t[T]){var e;if("function"!=typeof(e=t[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?n(t):e(r)});try{t.apply(this,o)}catch(s){n(s)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),T&&Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=T,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var r=e.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return r.apply(o,arguments)};t.apply(this,e).then(function(t){process.nextTick(i.bind(null,null,t))},function(t){process.nextTick(j.bind(null,t,i))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,r(t)),e}},8689:(t,e,n)=>{"use strict";var r=n(7026),o=n(3210),i=n(3682),s=n(9674),a=n(8496);t.exports=function(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:r(t)?"String":o(t)?"Number":i(t)?"Boolean":s(t)?"Symbol":a(t)?"BigInt":void 0}},593:(t,e,n)=>{"use strict";var r=n(3921),o=n(333),i=n(3736),s=n(8247);t.exports=function(t){if(t&&"object"==typeof t){if(r(t))return"Map";if(o(t))return"Set";if(i(t))return"WeakMap";if(s(t))return"WeakSet"}return!1}},3414:(t,e,n)=>{"use strict";var r=n(6229),o=n(4400),i=n(8818),s=i("Object.prototype.toString"),a=n(3432)(),u="undefined"==typeof globalThis?global:globalThis,c=o(),l=i("String.prototype.slice"),f={},h=n(7983),d=Object.getPrototypeOf;a&&h&&d&&r(c,function(t){if("function"==typeof u[t]){var e=new u[t];if(Symbol.toStringTag in e){var n=d(e),r=h(n,Symbol.toStringTag);if(!r){var o=d(n);r=h(o,Symbol.toStringTag)}f[t]=r.get}}});var p=n(2472);t.exports=function(t){return!!p(t)&&(a&&Symbol.toStringTag in t?function(t){var e=!1;return r(f,function(n,r){if(!e)try{var o=n.call(t);o===r&&(e=o)}catch(i){}}),e}(t):l(s(t),8,-1))}},9928:t=>{t.exports=function(){for(var t={},n=0;n<arguments.length;n++){var r=arguments[n];for(var o in r)e.call(r,o)&&(t[o]=r[o])}return t};var e=Object.prototype.hasOwnProperty},2337:(t,e,n)=>{"use strict";var r={};n.r(r),n.d(r,{VERSION:()=>Lh,after:()=>hm,all:()=>Dm,allKeys:()=>Qd,any:()=>Pm,assign:()=>hp,before:()=>dm,bind:()=>tm,bindAll:()=>rm,chain:()=>Gp,chunk:()=>mv,clone:()=>vp,collect:()=>Om,compact:()=>ov,compose:()=>fm,constant:()=>Td,contains:()=>Im,countBy:()=>Wm,create:()=>mp,debounce:()=>um,default:()=>gv,defaults:()=>dp,defer:()=>sm,delay:()=>im,detect:()=>km,difference:()=>sv,drop:()=>nv,each:()=>Cm,escape:()=>$p,every:()=>Dm,extend:()=>fp,extendOwn:()=>hp,filter:()=>Tm,find:()=>km,findIndex:()=>ym,findKey:()=>mm,findLastIndex:()=>gm,findWhere:()=>Sm,first:()=>ev,flatten:()=>iv,foldl:()=>Am,foldr:()=>Mm,forEach:()=>Cm,functions:()=>cp,get:()=>_p,groupBy:()=>Um,has:()=>xp,head:()=>ev,identity:()=>kp,include:()=>Im,includes:()=>Im,indexBy:()=>Hm,indexOf:()=>_m,initial:()=>tv,inject:()=>Am,intersection:()=>lv,invert:()=>up,invoke:()=>Rm,isArguments:()=>Ed,isArray:()=>Sd,isArrayBuffer:()=>vd,isBoolean:()=>ad,isDataView:()=>kd,isDate:()=>hd,isElement:()=>ud,isEmpty:()=>Vd,isEqual:()=>Jd,isError:()=>pd,isFinite:()=>Ad,isFunction:()=>gd,isMap:()=>np,isMatch:()=>Bd,isNaN:()=>Md,isNull:()=>id,isNumber:()=>fd,isObject:()=>od,isRegExp:()=>dd,isSet:()=>op,isString:()=>ld,isSymbol:()=>md,isTypedArray:()=>Nd,isUndefined:()=>sd,isWeakMap:()=>rp,isWeakSet:()=>ip,iteratee:()=>Ap,keys:()=>Fd,last:()=>rv,lastIndexOf:()=>xm,map:()=>Om,mapObject:()=>Tp,matcher:()=>Sp,matches:()=>Sp,max:()=>$m,memoize:()=>om,methods:()=>cp,min:()=>Fm,mixin:()=>yv,negate:()=>lm,noop:()=>jp,now:()=>Rp,object:()=>dv,omit:()=>Ym,once:()=>pm,pairs:()=>ap,partial:()=>Yp,partition:()=>Jm,pick:()=>Xm,pluck:()=>Nm,property:()=>Cp,propertyOf:()=>Dp,random:()=>Ip,range:()=>pv,reduce:()=>Am,reduceRight:()=>Mm,reject:()=>jm,rest:()=>nv,restArguments:()=>rd,result:()=>Jp,sample:()=>Vm,select:()=>Tm,shuffle:()=>Bm,size:()=>Gm,some:()=>Pm,sortBy:()=>zm,sortedIndex:()=>bm,tail:()=>nv,take:()=>ev,tap:()=>yp,template:()=>Wp,templateSettings:()=>Vp,throttle:()=>am,times:()=>Pp,toArray:()=>Km,toPath:()=>gp,transpose:()=>fv,unescape:()=>Fp,union:()=>cv,uniq:()=>uv,unique:()=>uv,uniqueId:()=>Kp,unzip:()=>fv,values:()=>sp,where:()=>Lm,without:()=>av,wrap:()=>cm,zip:()=>hv});var o=n(2890),i=n(869),s=n(5321),a=n(7044),u=n(3030);function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function p(t){return t.__forward_ref__=p,t.toString=function(){return f(this())},t}function m(t){return v(t)?t():t}function v(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}class y extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function g(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():g(t)}function w(t,e){const n=e?` in ${e}`:"";throw new y("201",`No provider for ${b(t)} found${n}`)}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function x(t){return{providers:t.providers||[],imports:t.imports||[]}}function k(t){return S(t,O)||S(t,A)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(M))?t[E]:null}const O=c({"\u0275prov":c}),E=c({"\u0275inj":c}),A=c({ngInjectableDef:c}),M=c({ngInjectorDef:c});var T=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let j;function D(t){const e=j;return j=t,e}function P(t,e,n){const r=k(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&T.Optional?null:void 0!==e?e:void w(f(t),"Injector")}function I(t){return{toString:t}.toString()}var R=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),N=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,$="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,B=L||V||$||F,z={},q=[],U=c({"\u0275cmp":c}),H=c({"\u0275dir":c}),W=c({"\u0275pipe":c}),J=c({"\u0275mod":c}),Q=c({"\u0275loc":c}),K=c({"\u0275fac":c}),G=c({__NG_ELEMENT_ID__:c});let Z=0;function X(t){return I(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||q,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,o=t.features,i=t.pipes;return n.id+=Z++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),o&&o.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Y):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(tt):null,n})}function Y(t){return it(t)||function(t){return t[H]||null}(t)}function tt(t){return function(t){return t[W]||null}(t)}const et={};function nt(t){return I(()=>{const e={type:t.type,bootstrap:t.bootstrap||q,declarations:t.declarations||q,imports:t.imports||q,exports:t.exports||q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(et[t.id]=t.type),e})}function rt(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,e&&(e[o]=i)}return n}const ot=X;function it(t){return t[U]||null}function st(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const at=20,ut=10;function ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function lt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function ht(t){return 2==(2&t.flags)}function dt(t){return 1==(1&t.flags)}function pt(t){return null!==t.template}function mt(t,e){return t.hasOwnProperty(K)?t[K]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yt(){return gt}function gt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),bt}function bt(){const t=_t(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const o=_t(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],u=s[a];i[a]=new vt(u&&u.currentValue,e,s===z),t[r]=e}function _t(t){return t.__ngSimpleChanges__||null}yt.ngInherit=!0;const xt="http://www.w3.org/2000/svg";let kt;function St(t){return!!t.listen}const Ct={createRenderer:(t,e)=>void 0!==kt?kt:"undefined"!=typeof document?document:void 0};function Ot(t){for(;Array.isArray(t);)t=t[0];return t}function Et(t,e){return Ot(e[t])}function At(t,e){return Ot(e[t.index])}function Mt(t,e){return t.data[e]}function Tt(t,e){const n=e[t];return ct(n)?n:n[0]}function jt(t){return 4==(4&t[2])}function Dt(t){return 128==(128&t[2])}function Pt(t,e){return null==e?null:t[e]}function It(t){t[18]=0}function Rt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Nt={lFrame:re(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Lt(){return Nt.bindingsEnabled}function $t(){return Nt.lFrame.lView}function Ft(){return Nt.lFrame.tView}function Vt(t){return Nt.lFrame.contextLView=t,t[8]}function Bt(){let t=zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function zt(){return Nt.lFrame.currentTNode}function qt(t,e){const n=Nt.lFrame;n.currentTNode=t,n.isParent=e}function Ut(){return Nt.lFrame.isParent}function Ht(){return Nt.isInCheckNoChangesMode}function Wt(t){Nt.isInCheckNoChangesMode=t}function Jt(){return Nt.lFrame.bindingIndex++}function Qt(t){const e=Nt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Kt(t,e){const n=Nt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Gt(e)}function Gt(t){Nt.lFrame.currentDirectiveIndex=t}function Zt(){return Nt.lFrame.currentQueryIndex}function Xt(t){Nt.lFrame.currentQueryIndex=t}function Yt(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function te(t,e,n){if(n&T.SkipSelf){let r=e,o=t;for(;r=r.parent,!(null!==r||n&T.Host||(r=Yt(o),null===r)||(o=o[15],10&r.type)););if(null===r)return!1;e=r,t=o}const r=Nt.lFrame=ne();return r.currentTNode=e,r.lView=t,!0}function ee(t){const e=ne(),n=t[1];Nt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ne(){const t=Nt.lFrame,e=null===t?null:t.child;return null===e?re(t):e}function re(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function oe(){const t=Nt.lFrame;return Nt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ie=oe;function se(){const t=oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ae(){return Nt.lFrame.selectedIndex}function ue(t){Nt.lFrame.selectedIndex=t}function ce(){const t=Nt.lFrame;return Mt(t.tView,t.selectedIndex)}function le(){Nt.lFrame.currentNamespace=xt}function fe(){Nt.lFrame.currentNamespace=null}function he(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:o,ngAfterViewInit:i,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),o&&((t.contentHooks||(t.contentHooks=[])).push(n,o),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,o)),i&&(t.viewHooks||(t.viewHooks=[])).push(-n,i),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function de(t,e,n){ve(t,e,3,n)}function pe(t,e,n,r){(3&t[2])===n&&ve(t,e,n,r)}function me(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ve(t,e,n,r){const o=null!=r?r:-1,i=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<i;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<o||-1==o)&&(ye(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ye(t,e,n,r){const o=n[r]<0,i=n[r+1],s=t[o?-n[r]:n[r]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{i.call(s)}finally{}}}else try{i.call(s)}finally{}}const ge=-1;class be{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function we(t,e,n){const r=St(t);let o=0;for(;o<n.length;){const i=n[o];if("number"==typeof i){if(0!==i)break;o++;const s=n[o++],a=n[o++],u=n[o++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=i,a=n[++o];xe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),o++}}return o}function _e(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?n=o:0===n||Se(t,n,o,null,-1===n||2===n?e[++r]:null)}}return t}function Se(t,e,n,r,o){let i=0,s=t.length;if(-1===e)s=-1;else for(;i<t.length;){const n=t[i++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=i-1;break}}}for(;i<t.length;){const e=t[i];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function Ce(t){return t!==ge}function Oe(t){return 32767&t}function Ee(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ae=!0;function Me(t){const e=Ae;return Ae=t,e}let Te=0;function je(t,e){const n=Pe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,De(r.data,t),De(e,null),De(r.blueprint,null));const o=Ie(t,e),i=t.injectorIndex;if(Ce(o)){const t=Oe(o),n=Ee(o,e),r=n[1].data;for(let o=0;o<8;o++)e[i+o]=n[t+o]|r[t+o]}return e[i+8]=o,i}function De(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ie(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;null!==o;){const t=o[1],e=t.type;if(r=2===e?t.declTNode:1===e?o[6]:null,null===r)return ge;if(n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ge}function Re(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=Te++);const o=255&r;e.data[t+(o>>5)]|=1<<o}(t,e,n)}function Ne(t,e,n){if(n&T.Optional)return t;w(e,"NodeInjector")}function Le(t,e,n,r){if(n&T.Optional&&void 0===r&&(r=null),0==(n&(T.Self|T.Host))){const o=t[9],i=D(void 0);try{return o?o.get(e,r,n&T.Optional):P(e,r,n&T.Optional)}finally{D(i)}}return Ne(r,e,n)}function $e(t,e,n,r=T.Default,o){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e?e>=0?255&e:Ve:e}(n);if("function"==typeof i){if(!te(e,t,r))return r&T.Host?Ne(o,n,r):Le(e,n,r,o);try{const t=i(r);if(null!=t||r&T.Optional)return t;w(n)}finally{ie()}}else if("number"==typeof i){let o=null,s=Pe(t,e),a=ge,u=r&T.Host?e[16][6]:null;for((-1===s||r&T.SkipSelf)&&(a=-1===s?Ie(t,e):e[s+8],a!==ge&&He(r,!1)?(o=e[1],s=Oe(a),e=Ee(a,e)):s=-1);-1!==s;){const t=e[1];if(Ue(i,s,t.data)){const t=Be(s,e,n,o,r,u);if(t!==Fe)return t}a=e[s+8],a!==ge&&He(r,e[1].data[s+8]===u)&&Ue(i,s,e)?(o=t,s=Oe(a),e=Ee(a,e)):s=-1}}}return Le(e,n,r,o)}const Fe={};function Ve(){return new We(Bt(),$t())}function Be(t,e,n,r,o,i){const s=e[1],a=s.data[t+8],u=ze(a,s,n,null==r?ht(a)&&Ae:r!=s&&0!=(3&a.type),o&T.Host&&i===a);return null!==u?qe(e,s,u,a):Fe}function ze(t,e,n,r,o){const i=t.providerIndexes,s=e.data,a=1048575&i,u=t.directiveStart,c=i>>20,l=o?a+c:t.directiveEnd;for(let f=r?a:a+c;f<l;f++){const t=s[f];if(f<u&&n===t||f>=u&&t.type===n)return f}if(o){const t=s[u];if(t&&pt(t)&&t.type===n)return u}return null}function qe(t,e,n,r){let o=t[n];const i=e.data;if(o instanceof be){const s=o;s.resolving&&function(t,e){throw new y("200",`Circular dependency in DI detected for ${t}`)}(b(i[n]));const a=Me(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;te(t,r,T.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const r=gt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i))}(n,i[n],e)}finally{null!==u&&D(u),Me(a),s.resolving=!1,ie()}}return o}function Ue(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function He(t,e){return!(t&T.Self||t&T.Host&&e)}class We{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return $e(this._tNode,this._lView,t,void 0,e)}}function Je(t){return I(()=>{const e=t.prototype.constructor,n=e[K]||Qe(e),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const t=o[K]||Qe(o);if(t&&t!==n)return t;o=Object.getPrototypeOf(o)}return t=>new t})}function Qe(t){return v(t)?()=>{const e=Qe(m(t));return e&&e()}:mt(t)}function Ke(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const o=n[r];if(_e(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(o===e)return n[r+1];r+=2}}}return null}(Bt(),t)}const Ge="__parameters__";function Ze(t,e,n){return I(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function o(...t){if(this instanceof o)return r.apply(this,t),this;const e=new o(...t);return n.annotation=e,n;function n(t,n,r){const o=t.hasOwnProperty(Ge)?t[Ge]:Object.defineProperty(t,Ge,{value:[]})[Ge];for(;o.length<=r;)o.push(null);return(o[r]=o[r]||[]).push(e),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class Xe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ye=new Xe("AnalyzeForEntryComponents"),tn=Function;function en(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),en(r,e)):e!==t&&e.push(r)}return e}function nn(t,e){t.forEach(t=>Array.isArray(t)?nn(t,e):e(t))}function rn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function on(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sn(t,e,n){let r=un(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(1===o)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;)t[o]=t[o-2],o--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function an(t,e){const n=un(t,e);if(n>=0)return t[1|n]}function un(t,e){return function(t,e,n){let r=0,o=t.length>>1;for(;o!==r;){const n=r+(o-r>>1),i=t[n<<1];if(e===i)return n<<1;i>e?o=n:r=n+1}return~(o<<1)}(t,e)}const cn={},ln=/\n/gm,fn="__source",hn=c({provide:String,useValue:c});let dn;function pn(t){const e=dn;return dn=t,e}function mn(t,e=T.Default){if(void 0===dn)throw new Error("inject() must be called from an injection context");return null===dn?P(t,void 0,e):dn.get(t,e&T.Optional?null:void 0,e)}function vn(t,e=T.Default){return(j||mn)(m(t),e)}function yn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=T.Default;for(let e=0;e<r.length;e++){const o=r[e],i=o.__NG_DI_FLAG__;"number"==typeof i?-1===i?t=o.token:n|=i:t=o}e.push(vn(t,n))}else e.push(vn(r))}return e}function gn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const bn=gn(Ze("Inject",t=>({token:t})),-1),wn=gn(Ze("Optional"),8),_n=gn(Ze("SkipSelf"),4);class xn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function kn(t){return t instanceof xn?t.changingThisBreaksApplicationSecurity:t}const Sn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Cn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var On=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function En(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(On.URL,t)||"":function(t,e){const n=function(t){return t instanceof xn&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?kn(t):(n=g(t),(n=String(n)).match(Sn)||n.match(Cn)?n:"unsafe:"+n);var n}function An(t,e){t.__ngContext__=e}function Mn(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Tn(t){return t.ngDebugContext}function jn(t){return t.ngOriginalError}function Dn(t,...e){t.error(...e)}class Pn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Dn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Tn(t)?Tn(t):this._findContext(jn(t)):null}_findOriginalError(t){let e=jn(t);for(;e&&jn(e);)e=jn(e);return e}}const In=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Rn(t){return t instanceof Function?t():t}var Nn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ln(t,e){return(void 0)(t,e)}function $n(t){const e=t[3];return lt(e)?e[3]:e}function Fn(t){return Bn(t[13])}function Vn(t){return Bn(t[4])}function Bn(t){for(;null!==t&&!lt(t);)t=t[4];return t}function zn(t,e,n,r,o){if(null!=r){let i,s=!1;lt(r)?i=r:ct(r)&&(s=!0,r=r[0]);const a=Ot(r);0===t&&null!==n?null==o?Kn(e,n,a):Qn(e,n,a,o||null,!0):1===t&&null!==n?Qn(e,n,a,o||null,!0):2===t?function(t,e,n){const r=Zn(t,e);r&&function(t,e,n,r){St(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=i&&function(t,e,n,r,o){const i=n[7];i!==Ot(n)&&zn(e,t,r,i,o);for(let s=ut;s<n.length;s++){const o=n[s];rr(o[1],o,t,e,r,i)}}(e,t,i,n,o)}}function qn(t,e,n){return St(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Un(t,e){const n=t[9],r=n.indexOf(e),o=e[3];1024&e[2]&&(e[2]&=-1025,Rt(o,-1)),n.splice(r,1)}function Hn(t,e){if(t.length<=ut)return;const n=ut+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Un(i,r),e>0&&(t[n-1][4]=r[4]);const s=on(t,ut+e);rr(r[1],o=r,o[11],2,null,null),o[0]=null,o[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var o;return r}function Wn(t,e){if(!(256&e[2])){const n=e[11];St(n)&&n.destroyNode&&rr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Jn(t[1],t);for(;e;){let n=null;if(ct(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ct(e)&&Jn(e[1],e),e=e[3];null===e&&(e=t),ct(e)&&Jn(e[1],e),n=e&&e[4]}e=n}}(e)}}function Jn(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof be)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],o=e[n+1];try{o.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let o=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const t=n[i+1],s="function"==typeof t?t(e):Ot(e[t]),a=r[o=n[i+2]],u=n[i+3];"boolean"==typeof u?s.removeEventListener(n[i],a,u):u>=0?r[o=u]():r[o=-u].unsubscribe(),i+=2}else{const t=r[o=n[i+1]];n[i].call(t)}if(null!==r){for(let t=o+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&St(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&lt(e[3])){n!==e[3]&&Un(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Qn(t,e,n,r,o){St(t)?t.insertBefore(e,n,r,o):e.insertBefore(n,r,o)}function Kn(t,e,n){St(t)?t.appendChild(e,n):e.appendChild(n)}function Gn(t,e,n,r,o){null!==r?Qn(t,e,n,r,o):Kn(t,e,n)}function Zn(t,e){return St(t)?t.parentNode(e):e.parentNode}function Xn(t,e,n,r){const o=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===N.None||e===N.Emulated)return null}return At(r,n)}(t,e.parent,n)}(t,r,e),i=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?At(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=o)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gn(i,o,n[a],s,!1);else Gn(i,o,n,s,!1)}function Yn(t,e){if(null!==e){const n=e.type;if(3&n)return At(e,t);if(4&n)return er(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Yn(t,n);{const n=t[e.index];return lt(n)?er(-1,n):Ot(n)}}if(32&n)return Ln(e,t)()||Ot(t[e.index]);{const n=tr(t,e);return null!==n?Array.isArray(n)?n[0]:Yn($n(t[16]),n):Yn(t,e.next)}}return null}function tr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function er(t,e){const n=ut+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Yn(t,r)}return e[7]}function nr(t,e,n,r,o,i,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&An(Ot(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)nr(t,e,n.child,r,o,i,!1),zn(e,t,o,a,i);else if(32&u){const s=Ln(n,r);let u;for(;u=s();)zn(e,t,o,u,i);zn(e,t,o,a,i)}else 16&u?or(t,e,r,n,o,i):zn(e,t,o,a,i);n=s?n.projectionNext:n.next}}function rr(t,e,n,r,o,i){nr(n,r,t.firstChild,e,o,i,!1)}function or(t,e,n,r,o,i){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)zn(e,t,o,a[u],i);else nr(t,e,a,s[3],o,i,!0)}function ir(t,e,n){St(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function sr(t,e,n){St(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ar(t,e,n){let r=t.length;for(;;){const o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const n=e.length;if(o+n===r||t.charCodeAt(o+n)<=32)return o}n=o+1}}const ur="ng-template";function cr(t,e,n){let r=0;for(;r<t.length;){let o=t[r++];if(n&&"class"===o){if(o=t[r],-1!==ar(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function lr(t){return 4===t.type&&t.value!==ur}function fr(t,e,n){return e===(4!==t.type||n?t.value:ur)}function hr(t,e,n){let r=4;const o=t.attrs||[],i=function(t){for(let e=0;e<t.length;e++)if(_e(t[e]))return e;return t.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!fr(t,u,n)||""===u&&1===e.length){if(dr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!cr(t.attrs,c,n)){if(dr(r))return!1;s=!0}continue}const l=pr(8&r?"class":u,o,lr(t),n);if(-1===l){if(dr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>i?"":o[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ar(e,c,0)||2&r&&c!==t){if(dr(r))return!1;s=!0}}}}else{if(!s&&!dr(r)&&!dr(u))return!1;if(s&&dr(u))continue;s=!1,r=u|1&r}}return dr(r)||s}function dr(t){return 0==(1&t)}function pr(t,e,n,r){if(null===e)return-1;let o=0;if(r||!n){let n=!1;for(;o<e.length;){const r=e[o];if(r===t)return o;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++o];for(;"string"==typeof t;)t=e[++o];continue}if(4===r)break;if(0===r){o+=4;continue}}o+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function mr(t,e,n=!1){for(let r=0;r<e.length;r++)if(hr(t,e[r],n))return!0;return!1}function vr(t,e){return t?":not("+e.trim()+")":e}function yr(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];o+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""===o||dr(s)||(e+=vr(i,o),o=""),r=s,i=i||!dr(r);n++}return""!==o&&(e+=vr(i,o)),e}const gr={};function br(t){wr(Ft(),$t(),ae()+t,Ht())}function wr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&de(e,r,n)}else{const r=t.preOrderHooks;null!==r&&pe(e,r,0,n)}ue(n)}function _r(t,e){return t<<17|e<<2}function xr(t){return t>>17&32767}function kr(t){return 2|t}function Sr(t){return(131068&t)>>2}function Cr(t,e){return-131069&t|e<<2}function Or(t){return 1|t}function Er(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],i=n[r+1];if(-1!==i){const n=t.data[i];Xt(o),n.contentQueries(2,e[i],i)}}}function Ar(t,e,n,r,o,i,s,a,u,c){const l=e.blueprint.slice();return l[0]=o,l[2]=140|r,It(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=i,l[16]=2==e.type?t[16]:l,l}function Mr(t,e,n,r,o){let i=t.data[e];if(null===i)i=function(t,e,n,r,o){const i=zt(),s=Ut(),a=t.data[e]=function(t,e,n,r,o,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,e,r,o);return null===t.firstChild&&(t.firstChild=a),null!==i&&(s?null==i.child&&null!==a.parent&&(i.child=a):null===i.next&&(i.next=a)),a}(t,e,n,r,o),Nt.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const t=function(){const t=Nt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();i.injectorIndex=null===t?-1:t.injectorIndex}return qt(i,!0),i}function Tr(t,e,n,r){if(0===n)return-1;const o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function jr(t,e,n){ee(e);try{const r=t.viewQuery;null!==r&&so(1,r,n);const o=t.template;null!==o&&Ir(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Er(t,e),t.staticViewQueries&&so(2,t.viewQuery,n);const i=t.components;null!==i&&function(t,e){for(let n=0;n<e.length;n++)eo(t,e[n])}(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,se()}}function Dr(t,e,n,r){const o=e[2];if(256==(256&o))return;ee(e);const i=Ht();try{It(e),Nt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ir(t,e,n,2,r);const s=3==(3&o);if(!i)if(s){const n=t.preOrderCheckHooks;null!==n&&de(e,n,null)}else{const n=t.preOrderHooks;null!==n&&pe(e,n,0,null),me(e,0)}if(function(t){for(let e=Fn(t);null!==e;e=Vn(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Rt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Fn(t);null!==e;e=Vn(e))for(let t=ut;t<e.length;t++){const n=e[t],r=n[1];Dt(n)&&Dr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Er(t,e),!i)if(s){const n=t.contentCheckHooks;null!==n&&de(e,n)}else{const n=t.contentHooks;null!==n&&pe(e,n,1),me(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ue(~r);else{const o=r,i=n[++t],s=n[++t];Kt(i,o),s(2,e[o])}}}finally{ue(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Yr(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&so(2,u,r),!i)if(s){const n=t.viewCheckHooks;null!==n&&de(e,n)}else{const n=t.viewHooks;null!==n&&pe(e,n,2),me(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Rt(e[3],-1))}finally{se()}}function Pr(t,e,n,r){const o=e[10],i=!Ht(),s=jt(e);try{i&&!s&&o.begin&&o.begin(),s&&jr(t,e,r),Dr(t,e,n,r)}finally{i&&!s&&o.end&&o.end()}}function Ir(t,e,n,r,o){const i=ae(),s=2&r;try{ue(-1),s&&e.length>at&&wr(t,e,at,Ht()),n(r,o)}finally{ue(i)}}function Rr(t,e,n){Lt()&&(function(t,e,n,r){const o=n.directiveStart,i=n.directiveEnd;t.firstCreatePass||je(n,e),An(r,e);const s=n.initialInputs;for(let a=o;a<i;a++){const r=t.data[a],i=pt(r);i&&Kr(e,n,r);const u=qe(e,t,a,n);An(u,e),null!==s&&Gr(0,a-o,u,r,0,s),i&&(Tt(n.index,e)[8]=u)}}(t,e,n,At(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Nt.lFrame.currentDirectiveIndex;try{ue(i);for(let n=r;n<o;n++){const r=t.data[n],o=e[n];Gt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ur(r,o)}}finally{ue(-1),Gt(s)}}(t,e,n))}function Nr(t,e,n=At){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(e,t):t[s];t[o++]=a}}}function Lr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$r(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function $r(t,e,n,r,o,i,s,a,u,c){const l=at+r,f=l+o,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:gr);return n}(l,f),d="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Fr(t,e,n,r){const o=uo(e);null===n?o.push(r):(o.push(n),t.firstCreatePass&&co(t).push(r,o.length-1))}function Vr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,o):n[r]=[e,o]}return n}function Br(t,e,n,r,o,i,s,a){const u=At(e,n);let c,l=e.inputs;var f;!a&&null!=l&&(c=l[r])?(fo(t,n,c,r,o),ht(e)&&function(t,e){const n=Tt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(f=r)?"className":"for"===f?"htmlFor":"formaction"===f?"formAction":"innerHtml"===f?"innerHTML":"readonly"===f?"readOnly":"tabindex"===f?"tabIndex":f,o=null!=s?s(o,e.value||"",r):o,St(i)?i.setProperty(u,r,o):xe(r)||(u.setProperty?u.setProperty(r,o):u[r]=o))}function zr(t,e,n,r){let o=!1;if(Lt()){const i=function(t,e,n){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];mr(n,s.selectors,!1)&&(o||(o=[]),Re(je(n,e),t,s.type),pt(s)?(Hr(t,n),o.unshift(s)):o.push(s))}return o}(t,e,n),s=null===r?null:{"":-1};if(null!==i){o=!0,Jr(n,t.data.length,i.length);for(let t=0;t<i.length;t++){const e=i[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Tr(t,e,i.length,null);for(let o=0;o<i.length;o++){const c=i[o];n.mergedAttrs=ke(n.mergedAttrs,c.hostAttrs),Qr(t,n,e,u,c),Wr(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,o=e.attrs,i=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===o||lr(e)?null:Zr(n,o);i.push(c),s=Vr(n,u,s),a=Vr(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=i,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const o=n[e[t+1]];if(null==o)throw new y("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],o)}}}(n,r,s)}return n.mergedAttrs=ke(n.mergedAttrs,n.attrs),o}function qr(t,e,n,r,o,i){const s=i.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const i=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(r,o,s)}}function Ur(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Hr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Wr(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pt(e)&&(n[""]=t)}}function Jr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Qr(t,e,n,r,o){t.data[r]=o;const i=o.factory||(o.factory=mt(o.type)),s=new be(i,pt(o),null);t.blueprint[r]=s,n[r]=s,qr(t,e,0,r,Tr(t,n,o.hostVars,gr),o)}function Kr(t,e,n){const r=At(e,t),o=Lr(n),i=t[10],s=no(t,Ar(t,o,null,n.onPush?64:16,r,e,i,i.createRenderer(r,n),null,null));t[e.index]=s}function Gr(t,e,n,r,o,i){const s=i[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const o=s[e++],i=s[e++],a=s[e++];null!==t?r.setInput(n,a,o,i):n[i]=a}}}function Zr(t,e){let n=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,t[o],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Xr(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Yr(t,e){const n=Tt(e,t);if(Dt(n)){const t=n[1];80&n[2]?Dr(t,n,t.template,n[8]):n[5]>0&&to(n)}}function to(t){for(let n=Fn(t);null!==n;n=Vn(n))for(let t=ut;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Dr(t,e,t.template,e[8])}else e[5]>0&&to(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Tt(e[n],t);Dt(r)&&r[5]>0&&to(r)}}function eo(t,e){const n=Tt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),jr(r,n,n[8])}function no(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ro(t){for(;t;){t[2]|=64;const e=$n(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function oo(t,e,n){const r=e[10];r.begin&&r.begin();try{Dr(t,e,t.template,n)}catch(o){throw lo(e,o),o}finally{r.end&&r.end()}}function io(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mn(n),o=r[1];Pr(o,r,o.template,n)}}(t[8])}function so(t,e,n){Xt(0),e(t,n)}const ao=(()=>Promise.resolve(null))();function uo(t){return t[7]||(t[7]=[])}function co(t){return t.cleanup||(t.cleanup=[])}function lo(t,e){const n=t[9],r=n?n.get(Pn,null):null;r&&r.handleError(e)}function fo(t,e,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,o,r,a):u[a]=o}}function ho(t,e,n){const r=Et(e,t);!function(t,e,n){St(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function po(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?i=t:1==i?o=h(o,t):2==i&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}const mo=new Xe("INJECTOR",-1);class vo{get(t,e=cn){if(e===cn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const yo=new Xe("Set Injector scope."),go={},bo={};let wo;function _o(){return void 0===wo&&(wo=new vo),wo}function xo(t,e=null,n=null,r){return new ko(t,n,e||_o(),r)}class ko{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&nn(e,n=>this.processProvider(n,t,e)),nn([t],t=>this.processInjectorType(t,[],o)),this.records.set(mo,Oo(void 0,this));const i=this.records.get(yo);this.scope=null!=i?i.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=cn,n=T.Default){this.assertNotDestroyed();const r=pn(this);try{if(!(n&T.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof Xe)&&k(t);e=n&&this.injectableDefInScope(n)?Oo(So(t),go):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&T.Self?_o():this.parent).get(t,e=n&T.Optional&&e===cn?null:e)}catch(i){if("NullInjectorError"===i.name){if((i.ngTempTokenPath=i.ngTempTokenPath||[]).unshift(f(t)),r)throw i;return function(t,e,n,r){const o=t.ngTempTokenPath;throw e[fn]&&o.unshift(e[fn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let o=f(e);if(Array.isArray(e))o=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}o=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(ln,"\n  ")}`}("\n"+t.message,o,n,r),t.ngTokenPath=o,t.ngTempTokenPath=null,t}(i,t,"R3InjectorError",this.source)}throw i}finally{pn(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=C(t);const o=null==r&&t.ngModule||void 0,i=void 0===o?t:o,s=-1!==n.indexOf(i);if(void 0!==o&&(r=C(o)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(i);try{nn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];nn(r,t=>this.processProvider(t,n,r||q))}}this.injectorDefTypes.add(i);const a=mt(i)||(()=>new i);this.records.set(i,Oo(a,go));const u=r.providers;if(null!=u&&!s){const e=t;nn(u,t=>this.processProvider(t,e,u))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,n){let r=Ao(t=m(t))?t:m(t&&t.provide);const o=function(t,e,n){return Eo(t)?Oo(void 0,t.useValue):Oo(Co(t),go)}(t);if(Ao(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Oo(void 0,go,!0),e.factory=()=>yn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,o)}hydrate(t,e){var n;return e.value===go&&(e.value=bo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=m(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function So(t){const e=k(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;if(t instanceof Xe)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Co(t,e,n){let r;if(Ao(t)){const e=m(t);return mt(e)||So(e)}if(Eo(t))r=()=>m(t.useValue);else if((o=t)&&o.useFactory)r=()=>t.useFactory(...yn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>vn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||So(e);r=()=>new e(...yn(t.deps))}var o;return r}function Oo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Eo(t){return null!==t&&"object"==typeof t&&hn in t}function Ao(t){return"function"==typeof t}const Mo=function(t,e,n){return function(t,e=null,n=null,r){const o=xo(t,e,n,r);return o._resolveInjectorDefTypes(),o}({name:n},e,t,n)};let To=(()=>{class t{static create(t,e){return Array.isArray(t)?Mo(t,e,""):Mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=cn,t.NULL=new vo,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>vn(mo)}),t.__NG_ELEMENT_ID__=-1,t})();function jo(t,e){he(Mn(t)[1],Bt())}function Do(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let o;if(pt(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");o=e.\u0275dir}if(o){if(n){r.push(o);const e=t;e.inputs=Po(t.inputs),e.declaredInputs=Po(t.declaredInputs),e.outputs=Po(t.outputs);const n=o.hostBindings;n&&No(t,n);const i=o.viewQuery,s=o.contentQueries;if(i&&Io(t,i),s&&Ro(t,s),l(t.inputs,o.inputs),l(t.declaredInputs,o.declaredInputs),l(t.outputs,o.outputs),pt(o)&&o.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(o.data.animation)}}const e=o.features;if(e)for(let r=0;r<e.length;r++){const o=e[r];o&&o.ngInherit&&o(t),o===Do&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=ke(o.hostAttrs,n=ke(n,o.hostAttrs))}}(r)}function Po(t){return t===z?{}:t===q?[]:t}function Io(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ro(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,o)=>{e(t,r,o),n(t,r,o)}:e}function No(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Lo=null;function $o(){if(!Lo){const t=B.Symbol;if(t&&t.iterator)Lo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Lo=n)}}}return Lo}function Fo(t){return!!Vo(t)&&(Array.isArray(t)||!(t instanceof Map)&&$o()in t)}function Vo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Bo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function zo(t,e,n,r){const o=$t();return Bo(o,Jt(),e)&&(Ft(),function(t,e,n,r,o,i){const s=At(t,e);!function(t,e,n,r,o,i,s){if(null==i)St(t)?t.removeAttribute(e,o,n):e.removeAttribute(o);else{const a=null==s?g(i):s(i,r||"",o);St(t)?t.setAttribute(e,o,a,n):n?e.setAttributeNS(n,o,a):e.setAttribute(o,a)}}(e[11],s,i,t.value,n,r,o)}(ce(),o,t,e,n,r)),zo}function qo(t,e,n,r,o,i,s,a){const u=$t(),c=Ft(),l=t+at,f=c.firstCreatePass?function(t,e,n,r,o,i,s,a,u){const c=e.consts,l=Mr(e,t,4,s||null,Pt(c,a));zr(e,n,l,Pt(c,u)),he(e,l);const f=l.tViews=$r(2,l,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,o,i,s):c.data[l];qt(f,!1);const h=u[11].createComment("");Xn(c,u,h,f),An(h,u),no(u,u[l]=Xr(h,u,h,f)),dt(f)&&Rr(c,u,f),null!=s&&Nr(u,f,a)}function Uo(t){return function(t,e){return t[e]}(Nt.lFrame.contextLView,at+t)}function Ho(t,e=T.Default){const n=$t();return null===n?vn(t,e):$e(Bt(),n,m(t),e)}function Wo(t,e,n){const r=$t();return Bo(r,Jt(),e)&&Br(Ft(),ce(),r,t,e,r[11],n,!1),Wo}function Jo(t,e,n,r,o){const i=o?"class":"style";fo(t,n,e.inputs[i],i,r)}function Qo(t,e,n,r){const o=$t(),i=Ft(),s=at+t,a=o[11],u=o[s]=qn(a,e,Nt.lFrame.currentNamespace),c=i.firstCreatePass?function(t,e,n,r,o,i,s){const a=e.consts,u=Mr(e,t,2,o,Pt(a,i));return zr(e,n,u,Pt(a,s)),null!==u.attrs&&po(u,u.attrs,!1),null!==u.mergedAttrs&&po(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,i,o,0,e,n,r):i.data[s];qt(c,!0);const l=c.mergedAttrs;null!==l&&we(a,u,l);const f=c.classes;null!==f&&sr(a,u,f);const h=c.styles;null!==h&&ir(a,u,h),64!=(64&c.flags)&&Xn(i,o,u,c),0===Nt.lFrame.elementDepthCount&&An(u,o),Nt.lFrame.elementDepthCount++,dt(c)&&(Rr(i,o,c),function(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const e=t.data[o];e.contentQueries&&e.contentQueries(1,n[o],o)}}}(i,c,o)),null!==r&&Nr(o,c)}function Ko(){let t=Bt();Ut()?Nt.lFrame.isParent=!1:(t=t.parent,qt(t,!1));const e=t;Nt.lFrame.elementDepthCount--;const n=Ft();n.firstCreatePass&&(he(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Jo(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Jo(n,e,$t(),e.stylesWithoutHost,!1)}function Go(t,e,n,r){Qo(t,e,n,r),Ko()}function Zo(){return $t()}function Xo(t){return!!t&&"function"==typeof t.then}const Yo=function(t){return!!t&&"function"==typeof t.subscribe};function ti(t,e,n,r){const o=$t(),i=Ft(),s=Bt();return function(t,e,n,r,o,i,s,a){const u=dt(r),c=t.firstCreatePass&&co(t),l=uo(e);let f=!0;if(3&r.type||a){const h=At(r,e),d=a?a(h):h,p=l.length,m=a?t=>a(Ot(t[r.index])):r.index;if(St(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const t=o[i];if(t===n&&o[i+1]===r){const t=e[7],n=o[i+2];return t.length>n?t[n]:null}"string"==typeof t&&(i+=2)}return null}(t,e,o,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=i,s.__ngLastListenerFn__=i,f=!1;else{i=ni(r,e,0,i,!1);const t=n.listen(d,o,i);l.push(i,t),c&&c.push(o,m,p,p+1)}}else i=ni(r,e,0,i,!0),d.addEventListener(o,i,s),l.push(i),c&&c.push(o,m,p,s)}else i=ni(r,e,0,i,!1);const h=r.outputs;let d;if(f&&null!==h&&(d=h[o])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(i),s=l.length;l.push(i,t),c&&c.push(o,r.index,s,-(s+1))}}}(i,o,o[11],s,t,e,!!n,r),ti}function ei(t,e,n,r){try{return!1!==n(r)}catch(o){return lo(t,o),!1}}function ni(t,e,n,r,o){return function n(i){if(i===Function)return r;const s=2&t.flags?Tt(t.index,e):e;0==(32&e[2])&&ro(s);let a=ei(e,0,r,i),u=n.__ngNextListenerFn__;for(;u;)a=ei(e,0,u,i)&&a,u=u.__ngNextListenerFn__;return o&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function ri(t=1){return function(t){return(Nt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Nt.lFrame.contextLView))[8]}(t)}function oi(t,e,n,r,o){const i=t[n+1],s=null===e;let a=r?xr(i):Sr(i),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];ii(t[a],e)&&(u=!0,t[a+1]=r?Or(n):kr(n)),a=r?xr(n):Sr(n)}u&&(t[n+1]=r?kr(i):Or(i))}function ii(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&un(t,e)>=0}function si(t,e){return function(t,e,n,r){const o=$t(),i=Ft(),s=Qt(2);i.firstUpdatePass&&function(t,e,n,r){const o=t.data;if(null===o[n+1]){const i=o[ae()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(i)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const o=function(t){const e=Nt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=e.residualClasses;if(null===o)0===e.classBindings&&(n=ui(n=ai(null,t,e,n,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==o)if(n=ai(o,t,e,n,r),null===i){let n=function(t,e,n){const r=e.classBindings;if(0!==Sr(r))return t[xr(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=ai(null,t,e,n[1],r),n=ui(n,e.attrs,r),function(t,e,n,r){t[xr(e.classBindings)]=r}(t,e,0,n))}else i=function(t,e,n){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=ui(r,t[i].hostAttrs,true);return ui(r,e.attrs,true)}(t,e)}return void 0!==i&&(e.residualClasses=i),n}(o,i,e,r),function(t,e,n,r,o,i){let s=e.classBindings,a=xr(s),u=Sr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||un(t,c)>0)&&(l=!0)}else c=n;if(o)if(0!==u){const e=xr(t[a+1]);t[r+1]=_r(e,a),0!==e&&(t[e+1]=Cr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=_r(a,0),0!==a&&(t[a+1]=Cr(t[a+1],r)),a=r;else t[r+1]=_r(u,0),0===a?a=r:t[u+1]=Cr(t[u+1],r),u=r;l&&(t[r+1]=kr(t[r+1])),oi(t,c,r,!0),oi(t,c,r,!1),function(t,e,n,r,o){const i=t.residualClasses;null!=i&&"string"==typeof e&&un(i,e)>=0&&(n[r+1]=Or(n[r+1]))}(e,c,t,r),s=_r(a,u),e.classBindings=s}(o,i,e,n,s)}}(i,t,s,true),e!==gr&&Bo(o,s,e)&&function(t,e,n,r,o,i,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];li(1==(1&c)?ci(u,e,n,o,Sr(c),s):void 0)||(li(i)||function(t){return 2==(2&t)}(c)&&(i=ci(u,null,n,o,a,s)),function(t,e,n,r,o){const i=St(t);o?i?t.addClass(n,r):n.classList.add(r):i?t.removeClass(n,r):n.classList.remove(r)}(r,0,Et(ae(),n),o,i))}(i,i.data[ae()],o,o[11],t,o[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=f(kn(t))),t}(e),true,s)}(t,e),si}function ai(t,e,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=e[a],r=ui(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ui(t,e,n){const r=n?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),sn(t,s,!!n||e[++i]))}return void 0===t?null:t}function ci(t,e,n,r,o,i){const s=null===e;let a;for(;o>0;){const e=t[o],i=Array.isArray(e),u=i?e[1]:e,c=null===u;let l=n[o+1];l===gr&&(l=c?q:void 0);let f=c?an(l,r):u===r?l:void 0;if(i&&!li(f)&&(f=an(e,r)),li(f)&&(a=f,s))return a;const h=t[o+1];o=s?xr(h):Sr(h)}if(null!==e){let t=i?e.residualClasses:e.residualStyles;null!=t&&(a=an(t,r))}return a}function li(t){return void 0!==t}function fi(t,e=""){const n=$t(),r=Ft(),o=t+at,i=r.firstCreatePass?Mr(r,o,1,e,null):r.data[o],s=n[o]=function(t,e){return St(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Xn(r,n,s,i),qt(i,!1)}function hi(t){return di("",t,""),hi}function di(t,e,n){const r=$t(),o=function(t,e,n,r){return Bo(t,Jt(),n)?e+g(n)+r:gr}(r,t,e,n);return o!==gr&&ho(r,ae(),o),di}function pi(t,e,n,r,o){const i=$t(),s=function(t,e,n,r,o,i){const s=function(t,e,n,r){const o=Bo(t,e,n);return Bo(t,e+1,r)||o}(t,Nt.lFrame.bindingIndex,n,o);return Qt(2),s?e+g(n)+r+g(o)+i:gr}(i,t,e,n,r,o);return s!==gr&&ho(i,ae(),s),pi}function mi(t,e,n){const r=$t();return Bo(r,Jt(),e)&&Br(Ft(),ce(),r,t,e,r[11],n,!0),mi}const vi=void 0;var yi=["en",[["a","p"],["AM","PM"],vi],[["AM","PM"],vi,vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vi,"{1} 'at' {0}",vi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let gi={};function bi(t){return t in gi||(gi[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),gi[t]}var wi=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const _i="en-US";let xi=_i;function ki(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(xi=t.toLowerCase().replace(/_/g,"-"))}function Si(t,e,n,r,o){if(t=m(t),Array.isArray(t))for(let i=0;i<t.length;i++)Si(t[i],e,n,r,o);else{const i=Ft(),s=$t();let a=Ao(t)?t:m(t.provide),u=Co(t);const c=Bt(),l=1048575&c.providerIndexes,f=c.directiveStart,h=c.providerIndexes>>20;if(Ao(t)||!t.multi){const r=new be(u,o,Ho),d=Ei(a,e,o?l:l+h,f);-1===d?(Re(je(c,s),i,a),Ci(i,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ei(a,e,l+h,f),p=Ei(a,e,l,l+h),m=d>=0&&n[d],v=p>=0&&n[p];if(o&&!v||!o&&!m){Re(je(c,s),i,a);const l=function(t,e,n,r,o){const i=new be(t,n,Ho);return i.multi=[],i.index=e,i.componentProviders=0,Oi(i,o,r&&!n),i}(o?Mi:Ai,n.length,o,r,u);!o&&v&&(n[p].providerFactory=l),Ci(i,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ci(i,t,d>-1?d:p,Oi(n[o?p:d],u,!o&&r));!o&&r&&v&&n[p].componentProviders++}}}function Ci(t,e,n,r){const o=Ao(e);if(o||e.useClass){const i=(e.useClass||e).prototype.ngOnDestroy;if(i){const s=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,i]):s[t+1].push(r,i)}else s.push(n,i)}}}function Oi(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ei(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function Ai(t,e,n,r){return Ti(this.multi,[])}function Mi(t,e,n,r){const o=this.multi;let i;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=qe(n,n[1],this.providerFactory.index,r);i=e.slice(0,t),Ti(o,i);for(let n=t;n<e.length;n++)i.push(e[n])}else i=[],Ti(o,i);return i}function Ti(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ji(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ft();if(r.firstCreatePass){const o=pt(t);Si(n,r.data,r.blueprint,o,!0),Si(e,r.data,r.blueprint,o,!1)}}(n,r?r(t):t,e)}}class Di{}class Pi{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ii=(()=>{class t{}return t.NULL=new Pi,t})();function Ri(...t){}function Ni(t,e){return new $i(At(t,e))}const Li=function(){return Ni(Bt(),$t())};let $i=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Li,t})();function Fi(t){return t instanceof $i?t.nativeElement:t}class Vi{}let Bi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zi(),t})();const zi=function(){const t=$t(),e=Tt(Bt().index,t);return function(t){return t[11]}(ct(e)?e:t)};let qi=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Ui{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Hi=new Ui("12.0.5");class Wi{constructor(){}supports(t){return Fo(t)}create(t){return new Qi(t)}}const Ji=(t,e)=>e;class Qi{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ji}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){const i=!n||e&&e.currentIndex<Xi(n,r,o)?e:n,s=Xi(i,r,o),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{o||(o=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<o.length?o[n]:o[n]=0,i=r+n;e<=i&&i<t&&(o[n]=r+1)}o[i.previousIndex]=e-t}}s!==a&&t(i,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Fo(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,o=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==o&&Object.is(o.trackById,r)?(i&&(o=this._verifyReinsertion(o,n,r,e)),Object.is(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,r,e),i=!0),o=o._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[$o()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==o&&Object.is(o.trackById,r)?(i&&(o=this._verifyReinsertion(o,t,r,e)),Object.is(o.item,t)||this._addIdentityChange(o,t)):(o=this._mismatch(o,t,r,e),i=!0),o=o._next,e++}),this.length=e;return this._truncate(o),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Ki(e,n),o,r),t}_verifyReinsertion(t,e,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Zi),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zi),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ki{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gi{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Zi{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Gi,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xi(t,e,n){const r=t.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}class Yi{constructor(){}supports(t){return t instanceof Map||Vo(t)}create(){return new ts}}class ts{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Vo(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}const n=new es(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class es{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ns(){return new rs([new Wi])}let rs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ns()),deps:[[t,new _n,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:ns}),t})();function is(){return new ss([new Yi])}let ss=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||is()),deps:[[t,new _n,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:is}),t})();function as(t,e,n,r,o=!1){for(;null!==n;){const i=e[n.index];if(null!==i&&r.push(Ot(i)),lt(i))for(let t=ut;t<i.length;t++){const e=i[t],n=e[1].firstChild;null!==n&&as(e[1],e,n,r)}const s=n.type;if(8&s)as(t,e,n.child,r);else if(32&s){const t=Ln(n,e);let o;for(;o=t();)r.push(o)}else if(16&s){const t=tr(e,n);if(Array.isArray(t))r.push(...t);else{const n=$n(e[16]);as(n[1],n,t,r,!0)}}n=o?n.projectionNext:n.next}return r}class us{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return as(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(lt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Hn(t,n),on(e,n))}this._attachedToViewContainer=!1}Wn(this._lView[1],this._lView)}onDestroy(t){Fr(this._lView[1],this._lView,null,t)}markForCheck(){ro(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){oo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Wt(!0);try{oo(t,e,n)}finally{Wt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,rr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class cs extends us{constructor(t){super(t),this._view=t}detectChanges(){io(this._view)}checkNoChanges(){!function(t){Wt(!0);try{io(t)}finally{Wt(!1)}}(this._view)}get context(){return null}}const ls=function(t){return function(t,e,n){if(ht(t)&&!n){const n=Tt(t.index,e);return new us(n,n)}return 47&t.type?new us(e[16],e):null}(Bt(),$t(),16==(16&t))};let fs=(()=>{class t{}return t.__NG_ELEMENT_ID__=ls,t})();const hs=[new Yi],ds=new rs([new Wi]),ps=new ss(hs),ms=function(){return bs(Bt(),$t())};let vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=ms,t})();const ys=vs,gs=class extends ys{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ar(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),jr(e,n,t),new us(n)}};function bs(t,e){return 4&t.type?new gs(e,t,Ni(t,e)):null}class ws{}class _s{}const xs=function(){return As(Bt(),$t())};let ks=(()=>{class t{}return t.__NG_ELEMENT_ID__=xs,t})();const Ss=ks,Cs=class extends Ss{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ni(this._hostTNode,this._hostLView)}get injector(){return new We(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ie(this._hostTNode,this._hostLView);if(Ce(t)){const e=Ee(t,this._hostLView),n=Oe(t);return new We(e[1].data[n+8],e)}return new We(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Os(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,o){const i=n||this.parentInjector;if(!o&&null==t.ngModule&&i){const t=i.get(ws,null);t&&(o=t)}const s=t.create(i,r,void 0,o);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(lt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Cs(e,e[6],e[3]);r.detach(r.indexOf(t))}}const o=this._adjustIndex(e),i=this._lContainer;!function(t,e,n,r){const o=ut+r,i=n.length;r>0&&(n[o-1][4]=e),r<i-ut?(e[4]=n[o],rn(n,ut+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,i,o);const s=er(o,i),a=n[11],u=Zn(a,i[7]);return null!==u&&function(t,e,n,r,o,i){r[0]=o,r[6]=e,rr(t,r,n,1,o,i)}(r,i[6],a,n,u,s),t.attachToViewContainerRef(),rn(Es(i),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Os(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Hn(this._lContainer,e);n&&(on(Es(this._lContainer),e),Wn(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Hn(this._lContainer,e);return n&&null!=on(Es(this._lContainer),e)?new us(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Os(t){return t[8]}function Es(t){return t[8]||(t[8]=[])}function As(t,e){let n;const r=e[t.index];if(lt(r))n=r;else{let o;if(8&t.type)o=Ot(r);else{const n=e[11];o=n.createComment("");const r=At(t,e);Qn(n,Zn(n,r),o,function(t,e){return St(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Xr(r,e,o,t),no(e,n)}return new Cs(n,t,e)}const Ms={};class Ts extends Ii{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=it(t);return new Ps(e,this.ngModule)}}function js(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ds=new Xe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>In});class Ps extends Di{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(yr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return js(this.componentDef.inputs)}get outputs(){return js(this.componentDef.outputs)}create(t,e,n,r){const o=(r=r||this.ngModule)?function(t,e){return{get:(n,r,o)=>{const i=t.get(n,Ms,o);return i!==Ms||r===Ms?i:e.get(n,r,o)}}}(t,r.injector):t,i=o.get(Vi,Ct),s=o.get(qi,null),a=i.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(St(t))return t.selectRootElement(e,n===N.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):qn(i.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?xt:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,f={components:[],scheduler:In,clean:ao,playerHandler:null,flags:0},h=$r(0,null,null,1,0,null,null,null,null,null),d=Ar(null,h,f,l,null,null,i,a,s,o);let p,m;ee(d);try{const t=function(t,e,n,r,o,i){const s=n[1];n[20]=t;const a=Mr(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(po(a,u,!0),null!==t&&(we(o,t,u),null!==a.classes&&sr(o,t,a.classes),null!==a.styles&&ir(o,t,a.styles)));const c=r.createRenderer(t,e),l=Ar(n,Lr(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Re(je(a,n),s,e.type),Hr(s,a),Jr(a,n.length,1)),no(n,l),n[20]=l}(c,this.componentDef,d,i,a);if(c)if(n)we(a,c,["ng-version",Hi.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&e.push(i,t[++r]):8===o&&n.push(i);else{if(!dr(o))break;o=i}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&we(a,c,t),e&&e.length>0&&sr(a,c,e.join(" "))}if(m=Mt(h,at),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,o){const i=n[1],s=function(t,e,n){const r=Bt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Qr(t,r,e,Tr(t,e,1,null),n));const o=qe(e,t,r.directiveStart,r);An(o,e);const i=At(r,e);return i&&An(i,e),o}(i,n,e);if(r.components.push(s),t[8]=s,o&&o.forEach(t=>t(s,e)),e.contentQueries){const t=Bt();e.contentQueries(1,s,t.directiveStart)}const a=Bt();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ue(a.index),qr(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ur(e,s)),s}(t,this.componentDef,d,f,[jo]),jr(h,d,null)}finally{se()}return new Is(this.componentType,p,Ni(m,d),d,m)}}class Is extends class{}{constructor(t,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new cs(r),this.componentType=t}get injector(){return new We(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Rs=new Map;class Ns extends ws{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ts(this);const n=st(t),r=t[Q]||null;r&&ki(r),this._bootstrapComponents=Rn(n.bootstrap),this._r3Injector=xo(t,e,[{provide:ws,useValue:this},{provide:Ii,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=To.THROW_IF_NOT_FOUND,n=T.Default){return t===To||t===ws||t===mo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ls extends _s{constructor(t){super(),this.moduleType=t,null!==st(t)&&function(t){const e=new Set;!function t(n){const r=st(n,!0),o=r.id;null!==o&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(o,Rs.get(o),n),Rs.set(o,n));const i=Rn(r.imports);for(const s of i)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ns(this.moduleType,t)}}function $s(t,e,n,r){return function(t,e,n,r,o,i){const s=e+n;return Bo(t,s,o)?function(t,e,n){return t[e]=n}(t,s+1,i?r.call(i,o):r(o)):function(t,e){const n=t[e];return n===gr?void 0:n}(t,s+1)}($t(),function(){const t=Nt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function Fs(t){return e=>{setTimeout(t,void 0,e)}}const Vs=class extends o.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=Fs(u),a&&(a=Fs(a)),c&&(c=Fs(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w0&&t.add(l),l}};function Bs(){return this._results[$o()]()}class zs{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=$o(),n=zs.prototype;n[e]||(n[e]=Bs)}get changes(){return this._changes||(this._changes=new Vs)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=en(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class qs{constructor(t){this.queryList=t,this.matches=null}clone(){return new qs(this.queryList)}setDirty(){this.queryList.setDirty()}}class Us{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Us(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==oa(t,e).matches&&this.queries[e].setDirty()}}class Hs{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ws{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(t,r);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new Ws(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Js{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Js(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(t,e,Qs(e,o)),this.matchTNodeWithReadOption(t,e,ze(e,t,o,!1,!1))}else n===vs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ze(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===$i||r===ks||r===vs&&4&e.type)this.addMatch(e.index,-2);else{const n=ze(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Qs(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ks(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ni(t,e):4&t.type?bs(t,e):null}(e,t):-2===n?function(t,e,n){return n===$i?Ni(e,t):n===vs?bs(e,t):n===ks?As(e,t):void 0}(t,e,r):qe(t,t[1],n,e)}function Gs(t,e,n,r){const o=e[19].queries[r];if(null===o.matches){const r=t.data,i=n.matches,s=[];for(let t=0;t<i.length;t+=2){const o=i[t];s.push(o<0?null:Ks(e,r[o],i[t+1],n.metadata.read))}o.matches=s}return o.matches}function Zs(t,e,n,r){const o=t.queries.getByIndex(n),i=o.matches;if(null!==i){const s=Gs(t,e,o,n);for(let t=0;t<i.length;t+=2){const n=i[t];if(n>0)r.push(s[t/2]);else{const o=i[t+1],s=e[-n];for(let t=ut;t<s.length;t++){const e=s[t];e[17]===e[3]&&Zs(e[1],e,o,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Zs(n[1],n,o,r)}}}}}return r}function Xs(t){const e=$t(),n=Ft(),r=Zt();Xt(r+1);const o=oa(n,r);if(t.dirty&&jt(e)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?Zs(n,e,r,[]):Gs(n,e,o,r);t.reset(i,Fi),t.notifyOnChanges()}return!0}return!1}function Ys(t,e,n){const r=Ft();r.firstCreatePass&&(ra(r,new Hs(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),na(r,$t(),e)}function ta(t,e,n,r){const o=Ft();if(o.firstCreatePass){const i=Bt();ra(o,new Hs(e,n,r),i.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(o,t),2==(2&n)&&(o.staticContentQueries=!0)}na(o,$t(),n)}function ea(){return t=$t(),e=Zt(),t[19].queries[e].queryList;var t,e}function na(t,e,n){const r=new zs(4==(4&n));Fr(t,e,r,r.destroy),null===e[19]&&(e[19]=new Us),e[19].queries.push(new qs(r))}function ra(t,e,n){null===t.queries&&(t.queries=new Ws),t.queries.track(new Js(e,n))}function oa(t,e){return t.queries.getByIndex(e)}const ia=new Xe("Application Initializer");let sa=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ri,this.reject=Ri,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Xo(e))t.push(e);else if(Yo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(vn(ia,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const aa=new Xe("AppId"),ua={provide:aa,useFactory:function(){return`${ca()}${ca()}${ca()}`},deps:[]};function ca(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const la=new Xe("Platform Initializer"),fa=new Xe("Platform ID"),ha=new Xe("appBootstrapListener");let da=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const pa=new Xe("LocaleId"),ma=new Xe("DefaultCurrencyCode");class va{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ya=function(t){return new Ls(t)},ga=ya,ba=function(t){return Promise.resolve(ya(t))},wa=function(t){const e=ya(t),n=Rn(st(t).declarations).reduce((t,e)=>{const n=it(e);return n&&t.push(new Ps(n)),t},[]);return new va(e,n)},_a=wa,xa=function(t){return Promise.resolve(wa(t))};let ka=(()=>{class t{constructor(){this.compileModuleSync=ga,this.compileModuleAsync=ba,this.compileModuleAndAllComponentsSync=_a,this.compileModuleAndAllComponentsAsync=xa}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Sa=(()=>Promise.resolve(0))();function Ca(t){"undefined"==typeof Zone?Sa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Oa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vs(!1),this.onMicrotaskEmpty=new Vs(!1),this.onStable=new Vs(!1),this.onError=new Vs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ma(t),t.isCheckStableRunning=!0,Aa(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ma(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{try{return Ta(t),n.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&e(),ja(t)}},onInvoke:(n,r,o,i,s,a,u)=>{try{return Ta(t),n.invoke(o,i,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ja(t)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Ma(t),Aa(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,t,Ea,Ri,Ri);try{return o.runTask(i,e,n)}finally{o.cancelTask(i)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ea={};function Aa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ma(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ta(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ja(t){t._nesting--,Aa(t)}class Da{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vs,this.onMicrotaskEmpty=new Vs,this.onStable=new Vs,this.onError=new Vs}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Pa=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oa.assertNotInAngularZone(),Ca(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ca(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(vn(Oa))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Ia=(()=>{class t{constructor(){this._applications=new Map,La.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return La.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Ra{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Na,La=new Ra,$a=!0,Fa=!1;const Va=new Xe("AllowMultipleToken");class Ba{constructor(t,e){this.name=t,this.token=e}}function za(t,e,n=[]){const r=`Platform: ${e}`,o=new Xe(r);return(e=[])=>{let i=qa();if(!i||i.injector.get(Va,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{const t=n.concat(e).concat({provide:o,useValue:!0},{provide:yo,useValue:"platform"});!function(t){if(Na&&!Na.destroyed&&!Na.injector.get(Va,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Na=t.get(Ua);const e=t.get(la,null);e&&e.forEach(t=>t())}(To.create({providers:t,name:r}))}return function(t){const e=qa();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function qa(){return Na&&!Na.destroyed?Na:null}let Ua=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Da:("zone.js"===t?void 0:t)||new Oa({enableLongStackTrace:(Fa=!0,$a),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Oa,useValue:n}];return n.run(()=>{const e=To.create({providers:r,parent:this.injector,name:t.moduleType.name}),o=t.create(e),i=o.injector.get(Pn,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{i.handleError(t)}});o.onDestroy(()=>{Ja(this._modules,o),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Xo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(i,n,()=>{const t=o.injector.get(sa);return t.runInitializers(),t.donePromise.then(()=>(ki(o.injector.get(pa,_i)||_i),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,e=[]){const n=Ha({},e);return function(t,e,n){const r=new Ls(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Wa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(vn(To))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ha(t,e){return Array.isArray(e)?e.reduce(Ha,t):Object.assign(Object.assign({},t),e)}let Wa=(()=>{class t{constructor(t,e,n,r,o){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Oa.assertNotInAngularZone(),Ca(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Oa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,a.T)(i,c.pipe((0,u.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Di?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ws),o=n.create(To.NULL,[],e||n.selector,r),i=o.location.nativeElement,s=o.injector.get(Pa,null),a=s&&o.injector.get(Ia);return s&&a&&a.registerApplication(i,s),o.onDestroy(()=>{this.detachView(o.hostView),Ja(this.components,o),a&&a.unregisterApplication(i)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ja(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ha,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(vn(Oa),vn(To),vn(Pn),vn(Ii),vn(sa))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ja(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Qa{}class Ka{}const Ga={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Za=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ga}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Xa(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),o="NgFactory";return void 0===r&&(r="default",o=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+o]).then(t=>Xa(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(vn(ka),vn(Ka,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Xa(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ya=za(null,"core",[{provide:fa,useValue:"unknown"},{provide:Ua,deps:[To]},{provide:Ia,deps:[]},{provide:da,deps:[]}]),tu=[{provide:Wa,useClass:Wa,deps:[Oa,To,Pn,Ii,sa]},{provide:Ds,deps:[Oa],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:sa,useClass:sa,deps:[[new wn,ia]]},{provide:ka,useClass:ka,deps:[]},ua,{provide:rs,useFactory:function(){return ds},deps:[]},{provide:ss,useFactory:function(){return ps},deps:[]},{provide:pa,useFactory:function(t){return ki(t=t||"undefined"!=typeof $localize&&$localize.locale||_i),t},deps:[[new bn(pa),new wn,new _n]]},{provide:ma,useValue:"USD"}];let eu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(vn(Wa))},t.\u0275mod=nt({type:t}),t.\u0275inj=x({providers:tu}),t})(),nu=null;function ru(){return nu}const ou=new Xe("DocumentToken");let iu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({factory:su,token:t,providedIn:"platform"}),t})();function su(){return vn(uu)}const au=new Xe("Location Initialized");let uu=(()=>{class t extends iu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ru().getBaseHref(this._doc)}onPopState(t){const e=ru().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=ru().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){cu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){cu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(vn(ou))},t.\u0275prov=_({factory:lu,token:t,providedIn:"platform"}),t})();function cu(){return!!window.history.pushState}function lu(){return new uu(vn(ou))}function fu(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function hu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function du(t){return t&&"?"!==t[0]?"?"+t:t}let pu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({factory:mu,token:t,providedIn:"root"}),t})();function mu(t){const e=vn(ou).location;return new yu(vn(iu),e&&e.origin||"")}const vu=new Xe("appBaseHref");let yu=(()=>{class t extends pu{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fu(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+du(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const o=this.prepareExternalUrl(n+du(r));this._platformLocation.pushState(t,e,o)}replaceState(t,e,n,r){const o=this.prepareExternalUrl(n+du(r));this._platformLocation.replaceState(t,e,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(vn(iu),vn(vu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),gu=(()=>{class t extends pu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=fu(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let o=this.prepareExternalUrl(n+du(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)}replaceState(t,e,n,r){let o=this.prepareExternalUrl(n+du(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(vn(iu),vn(vu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),bu=(()=>{class t{constructor(t,e){this._subject=new Vs,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=hu(_u(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+du(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,_u(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+du(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+du(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(vn(pu),vn(iu))},t.normalizeQueryParams=du,t.joinWithSlash=fu,t.stripTrailingSlash=hu,t.\u0275prov=_({factory:wu,token:t,providedIn:"root"}),t})();function wu(){return new bu(vn(pu),vn(iu))}function _u(t){return t.replace(/\/index.html$/,"")}var xu=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class ku{}let Su=(()=>{class t extends ku{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=bi(e);if(n)return n;const r=e.split("-")[0];if(n=bi(r),n)return n;if("en"===r)return yi;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[wi.PluralCase]}(e||this.locale)(t)){case xu.Zero:return"zero";case xu.One:return"one";case xu.Two:return"two";case xu.Few:return"few";case xu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(vn(pa))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Cu=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Fo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${f(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Ho(rs),Ho(ss),Ho($i),Ho(Bi))},t.\u0275dir=ot({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Ou{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Eu=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ou(null,this._ngForOf,-1,-1),null===r?void 0:r),o=new Au(t,n);e.push(o)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const o=this._viewContainer.get(n);this._viewContainer.move(o,r);const i=new Au(t,o);e.push(i)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ho(ks),Ho(vs),Ho(rs))},t.\u0275dir=ot({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Au{constructor(t,e){this.record=t,this.view=e}}let Mu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Tu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ju("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ju("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ho(ks),Ho(vs))},t.\u0275dir=ot({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Tu{constructor(){this.$implicit=null,this.ngIf=null}}function ju(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${f(e)}'.`)}let Du=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=nt({type:t}),t.\u0275inj=x({providers:[{provide:ku,useClass:Su}]}),t})(),Pu=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>new Iu(vn(ou),window)}),t})();class Iu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ru(this.window.history)||Ru(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ru(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Nu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Nu,nu||(nu=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=($u=$u||document.querySelector("base"),$u?$u.getAttribute("href"):null);return null==e?null:function(t){Lu=Lu||document.createElement("a"),Lu.setAttribute("href",t);const e=Lu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){$u=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,o]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Lu,$u=null;const Fu=new Xe("TRANSITION_ID"),Vu=[{provide:ia,useFactory:function(t,e,n){return()=>{n.get(sa).donePromise.then(()=>{const n=ru();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Fu,ou,To],multi:!0}];class Bu{static init(){var t;t=new Bu,La=t}addToWindow(t){B.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},B.getAllAngularTestabilities=()=>t.getAllTestabilities(),B.getAllAngularRootElements=()=>t.getAllRootElements(),B.frameworkStabilizers||(B.frameworkStabilizers=[]),B.frameworkStabilizers.push(t=>{const e=B.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?ru().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let zu=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const qu=new Xe("EventManagerPlugins");let Uu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(vn(qu),vn(Oa))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Hu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=ru().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Wu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Ju=(()=>{class t extends Wu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Qu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Qu))}}return t.\u0275fac=function(e){return new(e||t)(vn(ou))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Qu(t){ru().remove(t)}const Ku={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gu=/%COMP%/g;function Zu(t,e,n){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Zu(t,o,n):(o=o.replace(Gu,t),n.push(o))}return n}function Xu(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Yu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new tc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case N.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ec(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case N.ShadowDom:return new nc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Zu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(vn(Uu),vn(Ju),vn(aa))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class tc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ku[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const o=Ku[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Ku[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Nn.DashCase|Nn.Important)?t.style.setProperty(e,n,r&Nn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Nn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Xu(n)):this.eventManager.addEventListener(t,e,Xu(n))}}class ec extends tc{constructor(t,e,n,r){super(t),this.component=n;const o=Zu(r+"-"+n.id,n.styles,[]);e.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(Gu,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Gu,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class nc extends tc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Zu(r.id,r.styles,[]);for(let i=0;i<o.length;i++){const t=document.createElement("style");t.textContent=o[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let rc=(()=>{class t extends Hu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(vn(ou))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const oc=["alt","control","meta","shift"],ic={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ac={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let uc=(()=>{class t extends Hu{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const o=t.parseEventName(n),i=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ru().onAndCancel(e,o.domEventName,i))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(n.pop());let i="";if(oc.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),i+=t+".")}),i+=o,0!=n.length||0===o.length)return null;const s={};return s.domEventName=r,s.fullKey=i,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&sc.hasOwnProperty(e)&&(e=sc[e]))}return ic[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),oc.forEach(r=>{r!=n&&(0,ac[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return o=>{t.getEventFullKey(o)===e&&r.runGuarded(()=>n(o))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(vn(ou))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const cc=za(Ya,"browser",[{provide:fa,useValue:"browser"},{provide:la,useValue:function(){Nu.makeCurrent(),Bu.init()},multi:!0},{provide:ou,useFactory:function(){return function(t){kt=t}(document),document},deps:[]}]),lc=[[],{provide:yo,useValue:"root"},{provide:Pn,useFactory:function(){return new Pn},deps:[]},{provide:qu,useClass:rc,multi:!0,deps:[ou,Oa,fa]},{provide:qu,useClass:uc,multi:!0,deps:[ou]},[],{provide:Yu,useClass:Yu,deps:[Uu,Ju,aa]},{provide:Vi,useExisting:Yu},{provide:Wu,useExisting:Ju},{provide:Ju,useClass:Ju,deps:[ou]},{provide:Pa,useClass:Pa,deps:[Oa]},{provide:Uu,useClass:Uu,deps:[qu,Oa]},{provide:class{},useClass:zu,deps:[]},[]];let fc=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:aa,useValue:e.appId},{provide:Fu,useExisting:aa},Vu]}}}return t.\u0275fac=function(e){return new(e||t)(vn(t,12))},t.\u0275mod=nt({type:t}),t.\u0275inj=x({providers:lc,imports:[Du,eu]}),t})();"undefined"!=typeof window&&window;var hc=n(5001),dc=n(4902),pc=n(6253),mc=n(4602),vc=n(3693),yc=n(6212),gc=n(8414),bc=n(2147),wc=n(1161),_c=n(5040),xc=n(6051),kc=n(3538),Sc=n(5315),Cc=n(3836),Oc=n(4575),Ec=n(1420),Ac=n(2870),Mc=n(2744),Tc=n(1617),jc=n(2600),Dc=n(5342),Pc=n(4151),Ic=n(3337),Rc=n(5996),Nc=n(1487);class Lc{constructor(t,e){this.id=t,this.url=e}}class $c extends Lc{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fc extends Lc{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vc extends Lc{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bc extends Lc{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zc extends Lc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qc extends Lc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uc extends Lc{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hc extends Lc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wc extends Lc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jc{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qc{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zc{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yc{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const tl="primary";class el{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function nl(t){return new el(t)}function rl(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ol(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const e=r[i],n=t[i];if(e.startsWith(":"))o[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function il(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!sl(t[o],e[o]))return!1;return!0}function sl(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function al(t){return Array.prototype.concat.apply([],t)}function ul(t){return t.length>0?t[t.length-1]:null}function cl(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ll(t){return Yo(t)?t:Xo(t)?(0,hc.D)(Promise.resolve(t)):(0,dc.of)(t)}const fl={exact:function t(e,n,r){if(!wl(e.segments,n.segments))return!1;if(!vl(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const o in n.children){if(!e.children[o])return!1;if(!t(e.children[o],n.children[o],r))return!1}return!0},subset:pl},hl={exact:function(t,e){return il(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sl(t[n],e[n]))},ignored:()=>!0};function dl(t,e,n){return fl[n.paths](t.root,e.root,n.matrixParams)&&hl[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function pl(t,e,n){return ml(t,e,e.segments,n)}function ml(t,e,n,r){if(t.segments.length>n.length){const o=t.segments.slice(0,n.length);return!!wl(o,n)&&!e.hasChildren()&&!!vl(o,n,r)}if(t.segments.length===n.length){if(!wl(t.segments,n))return!1;if(!vl(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!pl(t.children[n],e.children[n],r))return!1}return!0}{const o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!wl(t.segments,o)&&!!vl(t.segments,o,r)&&!!t.children.primary&&ml(t.children.primary,e,i,r)}}function vl(t,e,n){return e.every((e,r)=>hl[n](t[r].parameters,e.parameters))}class yl{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nl(this.queryParams)),this._queryParamMap}toString(){return kl.serialize(this)}}class gl{constructor(t,e){this.segments=t,this.children=e,this.parent=null,cl(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sl(this)}}class bl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=nl(this.parameters)),this._parameterMap}toString(){return jl(this)}}function wl(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class _l{}class xl{parse(t){const e=new Nl(t);return new yl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Cl(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${El(e)}=${El(t)}`).join("&"):`${El(e)}=${El(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const kl=new xl;function Sl(t){return t.segments.map(t=>jl(t)).join("/")}function Cl(t,e){if(!t.hasChildren())return Sl(t);if(e){const e=t.children.primary?Cl(t.children.primary,!1):"",n=[];return cl(t.children,(t,e)=>{e!==tl&&n.push(`${e}:${Cl(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return cl(t.children,(t,r)=>{r===tl&&(n=n.concat(e(t,r)))}),cl(t.children,(t,r)=>{r!==tl&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===tl?[Cl(t.children.primary,!1)]:[`${n}:${Cl(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Sl(t)}/${e[0]}`:`${Sl(t)}/(${e.join("//")})`}}function Ol(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function El(t){return Ol(t).replace(/%3B/gi,";")}function Al(t){return Ol(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ml(t){return decodeURIComponent(t)}function Tl(t){return Ml(t.replace(/\+/g,"%20"))}function jl(t){return`${Al(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Al(t)}=${Al(e[t])}`).join("")}`;var e}const Dl=/^[^\/()?;=#]+/;function Pl(t){const e=t.match(Dl);return e?e[0]:""}const Il=/^[^=?&#]+/,Rl=/^[^?&#]+/;class Nl{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gl([],{}):new gl([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new gl(t,e)),n}parseSegment(){const t=Pl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new bl(Ml(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Pl(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Pl(this.remaining);t&&(n=t,this.capture(n))}t[Ml(e)]=Ml(n)}parseQueryParam(t){const e=function(t){const e=t.match(Il);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Rl);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Tl(e),o=Tl(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Pl(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=tl);const i=this.parseChildren();e[o]=1===Object.keys(i).length?i.primary:new gl([],i),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ll{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$l(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=$l(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fl(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Fl(t,this._root).map(t=>t.value)}}function $l(t,e){if(t===e.value)return e;for(const n of e.children){const e=$l(t,n);if(e)return e}return null}function Fl(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Fl(t,n);if(r.length)return r.unshift(e),r}return[]}class Vl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bl(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class zl extends Ll{constructor(t,e){super(t),this.snapshot=e,Ql(this,t)}toString(){return this.snapshot.toString()}}function ql(t,e){const n=function(t,e){const n=new Wl([],{},{},"",{},tl,e,null,t.root,-1,{});return new Jl("",new Vl(n,[]))}(t,e),r=new pc.X([new bl("",{})]),o=new pc.X({}),i=new pc.X({}),s=new pc.X({}),a=new pc.X(""),u=new Ul(r,o,s,a,i,tl,e,n.root);return u.snapshot=n.root,new zl(new Vl(u,[]),n)}class Ul{constructor(t,e,n,r,o,i,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_c.U)(t=>nl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_c.U)(t=>nl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hl(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wl{constructor(t,e,n,r,o,i,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jl extends Ll{constructor(t,e){super(e),this.url=t,Ql(this,e)}toString(){return Kl(this._root)}}function Ql(t,e){e.value._routerState=t,e.children.forEach(e=>Ql(t,e))}function Kl(t){const e=t.children.length>0?` { ${t.children.map(Kl).join(", ")} } `:"";return`${t.value}${e}`}function Gl(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,il(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),il(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!il(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),il(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Zl(t,e){var n,r;return il(t.params,e.params)&&wl(n=t.url,r=e.url)&&n.every((t,e)=>il(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Zl(t.parent,e.parent))}function Xl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const o=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Xl(t,e,r);return Xl(t,e)})}(t,e,n);return new Vl(r,o)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Yl(e,t),t}}const n=new Ul(new pc.X((r=e.value).url),new pc.X(r.params),new pc.X(r.queryParams),new pc.X(r.fragment),new pc.X(r.data),r.outlet,r.component,r),o=e.children.map(e=>Xl(t,e));return new Vl(n,o)}var r}function Yl(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Yl(t.children[n],e.children[n])}function tf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ef(t){return"object"==typeof t&&null!=t&&t.outlets}function nf(t,e,n,r,o){let i={};return r&&cl(r,(t,e)=>{i[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new yl(n.root===t?e:rf(n.root,t,e),i,o)}function rf(t,e,n){const r={};return cl(t.children,(t,o)=>{r[o]=t===e?n:rf(t,e,n)}),new gl(t.segments,r)}class of{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&tf(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ef);if(r&&r!==ul(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sf{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function af(t,e,n){if(t||(t=new gl([],{})),0===t.segments.length&&t.hasChildren())return uf(t,e,n);const r=function(t,e,n){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;const e=t.segments[o],s=n[r];if(ef(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!hf(a,u,e))return i;r+=2}else{if(!hf(a,{},e))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new gl(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new gl(t.segments.slice(r.pathIndex),t.children),uf(e,0,o)}return r.match&&0===o.length?new gl(t.segments,{}):r.match&&!t.hasChildren()?cf(t,e,n):r.match?uf(t,0,o):cf(t,e,n)}function uf(t,e,n){if(0===n.length)return new gl(t.segments,{});{const r=function(t){return ef(t[0])?t[0].outlets:{[tl]:t}}(n),o={};return cl(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(o[r]=af(t.children[r],e,n))}),cl(t.children,(t,e)=>{void 0===r[e]&&(o[e]=t)}),new gl(t.segments,o)}}function cf(t,e,n){const r=t.segments.slice(0,e);let o=0;for(;o<n.length;){const i=n[o];if(ef(i)){const t=lf(i.outlets);return new gl(r,t)}if(0===o&&tf(n[0])){r.push(new bl(t.segments[e].path,ff(n[0]))),o++;continue}const s=ef(i)?i.outlets.primary:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&tf(a)?(r.push(new bl(s,ff(a))),o+=2):(r.push(new bl(s,{})),o++)}return new gl(r,{})}function lf(t){const e={};return cl(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=cf(new gl([],{}),0,t))}),e}function ff(t){const e={};return cl(t,(t,n)=>e[n]=`${t}`),e}function hf(t,e,n){return t==n.path&&il(e,n.parameters)}class df{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Gl(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Bl(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),cl(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Bl(t);for(const i of Object.keys(o))this.deactivateRouteAndItsChildren(o[i],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Bl(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Xc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Gc(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(Gl(r),r===o)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),pf(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),o=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=o,e.outlet&&e.outlet.activateWith(r,o),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function pf(t){Gl(t.value),t.children.forEach(pf)}class mf{constructor(t,e){this.routes=t,this.module=e}}function vf(t){return"function"==typeof t}function yf(t){return t instanceof yl}const gf=Symbol("INITIAL_VALUE");function bf(){return(0,xc.w)(t=>(0,mc.a)(t.map(t=>t.pipe((0,kc.q)(1),(0,Sc.O)(gf)))).pipe((0,Cc.R)((t,e)=>{let n=!1;return e.reduce((t,r,o)=>{if(t!==gf)return t;if(r===gf&&(n=!0),!n){if(!1===r)return r;if(o===e.length-1||yf(r))return r}return t},t)},gf),(0,Oc.h)(t=>t!==gf),(0,_c.U)(t=>yf(t)?t:!0===t),(0,kc.q)(1)))}let wf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=X({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Go(0,"router-outlet")},directives:function(){return[gh]},encapsulation:2}),t})();function _f(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];xf(r,kf(e,r))}}function xf(t,e){t.children&&_f(t.children,e)}function kf(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Sf(t){const e=t.children&&t.children.map(Sf),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==tl&&(n.component=wf),n}function Cf(t){return t.outlet||tl}function Of(t,e){const n=t.filter(t=>Cf(t)===e);return n.push(...t.filter(t=>Cf(t)!==e)),n}const Ef={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Af(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ef):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(e.matcher||ol)(n,t,e);if(!o)return Object.assign({},Ef);const i={};cl(o.posParams,(t,e)=>{i[e]=t.path});const s=o.consumed.length>0?Object.assign(Object.assign({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:s,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function Mf(t,e,n,r,o="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Tf(t,e,n)&&Cf(n)!==tl)}(t,n,r)){const o=new gl(e,function(t,e,n,r){const o={};o.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const i of n)if(""===i.path&&Cf(i)!==tl){const n=new gl([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,o[Cf(i)]=n}return o}(t,e,r,new gl(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Tf(t,e,n))}(t,n,r)){const i=new gl(t.segments,function(t,e,n,r,o,i){const s={};for(const a of r)if(Tf(t,n,a)&&!o[Cf(a)]){const n=new gl([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===i?t.segments.length:e.length,s[Cf(a)]=n}return Object.assign(Object.assign({},o),s)}(t,e,n,r,t.children,o));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}const i=new gl(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Tf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function jf(t,e,n,r){return!!(Cf(t)===r||r!==tl&&Tf(e,n,t))&&("**"===t.path||Af(e,t,n).matched)}function Df(t,e,n){return 0===e.length&&!t.children[n]}class Pf{constructor(t){this.segmentGroup=t||null}}class If{constructor(t){this.urlTree=t}}function Rf(t){return new s.y(e=>e.error(new Pf(t)))}function Nf(t){return new s.y(e=>e.error(new If(t)))}function Lf(t){return new s.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class $f{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(ws)}apply(){const t=Mf(this.urlTree.root,[],[],this.config).segmentGroup,e=new gl(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,tl).pipe((0,_c.U)(t=>this.createUrlTree(Ff(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ec.K)(t=>{if(t instanceof If)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Pf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,tl).pipe((0,_c.U)(e=>this.createUrlTree(Ff(e),t.queryParams,t.fragment))).pipe((0,Ec.K)(t=>{if(t instanceof Pf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new gl([],{[tl]:t}):t;return new yl(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,_c.U)(t=>new gl([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const o of Object.keys(n.children))"primary"===o?r.unshift(o):r.push(o);return(0,hc.D)(r).pipe((0,Ac.b)(r=>{const o=n.children[r],i=Of(e,r);return this.expandSegmentGroup(t,i,o,r).pipe((0,_c.U)(t=>({segment:t,outlet:r})))}),(0,Cc.R)((t,e)=>(t[e.outlet]=e.segment,t),{}),(0,Mc.Z)())}expandSegment(t,e,n,r,o,i){return(0,hc.D)(n).pipe((0,Ac.b)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,o,i).pipe((0,Ec.K)(t=>{if(t instanceof Pf)return(0,dc.of)(null);throw t}))),(0,Tc.P)(t=>!!t),(0,Ec.K)((t,n)=>{if(t instanceof vc.K||"EmptyError"===t.name){if(Df(e,r,o))return(0,dc.of)(new gl([],{}));throw new Pf(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,o,i,s){return jf(r,e,o,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):Rf(e):Rf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Nf(o):this.lineralizeSegments(n,o).pipe((0,jc.z)(n=>{const o=new gl(n,{});return this.expandSegment(t,o,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Af(e,r,o);if(!s)return Rf(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Nf(l):this.lineralizeSegments(r,l).pipe((0,jc.z)(r=>this.expandSegment(t,e,n,r.concat(o.slice(u)),i,!1)))}matchSegmentAgainstRoute(t,e,n,r,o){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,dc.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,_c.U)(t=>(n._loadedConfig=t,new gl(r,{})))):(0,dc.of)(new gl(r,{}));const{matched:i,consumedSegments:s,lastChild:a}=Af(e,n,r);if(!i)return Rf(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,jc.z)(t=>{const r=t.module,i=t.routes,{segmentGroup:a,slicedSegments:c}=Mf(e,s,u,i),l=new gl(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,i,l).pipe((0,_c.U)(t=>new gl(s,t)));if(0===i.length&&0===c.length)return(0,dc.of)(new gl(s,{}));const f=Cf(n)===o;return this.expandSegment(r,l,i,c,f?tl:o,!0).pipe((0,_c.U)(t=>new gl(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,dc.of)(new mf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,dc.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,jc.z)(n=>n?this.configLoader.load(t.injector,e).pipe((0,_c.U)(t=>(e._loadedConfig=t,t))):function(t){return new s.y(e=>e.error(rl(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,dc.of)(new mf([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,dc.of)(!0);const o=r.map(r=>{const o=t.get(r);let i;if(function(t){return t&&vf(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!vf(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return ll(i)});return(0,dc.of)(o).pipe(bf(),(0,Dc.b)(t=>{if(!yf(t))return;const e=rl(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,_c.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,dc.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Lf(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const o=this.createSegmentGroup(t,e.root,n,r);return new yl(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return cl(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const o=t.substring(1);n[r]=e[o]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const o=this.createSegments(t,e.segments,n,r);let i={};return cl(e.children,(e,o)=>{i[o]=this.createSegmentGroup(t,e,n,r)}),new gl(o,i)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ff(t){const e={};for(const n of Object.keys(t.children)){const r=Ff(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new gl(t.segments.concat(e.segments),e.children)}return t}(new gl(t.segments,e))}class Vf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Bf{constructor(t,e){this.component=t,this.route=e}}function zf(t,e,n){const r=t._root;return Uf(r,e?e._root:null,n,[r.value])}function qf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Uf(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Bl(e);return t.children.forEach(t=>{!function(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wl(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wl(t.url,e.url)||!il(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zl(t,e)||!il(t.queryParams,e.queryParams);case"paramsChange":default:return!Zl(t,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Vf(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Uf(t,e,i.component?a?a.children:null:n,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Bf(a.outlet.component,s))}else s&&Hf(e,a,o),o.canActivateChecks.push(new Vf(r)),Uf(t,null,i.component?a?a.children:null:n,r,o)}(t,i[t.value.outlet],n,r.concat([t.value]),o),delete i[t.value.outlet]}),cl(i,(t,e)=>Hf(t,n.getContext(e),o)),o}function Hf(t,e,n){const r=Bl(t),o=t.value;cl(r,(t,r)=>{Hf(t,o.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Bf(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Wf{}function Jf(t){return new s.y(e=>e.error(t))}class Qf{constructor(t,e,n,r,o,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=i}recognize(){const t=Mf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,tl);if(null===e)return null;const n=new Wl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},tl,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vl(n,e),o=new Jl(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,n=Hl(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const o of Object.keys(e.children)){const r=e.children[o],i=Of(t,o),s=this.processSegmentGroup(i,r,o);if(null===s)return null;n.push(...s)}const r=Gf(n);return r.sort((t,e)=>t.value.outlet===tl?-1:e.value.outlet===tl?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const o of t){const t=this.processSegmentAgainstRoute(o,e,n,r);if(null!==t)return t}return Df(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!jf(t,e,n,r))return null;let o,i=[],s=[];if("**"===t.path){const r=n.length>0?ul(n).parameters:{};o=new Wl(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yf(t),Cf(t),t.component,t,Zf(e),Xf(e)+n.length,th(t))}else{const r=Af(e,t,n);if(!r.matched)return null;i=r.consumedSegments,s=n.slice(r.lastChild),o=new Wl(i,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yf(t),Cf(t),t.component,t,Zf(e),Xf(e)+i.length,th(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Mf(e,i,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Vl(o,t)]}if(0===a.length&&0===c.length)return[new Vl(o,[])];const l=Cf(t)===r,f=this.processSegment(a,u,c,l?tl:r);return null===f?null:[new Vl(o,f)]}}function Kf(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gf(t){const e=[],n=new Set;for(const r of t){if(!Kf(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Gf(r.children);e.push(new Vl(r.value,t))}return e.filter(t=>!n.has(t))}function Zf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Yf(t){return t.data||{}}function th(t){return t.resolve||{}}function eh(t){return(0,xc.w)(e=>{const n=t(e);return n?(0,hc.D)(n).pipe((0,_c.U)(()=>e)):(0,dc.of)(e)})}class nh extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const rh=new Xe("ROUTES");class oh{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,_c.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new mf(al(r.injector.get(rh,void 0,T.Self|T.Optional)).map(Sf),r)}),(0,Ec.K)(t=>{throw e._loader$=void 0,t}));return e._loader$=new wc.c(n,()=>new o.x).pipe((0,Ic.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,hc.D)(this.loader.load(t)):ll(t()).pipe((0,jc.z)(t=>t instanceof _s?(0,dc.of)(t):(0,hc.D)(this.compiler.compileModuleAsync(t))))}}class ih{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sh,this.attachRef=null}}class sh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ih,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ah{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function uh(t){throw t}function ch(t,e,n){return e.parse("/")}function lh(t,e){return(0,dc.of)(null)}const fh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dh=(()=>{class t{constructor(t,e,n,r,i,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new o.x,this.errorHandler=uh,this.malformedUriErrorHandler=ch,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lh,afterPreactivation:lh},this.urlHandlingStrategy=new ah,this.routeReuseStrategy=new nh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(ws),this.console=i.get(da);const c=i.get(Oa);this.isNgZoneEnabled=c instanceof Oa&&Oa.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new yl(new gl([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new oh(s,a,t=>this.triggerEvent(new Jc(t)),t=>this.triggerEvent(new Qc(t))),this.routerState=ql(this.currentUrlTree,this.rootComponentType),this.transitions=new pc.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe((0,Oc.h)(t=>0!==t.id),(0,_c.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),(0,xc.w)(t=>{let n=!1,r=!1;return(0,dc.of)(t).pipe((0,Dc.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,xc.w)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,dc.of)(t).pipe((0,xc.w)(t=>{const n=this.transitions.getValue();return e.next(new $c(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?bc.E:Promise.resolve(t)}),(r=this.ngModule.injector,o=this.configLoader,i=this.urlSerializer,s=this.config,(0,xc.w)(t=>function(t,e,n,r,o){return new $f(t,e,n,r,o).apply()}(r,o,i,t.extractedUrl,s).pipe((0,_c.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,Dc.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,o){return(0,jc.z)(i=>function(t,e,n,r,o="emptyOnly",i="legacy"){try{const s=new Qf(t,e,n,r,o,i).recognize();return null===s?Jf(new Wf):(0,dc.of)(s)}catch(s){return Jf(s)}}(t,e,i.urlAfterRedirects,n(i.urlAfterRedirects),r,o).pipe((0,_c.U)(t=>Object.assign(Object.assign({},i),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Dc.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new zc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,o,i,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:o,restoredState:i,extras:s}=t,a=new $c(n,this.serializeUrl(r),o,i);e.next(a);const u=ql(r,this.rootComponentType).snapshot;return(0,dc.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),bc.E}),eh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:o,extras:{skipLocationChange:i,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!i,replaceUrl:!!s})}),(0,Dc.b)(t=>{const e=new qc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,_c.U)(t=>Object.assign(Object.assign({},t),{guards:zf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,jc.z)(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?(0,dc.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,hc.D)(t).pipe((0,jc.z)(t=>function(t,e,n,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||0===i.length)return(0,dc.of)(!0);const s=i.map(i=>{const s=qf(i,e,o);let a;if(function(t){return t&&vf(t.canDeactivate)}(s))a=ll(s.canDeactivate(t,e,n,r));else{if(!vf(s))throw new Error("Invalid CanDeactivate guard");a=ll(s(t,e,n,r))}return a.pipe((0,Tc.P)())});return(0,dc.of)(s).pipe(bf())}(t.component,t.route,n,e,r)),(0,Tc.P)(t=>!0!==t,!0))}(s,r,o,t).pipe((0,jc.z)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return(0,hc.D)(e).pipe((0,Ac.b)(e=>(0,yc.z)(function(t,e){return null!==t&&e&&e(new Kc(t)),(0,dc.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Zc(t)),(0,dc.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>(0,gc.P)(()=>{const o=e.guards.map(o=>{const i=qf(o,e.node,n);let s;if(function(t){return t&&vf(t.canActivateChild)}(i))s=ll(i.canActivateChild(r,t));else{if(!vf(i))throw new Error("Invalid CanActivateChild guard");s=ll(i(r,t))}return s.pipe((0,Tc.P)())});return(0,dc.of)(o).pipe(bf())}));return(0,dc.of)(o).pipe(bf())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,dc.of)(!0);const o=r.map(r=>(0,gc.P)(()=>{const o=qf(r,e,n);let i;if(function(t){return t&&vf(t.canActivate)}(o))i=ll(o.canActivate(e,t));else{if(!vf(o))throw new Error("Invalid CanActivate guard");i=ll(o(e,t))}return i.pipe((0,Tc.P)())}));return(0,dc.of)(o).pipe(bf())}(t,e.route,n))),(0,Tc.P)(t=>!0!==t,!0))}(r,i,t,e):(0,dc.of)(n)),(0,_c.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,Dc.b)(t=>{if(yf(t.guardsResult)){const e=rl(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Uc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),(0,Oc.h)(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),eh(t=>{if(t.guards.canActivateChecks.length)return(0,dc.of)(t).pipe((0,Dc.b)(t=>{const e=new Hc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,xc.w)(t=>{let e=!1;return(0,dc.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,jc.z)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,dc.of)(t);let i=0;return(0,hc.D)(o).pipe((0,Ac.b)(t=>function(t,e,n,r){return function(t,e,n,r){const o=Object.keys(t);if(0===o.length)return(0,dc.of)({});const i={};return(0,hc.D)(o).pipe((0,jc.z)(o=>function(t,e,n,r){const o=qf(t,e,r);return ll(o.resolve?o.resolve(e,n):o(e,n))}(t[o],e,n,r).pipe((0,Dc.b)(t=>{i[o]=t}))),(0,Pc.h)(1),(0,jc.z)(()=>Object.keys(i).length===o.length?(0,dc.of)(i):bc.E))}(t._resolve,t,e,r).pipe((0,_c.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Hl(t,n).resolve),null)))}(t.route,e,n,r)),(0,Dc.b)(()=>i++),(0,Pc.h)(1),(0,jc.z)(e=>i===o.length?(0,dc.of)(t):bc.E))})),(0,Dc.b)({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,Dc.b)(t=>{const e=new Wc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),eh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:o,extras:{skipLocationChange:i,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!i,replaceUrl:!!s})}),(0,_c.U)(t=>{const e=function(t,e,n){const r=Xl(t,e._root,n?n._root:void 0);return new zl(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,Dc.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,i=this.routeReuseStrategy,s=t=>this.triggerEvent(t),(0,_c.U)(t=>(new df(i,t.targetRouterState,t.currentRouterState,s).activate(o),t))),(0,Dc.b)({next(){n=!0},complete(){n=!0}}),(0,Rc.x)(()=>{n||r||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null}),(0,Ec.K)(n=>{if(r=!0,(o=n)&&o.ngNavigationCancelingError){const r=yf(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const o=new Vc(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(o),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Bc(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}var o;return bc.E}));var o,i,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,o={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(o.state=t)}this.scheduleNavigation(r,t,n,o)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_f(t),this.config=t.map(Sf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,queryParamsHandling:i,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:o;let c=null;switch(i){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,o){if(0===n.length)return nf(e.root,e.root,e,r,o);const i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new of(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return cl(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===o?(r.split("/").forEach((r,o)=>{0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new of(n,e,r)}(n);if(i.toRoot())return nf(e.root,new gl([],{}),e,r,o);const s=function(t,e,n){if(t.isAbsolute)return new sf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new sf(t,t===e.root,0)}const r=tf(t.commands[0])?0:1;return function(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new sf(r,!1,o-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(i,e,t),a=s.processChildren?uf(s.segmentGroup,s.index,i.commands):af(s.segmentGroup,s.index,i.commands);return nf(s.segmentGroup,a,e,r,o)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=yf(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let o=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(o=this.location.getState()),this.scheduleNavigation(r,"imperative",o,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},fh):!1===e?Object.assign({},hh):e,yf(t))return dl(this.currentUrlTree,t,n);const r=this.parseUrl(t);return dl(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Fc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,o){if(this.disposed)return Promise.resolve(!1);const i=this.getTransition(),s="imperative"!==e&&"imperative"===(null==i?void 0:i.source),a=(this.lastSuccessfulId===i.id||this.currentNavigation?i.rawUrl:i.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;o?(u=o.resolve,c=o.reject,l=o.promise):l=new Promise((t,e)=>{u=t,c=e});const f=++this.navigationId;let h;return h="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:f,targetPageId:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new Vc(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(vn(tn),vn(_l),vn(sh),vn(bu),vn(To),vn(Qa),vn(ka),vn(void 0))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),ph=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new o.x,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:vh(this.skipLocationChange),replaceUrl:vh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vh(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Ho(dh),Ho(Ul),Ke("tabindex"),Ho(Bi),Ho($i))},t.\u0275dir=ot({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&ti("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[yt]}),t})(),mh=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new o.x,this.subscription=t.events.subscribe(t=>{t instanceof Fc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,o){if(0!==t||e||n||r||o)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:vh(this.skipLocationChange),replaceUrl:vh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vh(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Ho(dh),Ho(Ul),Ho(pu))},t.\u0275dir=ot({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&ti("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(mi("href",e.href,En),zo("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[yt]}),t})();function vh(t){return""===t||!!t}let yh=(()=>{class t{constructor(t,e,n,r,o,i){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=o,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Fc&&this.update()})}ngAfterContentInit(){(0,dc.of)(this.links.changes,this.linksWithHrefs.changes,(0,dc.of)(null)).pipe((0,Nc.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=(0,hc.D)(e).pipe((0,Nc.J)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(dh),Ho($i),Ho(Bi),Ho(fs),Ho(ph,8),Ho(mh,8))},t.\u0275dir=ot({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(ta(n,ph,5),ta(n,mh,5)),2&t){let t;Xs(t=ea())&&(e.links=t),Xs(t=ea())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[yt]}),t})(),gh=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Vs,this.deactivateEvents=new Vs,this.name=r||tl,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new bh(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Ho(sh),Ho(ks),Ho(Ii),Ke("name"),Ho(fs))},t.\u0275dir=ot({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class bh{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ul?this.route:t===sh?this.childContexts:this.parent.get(t,e)}}class wh{}class _h{preload(t,e){return(0,dc.of)(null)}}let xh=(()=>{class t{constructor(t,e,n,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new oh(e,n,e=>t.triggerEvent(new Jc(e)),e=>t.triggerEvent(new Qc(e)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Oc.h)(t=>t instanceof Fc),(0,Ac.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ws);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,hc.D)(n).pipe((0,Nc.J)(),(0,_c.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,dc.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,jc.z)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(vn(dh),vn(Qa),vn(ka),vn(To),vn(wh))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),kh=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $c?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Yc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(vn(dh),vn(Pu),vn(void 0))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Sh=new Xe("ROUTER_CONFIGURATION"),Ch=new Xe("ROUTER_FORROOT_GUARD"),Oh=[bu,{provide:_l,useClass:xl},{provide:dh,useFactory:function(t,e,n,r,o,i,s,a={},u,c){const l=new dh(null,t,e,n,r,o,i,al(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[_l,sh,bu,To,Qa,ka,rh,Sh,[class{},new wn],[class{},new wn]]},sh,{provide:Ul,useFactory:function(t){return t.routerState.root},deps:[dh]},{provide:Qa,useClass:Za},xh,_h,class{preload(t,e){return e().pipe((0,Ec.K)(()=>(0,dc.of)(null)))}},{provide:Sh,useValue:{enableTracing:!1}}];function Eh(){return new Ba("Router",dh)}let Ah=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Oh,Dh(e),{provide:Ch,useFactory:jh,deps:[[dh,new wn,new _n]]},{provide:Sh,useValue:n||{}},{provide:pu,useFactory:Th,deps:[iu,[new bn(vu),new wn],Sh]},{provide:kh,useFactory:Mh,deps:[dh,Pu,Sh]},{provide:wh,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_h},{provide:Ba,multi:!0,useFactory:Eh},[Ph,{provide:ia,multi:!0,useFactory:Ih,deps:[Ph]},{provide:Nh,useFactory:Rh,deps:[Ph]},{provide:ha,multi:!0,useExisting:Nh}]]}}static forChild(e){return{ngModule:t,providers:[Dh(e)]}}}return t.\u0275fac=function(e){return new(e||t)(vn(Ch,8),vn(dh,8))},t.\u0275mod=nt({type:t}),t.\u0275inj=x({}),t})();function Mh(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new kh(t,e,n)}function Th(t,e,n={}){return n.useHash?new gu(t,e):new yu(t,e)}function jh(t){return"guarded"}function Dh(t){return[{provide:Ye,multi:!0,useValue:t},{provide:rh,multi:!0,useValue:t}]}let Ph=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new o.x}appInitializer(){return this.injector.get(au,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(dh),r=this.injector.get(Sh);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,dc.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Sh),n=this.injector.get(xh),r=this.injector.get(kh),o=this.injector.get(dh),i=this.injector.get(Wa);t===i.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(vn(To))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ih(t){return t.appInitializer.bind(t)}function Rh(t){return t.bootstrapListener.bind(t)}const Nh=new Xe("Router Initializer");var Lh="1.13.1",$h="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Fh=Array.prototype,Vh=Object.prototype,Bh="undefined"!=typeof Symbol?Symbol.prototype:null,zh=Fh.push,qh=Fh.slice,Uh=Vh.toString,Hh=Vh.hasOwnProperty,Wh="undefined"!=typeof ArrayBuffer,Jh="undefined"!=typeof DataView,Qh=Array.isArray,Kh=Object.keys,Gh=Object.create,Zh=Wh&&ArrayBuffer.isView,Xh=isNaN,Yh=isFinite,td=!{toString:null}.propertyIsEnumerable("toString"),ed=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],nd=Math.pow(2,53)-1;function rd(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=r,t.apply(this,i)}}function od(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function id(t){return null===t}function sd(t){return void 0===t}function ad(t){return!0===t||!1===t||"[object Boolean]"===Uh.call(t)}function ud(t){return!(!t||1!==t.nodeType)}function cd(t){var e="[object "+t+"]";return function(t){return Uh.call(t)===e}}const ld=cd("String"),fd=cd("Number"),hd=cd("Date"),dd=cd("RegExp"),pd=cd("Error"),md=cd("Symbol"),vd=cd("ArrayBuffer");var yd=cd("Function");"object"!=typeof Int8Array&&"function"!=typeof($h.document&&$h.document.childNodes)&&(yd=function(t){return"function"==typeof t||!1});const gd=yd,bd=cd("Object");var wd=Jh&&bd(new DataView(new ArrayBuffer(8))),_d="undefined"!=typeof Map&&bd(new Map),xd=cd("DataView");const kd=wd?function(t){return null!=t&&gd(t.getInt8)&&vd(t.buffer)}:xd,Sd=Qh||cd("Array");function Cd(t,e){return null!=t&&Hh.call(t,e)}var Od=cd("Arguments");!function(){Od(arguments)||(Od=function(t){return Cd(t,"callee")})}();const Ed=Od;function Ad(t){return!md(t)&&Yh(t)&&!isNaN(parseFloat(t))}function Md(t){return fd(t)&&Xh(t)}function Td(t){return function(){return t}}function jd(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=nd}}function Dd(t){return function(e){return null==e?void 0:e[t]}}const Pd=Dd("byteLength"),Id=jd(Pd);var Rd=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Nd=Wh?function(t){return Zh?Zh(t)&&!kd(t):Id(t)&&Rd.test(Uh.call(t))}:Td(!1),Ld=Dd("length");function $d(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=ed.length,r=t.constructor,o=gd(r)&&r.prototype||Vh,i="constructor";for(Cd(t,i)&&!e.contains(i)&&e.push(i);n--;)(i=ed[n])in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}function Fd(t){if(!od(t))return[];if(Kh)return Kh(t);var e=[];for(var n in t)Cd(t,n)&&e.push(n);return td&&$d(t,e),e}function Vd(t){if(null==t)return!0;var e=Ld(t);return"number"==typeof e&&(Sd(t)||ld(t)||Ed(t))?0===e:0===Ld(Fd(t))}function Bd(t,e){var n=Fd(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var s=n[i];if(e[s]!==o[s]||!(s in o))return!1}return!0}function zd(t){return t instanceof zd?t:this instanceof zd?void(this._wrapped=t):new zd(t)}function qd(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Pd(t))}zd.VERSION=Lh,zd.prototype.valueOf=zd.prototype.toJSON=zd.prototype.value=function(){return this._wrapped},zd.prototype.toString=function(){return String(this._wrapped)};var Ud="[object DataView]";function Hd(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&Wd(t,e,n,r)}function Wd(t,e,n,r){t instanceof zd&&(t=t._wrapped),e instanceof zd&&(e=e._wrapped);var o=Uh.call(t);if(o!==Uh.call(e))return!1;if(wd&&"[object Object]"==o&&kd(t)){if(!kd(e))return!1;o=Ud}switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return Bh.valueOf.call(t)===Bh.valueOf.call(e);case"[object ArrayBuffer]":case Ud:return Wd(qd(t),qd(e),n,r)}var i="[object Array]"===o;if(!i&&Nd(t)){if(Pd(t)!==Pd(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;i=!0}if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(gd(s)&&s instanceof s&&gd(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),i){if((u=t.length)!==e.length)return!1;for(;u--;)if(!Hd(t[u],e[u],n,r))return!1}else{var c,l=Fd(t);if(u=l.length,Fd(e).length!==u)return!1;for(;u--;)if(!Cd(e,c=l[u])||!Hd(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0}function Jd(t,e){return Hd(t,e)}function Qd(t){if(!od(t))return[];var e=[];for(var n in t)e.push(n);return td&&$d(t,e),e}function Kd(t){var e=Ld(t);return function(n){if(null==n)return!1;var r=Qd(n);if(Ld(r))return!1;for(var o=0;o<e;o++)if(!gd(n[t[o]]))return!1;return t!==tp||!gd(n[Gd])}}var Gd="forEach",Zd=["clear","delete"],Xd=["get","has","set"],Yd=Zd.concat(Gd,Xd),tp=Zd.concat(Xd),ep=["add"].concat(Zd,Gd,"has");const np=_d?Kd(Yd):cd("Map"),rp=_d?Kd(tp):cd("WeakMap"),op=_d?Kd(ep):cd("Set"),ip=cd("WeakSet");function sp(t){for(var e=Fd(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function ap(t){for(var e=Fd(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r}function up(t){for(var e={},n=Fd(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function cp(t){var e=[];for(var n in t)gd(t[n])&&e.push(n);return e.sort()}function lp(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],s=t(i),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==n[c]||(n[c]=i[c])}return n}}const fp=lp(Qd),hp=lp(Fd),dp=lp(Qd,!0);function pp(t){if(!od(t))return{};if(Gh)return Gh(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function mp(t,e){var n=pp(t);return e&&hp(n,e),n}function vp(t){return od(t)?Sd(t)?t.slice():fp({},t):t}function yp(t,e){return e(t),t}function gp(t){return Sd(t)?t:[t]}function bp(t){return zd.toPath(t)}function wp(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function _p(t,e,n){var r=wp(t,bp(e));return sd(r)?n:r}function xp(t,e){for(var n=(e=bp(e)).length,r=0;r<n;r++){var o=e[r];if(!Cd(t,o))return!1;t=t[o]}return!!n}function kp(t){return t}function Sp(t){return t=hp({},t),function(e){return Bd(e,t)}}function Cp(t){return t=bp(t),function(e){return wp(e,t)}}function Op(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}function Ep(t,e,n){return null==t?kp:gd(t)?Op(t,e,n):od(t)&&!Sd(t)?Sp(t):Cp(t)}function Ap(t,e){return Ep(t,e,1/0)}function Mp(t,e,n){return zd.iteratee!==Ap?zd.iteratee(t,e):Ep(t,e,n)}function Tp(t,e,n){e=Mp(e,n);for(var r=Fd(t),o=r.length,i={},s=0;s<o;s++){var a=r[s];i[a]=e(t[a],a,t)}return i}function jp(){}function Dp(t){return null==t?jp:function(e){return _p(t,e)}}function Pp(t,e,n){var r=Array(Math.max(0,t));e=Op(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r}function Ip(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}zd.toPath=gp,zd.iteratee=Ap;const Rp=Date.now||function(){return(new Date).getTime()};function Np(t){var e=function(e){return t[e]},n="(?:"+Fd(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return r.test(t=null==t?"":""+t)?t.replace(o,e):t}}const Lp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$p=Np(Lp),Fp=Np(up(Lp)),Vp=zd.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Bp=/(.)^/,zp={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},qp=/\\|'|\r|\n|\u2028|\u2029/g;function Up(t){return"\\"+zp[t]}var Hp=/^\s*(\w|\$)+\s*$/;function Wp(t,e,n){!e&&n&&(e=n),e=dp({},e,zd.templateSettings);var r=RegExp([(e.escape||Bp).source,(e.interpolate||Bp).source,(e.evaluate||Bp).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,function(e,n,r,s,a){return i+=t.slice(o,a).replace(qp,Up),o=a+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),e}),i+="';\n";var s,a=e.variable;if(a){if(!Hp.test(a))throw new Error("variable is not a bare identifier: "+a)}else i="with(obj||{}){\n"+i+"}\n",a="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{s=new Function(a,"_",i)}catch(c){throw c.source=i,c}var u=function(t){return s.call(this,t,zd)};return u.source="function("+a+"){\n"+i+"}",u}function Jp(t,e,n){var r=(e=bp(e)).length;if(!r)return gd(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=gd(i)?i.call(t):i}return t}var Qp=0;function Kp(t){var e=++Qp+"";return t?t+e:e}function Gp(t){var e=zd(t);return e._chain=!0,e}function Zp(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var i=pp(t.prototype),s=t.apply(i,o);return od(s)?s:i}var Xp=rd(function(t,e){var n=Xp.placeholder,r=function(){for(var o=0,i=e.length,s=Array(i),a=0;a<i;a++)s[a]=e[a]===n?arguments[o++]:e[a];for(;o<arguments.length;)s.push(arguments[o++]);return Zp(t,r,this,this,s)};return r});Xp.placeholder=zd;const Yp=Xp,tm=rd(function(t,e,n){if(!gd(t))throw new TypeError("Bind must be called on a function");var r=rd(function(o){return Zp(t,r,e,this,n.concat(o))});return r}),em=jd(Ld);function nm(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,s=Ld(t);i<s;i++){var a=t[i];if(em(a)&&(Sd(a)||Ed(a)))if(e>1)nm(a,e-1,n,r),o=r.length;else for(var u=0,c=a.length;u<c;)r[o++]=a[u++];else n||(r[o++]=a)}return r}const rm=rd(function(t,e){var n=(e=nm(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=tm(t[r],t)}return t});function om(t,e){var n=function(r){var o=n.cache,i=""+(e?e.apply(this,arguments):r);return Cd(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n}const im=rd(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),sm=Yp(im,zd,1);function am(t,e,n){var r,o,i,s,a=0;n||(n={});var u=function(){a=!1===n.leading?0:Rp(),r=null,s=t.apply(o,i),r||(o=i=null)},c=function(){var c=Rp();a||!1!==n.leading||(a=c);var l=e-(c-a);return o=this,i=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),a=c,s=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(u,l)),s};return c.cancel=function(){clearTimeout(r),a=0,r=o=i=null},c}function um(t,e,n){var r,o,i,s,a,u=function(){var c=Rp()-o;e>c?r=setTimeout(u,e-c):(r=null,n||(s=t.apply(a,i)),r||(i=a=null))},c=rd(function(c){return a=this,i=c,o=Rp(),r||(r=setTimeout(u,e),n&&(s=t.apply(a,i))),s});return c.cancel=function(){clearTimeout(r),r=i=a=null},c}function cm(t,e){return Yp(e,t)}function lm(t){return function(){return!t.apply(this,arguments)}}function fm(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function hm(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function dm(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const pm=Yp(dm,2);function mm(t,e,n){e=Mp(e,n);for(var r,o=Fd(t),i=0,s=o.length;i<s;i++)if(e(t[r=o[i]],r,t))return r}function vm(t){return function(e,n,r){n=Mp(n,r);for(var o=Ld(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(n(e[i],i,e))return i;return-1}}const ym=vm(1),gm=vm(-1);function bm(t,e,n,r){for(var o=(n=Mp(n,r,1))(e),i=0,s=Ld(t);i<s;){var a=Math.floor((i+s)/2);n(t[a])<o?i=a+1:s=a}return i}function wm(t,e,n){return function(r,o,i){var s=0,a=Ld(r);if("number"==typeof i)t>0?s=i>=0?i:Math.max(i+a,s):a=i>=0?Math.min(i+1,a):i+a+1;else if(n&&i&&a)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=e(qh.call(r,s,a),Md))>=0?i+s:-1;for(i=t>0?s:a-1;i>=0&&i<a;i+=t)if(r[i]===o)return i;return-1}}const _m=wm(1,ym,bm),xm=wm(-1,gm);function km(t,e,n){var r=(em(t)?ym:mm)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Sm(t,e){return km(t,Sp(e))}function Cm(t,e,n){var r,o;if(e=Op(e,n),em(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else{var i=Fd(t);for(r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t)}return t}function Om(t,e,n){e=Mp(e,n);for(var r=!em(t)&&Fd(t),o=(r||t).length,i=Array(o),s=0;s<o;s++){var a=r?r[s]:s;i[s]=e(t[a],a,t)}return i}function Em(t){var e=function(e,n,r,o){var i=!em(e)&&Fd(e),s=(i||e).length,a=t>0?0:s-1;for(o||(r=e[i?i[a]:a],a+=t);a>=0&&a<s;a+=t){var u=i?i[a]:a;r=n(r,e[u],u,e)}return r};return function(t,n,r,o){var i=arguments.length>=3;return e(t,Op(n,o,4),r,i)}}const Am=Em(1),Mm=Em(-1);function Tm(t,e,n){var r=[];return e=Mp(e,n),Cm(t,function(t,n,o){e(t,n,o)&&r.push(t)}),r}function jm(t,e,n){return Tm(t,lm(Mp(e)),n)}function Dm(t,e,n){e=Mp(e,n);for(var r=!em(t)&&Fd(t),o=(r||t).length,i=0;i<o;i++){var s=r?r[i]:i;if(!e(t[s],s,t))return!1}return!0}function Pm(t,e,n){e=Mp(e,n);for(var r=!em(t)&&Fd(t),o=(r||t).length,i=0;i<o;i++){var s=r?r[i]:i;if(e(t[s],s,t))return!0}return!1}function Im(t,e,n,r){return em(t)||(t=sp(t)),("number"!=typeof n||r)&&(n=0),_m(t,e,n)>=0}const Rm=rd(function(t,e,n){var r,o;return gd(e)?o=e:(e=bp(e),r=e.slice(0,-1),e=e[e.length-1]),Om(t,function(t){var i=o;if(!i){if(r&&r.length&&(t=wp(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)})});function Nm(t,e){return Om(t,Cp(e))}function Lm(t,e){return Tm(t,Sp(e))}function $m(t,e,n){var r,o,i=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=em(t)?t:sp(t)).length;a<u;a++)null!=(r=t[a])&&r>i&&(i=r);else e=Mp(e,n),Cm(t,function(t,n,r){((o=e(t,n,r))>s||o===-1/0&&i===-1/0)&&(i=t,s=o)});return i}function Fm(t,e,n){var r,o,i=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=em(t)?t:sp(t)).length;a<u;a++)null!=(r=t[a])&&r<i&&(i=r);else e=Mp(e,n),Cm(t,function(t,n,r){((o=e(t,n,r))<s||o===1/0&&i===1/0)&&(i=t,s=o)});return i}function Vm(t,e,n){if(null==e||n)return em(t)||(t=sp(t)),t[Ip(t.length-1)];var r=em(t)?vp(t):sp(t),o=Ld(r);e=Math.max(Math.min(e,o),0);for(var i=o-1,s=0;s<e;s++){var a=Ip(s,i),u=r[s];r[s]=r[a],r[a]=u}return r.slice(0,e)}function Bm(t){return Vm(t,1/0)}function zm(t,e,n){var r=0;return e=Mp(e,n),Nm(Om(t,function(t,n,o){return{value:t,index:r++,criteria:e(t,n,o)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")}function qm(t,e){return function(n,r,o){var i=e?[[],[]]:{};return r=Mp(r,o),Cm(n,function(e,o){var s=r(e,o,n);t(i,e,s)}),i}}const Um=qm(function(t,e,n){Cd(t,n)?t[n].push(e):t[n]=[e]}),Hm=qm(function(t,e,n){t[n]=e}),Wm=qm(function(t,e,n){Cd(t,n)?t[n]++:t[n]=1}),Jm=qm(function(t,e,n){t[n?0:1].push(e)},!0);var Qm=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Km(t){return t?Sd(t)?qh.call(t):ld(t)?t.match(Qm):em(t)?Om(t,kp):sp(t):[]}function Gm(t){return null==t?0:em(t)?t.length:Fd(t).length}function Zm(t,e,n){return e in n}const Xm=rd(function(t,e){var n={},r=e[0];if(null==t)return n;gd(r)?(e.length>1&&(r=Op(r,e[1])),e=Qd(t)):(r=Zm,e=nm(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var s=e[o],a=t[s];r(a,s,t)&&(n[s]=a)}return n}),Ym=rd(function(t,e){var n,r=e[0];return gd(r)?(r=lm(r),e.length>1&&(n=e[1])):(e=Om(nm(e,!1,!1),String),r=function(t,n){return!Im(e,n)}),Xm(t,r,n)});function tv(t,e,n){return qh.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function ev(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:tv(t,t.length-e)}function nv(t,e,n){return qh.call(t,null==e||n?1:e)}function rv(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:nv(t,Math.max(0,t.length-e))}function ov(t){return Tm(t,Boolean)}function iv(t,e){return nm(t,e,!1)}const sv=rd(function(t,e){return e=nm(e,!0,!0),Tm(t,function(t){return!Im(e,t)})}),av=rd(function(t,e){return sv(t,e)});function uv(t,e,n,r){ad(e)||(r=n,n=e,e=!1),null!=n&&(n=Mp(n,r));for(var o=[],i=[],s=0,a=Ld(t);s<a;s++){var u=t[s],c=n?n(u,s,t):u;e&&!n?(s&&i===c||o.push(u),i=c):n?Im(i,c)||(i.push(c),o.push(u)):Im(o,u)||o.push(u)}return o}const cv=rd(function(t){return uv(nm(t,!0,!0))});function lv(t){for(var e=[],n=arguments.length,r=0,o=Ld(t);r<o;r++){var i=t[r];if(!Im(e,i)){var s;for(s=1;s<n&&Im(arguments[s],i);s++);s===n&&e.push(i)}}return e}function fv(t){for(var e=t&&$m(t,Ld).length||0,n=Array(e),r=0;r<e;r++)n[r]=Nm(t,r);return n}const hv=rd(fv);function dv(t,e){for(var n={},r=0,o=Ld(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function pv(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o}function mv(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(qh.call(t,r,r+=e));return n}function vv(t,e){return t._chain?zd(e).chain():e}function yv(t){return Cm(cp(t),function(e){var n=zd[e]=t[e];zd.prototype[e]=function(){var t=[this._wrapped];return zh.apply(t,arguments),vv(this,n.apply(zd,t))}}),zd}Cm(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Fh[t];zd.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),vv(this,n)}}),Cm(["concat","join","slice"],function(t){var e=Fh[t];zd.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),vv(this,t)}});const gv=zd;var bv=yv(r);bv._=bv;const wv=bv;function _v(t,e,n,r,o,i,s){try{var a=t[i](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,o)}function xv(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(t){_v(i,r,o,s,a,"next",t)}function a(t){_v(i,r,o,s,a,"throw",t)}s(void 0)})}}function kv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sv(t,e,n){return e&&kv(t.prototype,e),n&&kv(t,n),t}var Cv=n(6549),Ov=n.n(Cv),Ev=n(4105),Av=n.n(Ev),Mv=n(3467),Tv=n.n(Mv),jv=n(9670),Dv=n.n(jv),Pv=n(7135),Iv=n.n(Pv),Rv=n(1207),Nv=n(890);function Lv(t){var e=t.split("-"),n="RxDB";return e.forEach(function(t){n+=qv(t)}),n+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+n+" } from 'rxdb/plugins/"+t+"';\n            addRxPlugin("+n+");\n        ")}function $v(t){return"string"!=typeof t&&(t=JSON.stringify(t)),Dv().hash("rxdb-specific-hash-salt"+t)}var Fv=0;function Vv(){var t=(new Date).getTime();return t<=Fv&&(t=Fv+1),Fv=t,t}function Bv(){return new Promise(function(t){return setTimeout(t,0)})}function zv(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(e){return setTimeout(e,t)})}function qv(t){return(t+="").charAt(0).toUpperCase()+t.substr(1)}function Uv(t){for(;"."===t.charAt(0);)t=t.substr(1);for(;"."===t.slice(-1);)t=t.slice(0,-1);return t}function Hv(t){if(!t)throw new Error("ensureNotFalsy() is falsy");return t}function Wv(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return t;if(!e&&Array.isArray(t))return t.sort(function(t,e){return"string"==typeof t&&"string"==typeof e?t.localeCompare(e):"object"==typeof t?1:-1}).map(function(t){return Wv(t,e)});if("object"==typeof t&&!Array.isArray(t)){if(t instanceof RegExp)return t;var n={};return Object.keys(t).sort(function(t,e){return t.localeCompare(e)}).forEach(function(r){n[r]=Wv(t[r],e)}),n}return t}function Jv(t,e){return e instanceof RegExp?e.toString():e}function Qv(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e="",n="abcdefghijklmnopqrstuvwxyz",r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}var Kv=function(t){return t?Tv()(t,!1):t};function Gv(t){return Object.assign({},t)}var Zv=Iv()();function Xv(t){var e={};for(var n in t)if(t.hasOwnProperty(n))if("object"==typeof t[n]){var r=Xv(t[n]);for(var o in r)r.hasOwnProperty(o)&&(e[n+"."+o]=r[o])}else e[n]=t[n];return e}function Yv(t){var e=t.split("-")[0];return parseInt(e,10)}function ty(t,e){if(!e)return(0,Nv.OD)(t,!1);var n=Object.assign({},t,{_rev:void 0,_rev_tree:void 0});return(0,Rv.$)(JSON.stringify(n))}function ey(t,e,n){return Object.defineProperty(t,e,{get:function(){return n}}),n}function ny(t){return!(!t.includes("/")&&!t.includes("\\"))}function ry(t,e){var n=t.get(e);if(!n)throw new Error("missing value from map "+e);return n}var oy=function(t,e){var n;if(Zv)return Buffer.from(t,{type:e});try{n=new Blob([t],{type:e})}catch(r){n=Buffer.from(t,{type:e})}return n},iy=function(t){return"undefined"!=typeof Buffer&&t instanceof Buffer?Bv().then(function(){return t.toString()}):new Promise(function(e){var n=new FileReader;n.addEventListener("loadend",function(t){e(t.target.result)}),"[object Uint8Array]"===Object.prototype.toString.call(t)&&(t=new Blob([t])),n.readAsText(t)})};function sy(t,e){return(sy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ay(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,sy(t,e)}function uy(t){return(uy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ly(t,e,n){return(ly=cy()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&sy(o,n.prototype),o}).apply(null,arguments)}function fy(t){var e="function"==typeof Map?new Map:void 0;return(fy=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return ly(t,arguments,uy(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),sy(n,t)})(t)}var hy={isDevMode:function(){return!1},deepFreezeWhenDevMode:function(t){return t},validatePassword:function(t){throw Lv("encryption")},tunnelErrorMessage:function(t){return"RxDB Error-Code "+t+".\n        - To find out what this means, use the dev-mode-plugin https://pubkey.github.io/rxdb/custom-build.html#dev-mode\n        - Or search for this code https://github.com/pubkey/rxdb/search?q="+t+"\n        "}};function dy(t,e,n){return"RxError ("+e+"):\n"+t+"\n"+function(t){var e="";return 0===Object.keys(t).length?e:(e+="Given parameters: {\n",e+=Object.keys(t).map(function(e){var n="[object Object]";try{n=JSON.stringify(t[e],function(t,e){return void 0===e?null:e},2)}catch(r){}return e+":"+n}).join("\n"),e+="}")}(n)}var py=function(t){function e(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=dy(n,e,o);return(r=t.call(this,i)||this).code=e,r.message=i,r.parameters=o,r.rxdb=!0,r}return ay(e,t),e.prototype.toString=function(){return this.message},Sv(e,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),e}(fy(Error)),my=function(t){function e(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=dy(n,e,o);return(r=t.call(this,i)||this).code=e,r.message=i,r.parameters=o,r.rxdb=!0,r}return ay(e,t),e.prototype.toString=function(){return this.message},Sv(e,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),e}(fy(TypeError));function vy(t,e){return new py(t,hy.tunnelErrorMessage(t),e)}function yy(t,e){return new my(t,hy.tunnelErrorMessage(t),e)}var gy={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],createRxQuery:[],preQueryMatcher:[],preSortComparator:[],prePrepareQuery:[],preWriteToStorageInstance:[],postReadFromInstance:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function by(t,e){gy[t].forEach(function(t){return t(e)})}function wy(t,e){return Promise.all(gy[t].map(function(t){return t(e)}))}function _y(t,e,n,r,o,i,s){try{var a=t[i](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,o)}function xy(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(t){_y(i,r,o,s,a,"next",t)}function a(t){_y(i,r,o,s,a,"throw",t)}s(void 0)})}}var ky=n(1811),Sy=n.n(ky),Cy=n(3717);function Oy(t){return t.documentData?t.documentData:t.previousDocumentData}var Ey="_rxdb_internal";function Ay(t){return My.apply(this,arguments)}function My(){return(My=xy(Sy().mark(function t(e){var n;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.prepareQuery({selector:{}}),t.next=3,e.query(n);case 3:return t.abrupt("return",t.sent.documents);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ty(t,e){return jy.apply(this,arguments)}function jy(){return(jy=xy(Sy().mark(function t(e,n){var r;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.findDocumentsById([n],!1);case 2:if(!(r=t.sent.get(n))){t.next=8;break}return t.abrupt("return",r);case 8:return t.abrupt("return",null);case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Dy(t){return Py.apply(this,arguments)}function Py(){return(Py=xy(Sy().mark(function t(e){return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ay(e);case 2:return t.abrupt("return",t.sent.length);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Iy(){return(Iy=xy(Sy().mark(function t(e,n){var r;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n<=1)){t.next=2;break}throw vy("P1",{limit:n});case 2:return r=e.prepareQuery({selector:{},limit:n}),t.next=5,e.query(r);case 5:return t.abrupt("return",t.sent.documents);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ry(t,e){return Ny.apply(this,arguments)}function Ny(){return(Ny=xy(Sy().mark(function t(e,n){var r,o;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.bulkWrite([n]);case 2:if(!((r=t.sent).error.size>0)){t.next=8;break}throw r.error.values().next().value;case 8:return o=r.success.values().next().value,t.abrupt("return",o);case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ly(t,e){return $y.apply(this,arguments)}function $y(){return($y=xy(Sy().mark(function t(e,n){var r,o;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.bulkWrite([n]);case 2:if(!((r=t.sent).error.size>0)){t.next=8;break}throw r.error.values().next().value;case 8:return o=r.success.values().next().value,t.abrupt("return",o);case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Fy(t,e){return Vy.apply(this,arguments)}function Vy(){return(Vy=xy(Sy().mark(function t(e,n){var r;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.findLocalDocumentsById([n]);case 2:if(r=t.sent.get(n)){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function By(t,e,n,r){var o,i;if("DELETE"!==e.change.operation)if(r){var s={collection:r,doc:e.change.doc};by("postReadFromInstance",s),o=r._crypter.decrypt(o=s.doc)}else o=e.change.doc;if("INSERT"!==e.change.operation)if(r){var a={collection:r,doc:e.change.previous};by("postReadFromInstance",a),i=r._crypter.decrypt(i=a.doc)}else i=e.change.previous;return{eventId:e.eventId,documentId:e.documentId,databaseToken:n.token,collectionName:r?r.name:void 0,startTime:e.startTime,endTime:e.endTime,isLocal:t,operation:e.change.operation,documentData:hy.deepFreezeWhenDevMode(o),previousDocumentData:hy.deepFreezeWhenDevMode(i)}}function zy(t,e){return qy.apply(this,arguments)}function qy(){return(qy=xy(Sy().mark(function t(e,n){var r,o,i,s=arguments;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=s.length>2&&void 0!==s[2]&&s[2],o={previous:n.previous?Uy(e,Gv(n.previous)):void 0,document:Uy(e,Gv(n.document))};case 2:return t.prev=3,t.next=6,e.database.lockedRun(function(){return Ry(e.storageInstance,o)});case 6:return i=Hy(e,t.sent),t.abrupt("return",i);case 11:return t.prev=11,t.t0=t.catch(3),t.delegateYield(Sy().mark(function i(){var s,a,u;return Sy().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(a=(s=t.t0).documentId,!r||409!==s.status){i.next=11;break}return i.next=5,e.database.lockedRun(function(){return Ty(e.storageInstance,a)});case 5:if(u=i.sent){i.next=8;break}throw vy("SNH",{args:{writeRow:n}});case 8:o.previous=u,i.next=16;break;case 11:if(409!==s.status){i.next=15;break}throw vy("COL19",{collection:e.name,id:a,pouchDbError:s,data:n});case 15:throw s;case 16:case"end":return i.stop()}},i)})(),"t1",14);case 14:t.next=2;break;case 16:case"end":return t.stop()}},t,null,[[3,11]])}))).apply(this,arguments)}function Uy(t,e){hy.isDevMode()&&t.schema.fillPrimaryKey(e),e=t._crypter.encrypt(e);var n={collection:t,doc:e};return by("preWriteToStorageInstance",n),n.doc}function Hy(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={collection:t,doc:e};return by("postReadFromInstance",r),n?r.doc:t._crypter.decrypt(r.doc)}function Wy(t,e){var n=t.schema.fillObjectWithDefaults(e);return t.schema.fillPrimaryKey(n)}function Jy(t){return t+"-local"}function Qy(t,e,n,r){return Ky.apply(this,arguments)}function Ky(){return(Ky=xy(Sy().mark(function t(e,n,r,o){var i;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.storage.createStorageInstance(r),n.storage.createKeyObjectStorageInstance(n.name,Jy(e),o)]);case 2:return t.abrupt("return",{storageInstance:(i=t.sent)[0],localDocumentsStore:i[1]});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Gy(t,e){var n;return{version:t,type:"object",primaryKey:e,properties:(n={},n[e]={type:"string"},n),required:[e]}}function Zy(t,e){var n=e;return n=Uv(n="properties."+(n=n.replace(/\./g,".properties."))),Av().get(t,n)}var Xy,Yy={get _data(){if(this.isInstanceOfRxDocument)return this._dataSync$.getValue()},get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){var t=this;if(t.isInstanceOfRxDocument)return t._data[t.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this._isDeleted$.asObservable()},get deleted(){if(this.isInstanceOfRxDocument)return this._isDeleted$.getValue()},get $(){return this._dataSync$.asObservable().pipe((0,_c.U)(function(t){return hy.deepFreezeWhenDevMode(t)}))},_handleChangeEvent:function(t){if(t.documentId===this.primary){var e=Yv(Oy(t)._rev);if(!(Yv(this._data._rev)>e))switch(t.operation){case"INSERT":break;case"UPDATE":this._dataSync$.next(t.documentData);break;case"DELETE":this.collection._docCache.delete(this.primary),this._isDeleted$.next(!0)}}},$emit:function(t){return this.collection.$emit(t)},get$:function(t){if(t.includes(".item."))throw vy("DOC1",{path:t});if(t===this.primaryPath)throw vy("DOC2");if(this.collection.schema.finalFields.includes(t))throw vy("DOC3",{path:t});if(!Zy(this.collection.schema.jsonSchema,t))throw vy("DOC4",{path:t});return this._dataSync$.pipe((0,_c.U)(function(e){return Av().get(e,t)}),(0,Cy.x)())},populate:function(t){var e=Zy(this.collection.schema.jsonSchema,t),n=this.get(t);if(!n)return Promise.resolve(null);if(!e)throw vy("DOC5",{path:t});if(!e.ref)throw vy("DOC6",{path:t,schemaObj:e});var r=this.collection.database.collections[e.ref];if(!r)throw vy("DOC7",{ref:e.ref,path:t,schemaObj:e});return"array"===e.type?r.findByIds(n).then(function(t){var e=t.values();return Array.from(e)}):r.findOne(n).exec()},get:function(t){if(this._data){var e=Av().get(this._data,t);return"object"!=typeof e||Array.isArray(e)?hy.deepFreezeWhenDevMode(e):(e=Kv(e),eg(this.collection.schema,e,t,this),e)}},toJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return hy.deepFreezeWhenDevMode(this._data);var e=Gv(this._data);return delete e._rev,delete e._attachments,hy.deepFreezeWhenDevMode(e)},set:function(t,e){if(!this._isTemporary)throw yy("DOC16",{objPath:t,value:e});if("string"!=typeof t)throw yy("DOC15",{objPath:t,value:e});if(!Object.is(this.get(t),e)){var n=t.split(".");n.pop();var r=n.join(".");if(void 0===Av().get(this._data,r))throw vy("DOC10",{childpath:t,rootPath:r});return Av().set(this._data,t,e),this}},update:function(t){throw Lv("update")},putAttachment:function(){throw Lv("attachments")},getAttachment:function(){throw Lv("attachments")},allAttachments:function(){throw Lv("attachments")},get allAttachments$(){throw Lv("attachments")},atomicUpdate:function(t){var e=this;return new Promise(function(n,r){e._atomicQueue=e._atomicQueue.then(xy(Sy().mark(function o(){var i,s,a;return Sy().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:i=!1;case 1:if(i){o.next=24;break}return s=e._dataSync$.getValue(),o.prev=3,o.next=6,t(Kv(e._dataSync$.getValue()),e);case 6:return a=o.sent,e.collection&&(a=e.collection.schema.fillObjectWithDefaults(a)),o.next=10,e._saveData(a,s);case 10:i=!0,o.next=22;break;case 13:if(o.prev=13,o.t0=o.catch(3),!(u=o.t0).parameters||!u.parameters.pouchDbError||409!==u.parameters.pouchDbError.status){o.next=20;break}return o.next=18,Bv();case 18:o.next=22;break;case 20:return r(o.t0),o.abrupt("return");case 22:o.next=1;break;case 24:n(e);case 25:case"end":return o.stop()}var u},o,null,[[3,13]])})))})},atomicPatch:function(t){return this.atomicUpdate(function(e){return Object.entries(t).forEach(function(t){e[t[0]]=t[1]}),e})},_saveData:(Xy=xy(Sy().mark(function t(e,n){return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=e,!this._isDeleted$.getValue()){t.next=3;break}throw vy("DOC11",{id:this.primary,document:this});case 3:return this.collection.schema.validateChange(n,e),t.next=6,this.collection._runHooks("pre","save",e,this);case 6:return this.collection.schema.validate(e),t.next=9,zy(this.collection,{previous:n,document:e});case 9:return t.abrupt("return",this.collection._runHooks("post","save",e,this));case 10:case"end":return t.stop()}},t,this)})),function(t,e){return Xy.apply(this,arguments)}),save:function(){var t=this;if(!this._isTemporary)throw vy("DOC17",{id:this.primary,document:this});return this.collection.insert(this).then(function(){return t._isTemporary=!1,t.collection._docCache.set(t.primary,t),t._dataSync$.next(t._data),!0})},remove:function(){var t=this;if(this.deleted)return Promise.reject(vy("DOC13",{document:this,id:this.primary}));var e=Gv(this._data);return this.collection._runHooks("pre","remove",e,this).then(function(){return e._deleted=!0,Vv(),zy(t.collection,{previous:t._data,document:e})}).then(function(){return t.collection._runHooks("post","remove",e,t)}).then(function(){return t})},destroy:function(){throw vy("DOC14")}};function tg(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yy,e=function(t,e){this.collection=t,this._isTemporary=!1,this._dataSync$=new pc.X(e),this._isDeleted$=new pc.X(!1),this._atomicQueue=Promise.resolve(),this.isInstanceOfRxDocument=!0};return e.prototype=t,e}function eg(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==e){var o=Zy(t.jsonSchema,n);void 0!==o&&(o.properties&&(o=o.properties),Object.keys(o).forEach(function(t){var o=Uv(n+"."+t);e.__defineGetter__(t,function(){var t=r||this;if(t.get&&"function"==typeof t.get)return t.get(o)}),Object.defineProperty(e,t+"$",{get:function(){return(r||this).get$(o)},enumerable:!1,configurable:!1}),Object.defineProperty(e,t+"_",{get:function(){return(r||this).populate(o)},enumerable:!1,configurable:!1}),e.__defineSetter__(t,function(t){return(r||this).set(o,t)})}))}}function ng(t,e,n){if(n[e.schema.primaryPath]&&n[e.schema.primaryPath].startsWith("_design"))return null;var r=new t(e,n);return by("createRxDocument",r),r}var rg=function(){function t(t){this.jsonSchema=t,this.indexes=function(t){return(t.indexes||[]).map(function(t){return Array.isArray(t)?t:[t]})}(this.jsonSchema),this.primaryPath=og(this.jsonSchema.primaryKey),this.finalFields=function(t){var e=Object.keys(t.properties).filter(function(e){return t.properties[e].final}),n=og(t.primaryKey);return e.push(n),"string"!=typeof t.primaryKey&&t.primaryKey.fields.forEach(function(t){return e.push(t)}),e}(this.jsonSchema),this.jsonSchema.required=this.jsonSchema.required.concat(this.finalFields).filter(function(t){return!t.includes(".")}).filter(function(t,e,n){return n.indexOf(t)===e})}var e=t.prototype;return e.validateChange=function(t,e){var n=this;this.finalFields.forEach(function(r){if(!Ov()(t[r],e[r]))throw vy("DOC9",{dataBefore:t,dataAfter:e,fieldName:r,schema:n.jsonSchema})})},e.validate=function(t,e){throw Lv("validate")},e.fillObjectWithDefaults=function(t){return t=Kv(t),Object.entries(this.defaultValues).filter(function(e){var n=e[0];return!t.hasOwnProperty(n)||void 0===t[n]}).forEach(function(e){return t[e[0]]=e[1]}),t},e.getDocumentPrototype=function(){var t={};return eg(this,t,""),ey(this,"getDocumentPrototype",function(){return t}),t},e.getPrimaryOfDocumentData=function(t){return ig(this.jsonSchema,t)},e.fillPrimaryKey=function(t){var e=Gv(t),n=ig(this.jsonSchema,t),r=t[this.primaryPath];if(r&&r!==n)throw vy("DOC19",{args:{documentData:t,existingPrimary:r,newPrimary:n},schema:this.jsonSchema});return e[this.primaryPath]=n,e},Sv(t,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"normalized",get:function(){return ey(this,"normalized",(e=Wv(Kv(t=this.jsonSchema)),t.indexes&&(e.indexes=Array.from(t.indexes)),e));var t,e}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var t={};return Object.entries(this.normalized.properties).filter(function(t){return t[1].hasOwnProperty("default")}).forEach(function(e){return t[e[0]]=e[1].default}),ey(this,"defaultValues",t)}},{key:"crypt",get:function(){return!!(this.jsonSchema.encrypted&&this.jsonSchema.encrypted.length>0||this.jsonSchema.attachments&&this.jsonSchema.attachments.encrypted)}},{key:"encryptedPaths",get:function(){return this.jsonSchema.encrypted||[]}},{key:"hash",get:function(){return ey(this,"hash",$v(this.normalized))}}]),t}();function og(t){return"string"==typeof t?t:t.key}function ig(t,e){if("string"==typeof t.primaryKey)return e[t.primaryKey];var n=t.primaryKey;return n.fields.map(function(t){var n=Av().get(e,t);if(void 0===n)throw vy("DOC18",{args:{field:t,documentData:e}});return n}).join(n.separator)}function sg(t){var e=0;return new Array(t.version?t.version:0).fill(0).map(function(){return e++})}function ag(t){return(t=Kv(t)).additionalProperties=!1,t.hasOwnProperty("keyCompression")||(t.keyCompression=!1),t.indexes=t.indexes||[],t.required=t.required||[],t.encrypted=t.encrypted||[],t.properties._rev={type:"string",minLength:1},t.properties._attachments={type:"object"},t.properties._deleted={type:"boolean"},t.version=t.version||0,t}function ug(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&by("preCreateRxSchema",t);var n=new rg(ag(t));return by("createRxSchema",n),n}var cg=function(){function t(t,e){this.password=t,this.schema=e}var e=t.prototype;return e._encryptString=function(t){throw Lv("encryption")},e._decryptString=function(t){throw Lv("encryption")},e.encrypt=function(t){var e=this;if(!this.password)return t;var n=(t=Gv(t))._attachments;delete t._attachments;var r=Kv(t);return n&&(r._attachments=n),this.schema.encryptedPaths.forEach(function(t){var n=Av().get(r,t);if(void 0!==n){var o=JSON.stringify(n),i=e._encryptString(o);Av().set(r,t,i)}}),r},e.decrypt=function(t){var e=this;if(!this.password)return t;var n=(t=Gv(t))._attachments;delete t._attachments;var r=Kv(t);return n&&(r._attachments=n),this.schema.encryptedPaths.forEach(function(t){var n=Av().get(r,t);if(void 0!==n){var o=e._decryptString(n),i=JSON.parse(o);Av().set(r,t,i)}}),r},t}();function lg(t,e){return new cg(t,e)}var fg=n(2421),hg=new WeakMap,dg=new WeakMap;function pg(t){if(!dg.has(t)){var e=tg(function(t){if(!hg.has(t)){var e=t.schema.getDocumentPrototype(),n=function(t){var e={};return Object.entries(t.methods).forEach(function(t){e[t[0]]=t[1]}),e}(t),r={};[e,n,Yy].forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(e){var n=Object.getOwnPropertyDescriptor(t,e),o=!0;(e.startsWith("_")||e.endsWith("_")||e.startsWith("$")||e.endsWith("$"))&&(o=!1),"function"==typeof n.value?Object.defineProperty(r,e,{get:function(){return n.value.bind(this)},enumerable:o,configurable:!1}):(n.enumerable=o,n.configurable=!1,n.writable&&(n.writable=!1),Object.defineProperty(r,e,n))})}),hg.set(t,r)}return hg.get(t)}(t));dg.set(t,e)}return dg.get(t)}function mg(t,e){var n=e[t.schema.primaryPath],r=t._docCache.get(n);if(r)return r;var o=ng(pg(t),t,hy.deepFreezeWhenDevMode(e));return t._docCache.set(n,o),t._runHooksSync("post","create",e,o),by("postCreateRxDocument",o),o}var vg=function(t){t.previousResults.unshift(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},yg=function(t){t.previousResults.push(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},gg=function(t){var e=t.previousResults.shift();t.keyDocumentMap&&e&&t.keyDocumentMap.delete(e[t.queryParams.primaryKey])},bg=function(t){var e=t.previousResults.pop();t.keyDocumentMap&&e&&t.keyDocumentMap.delete(e[t.queryParams.primaryKey])},wg=function(t){t.keyDocumentMap&&t.keyDocumentMap.delete(t.changeEvent.id);for(var e=t.queryParams.primaryKey,n=t.previousResults,r=0;r<n.length;r++)if(n[r][e]===t.changeEvent.id){n.splice(r,1);break}},_g=function(t){var e=t.changeEvent.doc;t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,e),function(t,e,n,r){var o=t,i=o.length-1,s=0,a=0;if(0===o.length)return o.push(e),o;for(;s<=i;)n(o[a=s+(i-s>>1)],e)<=0?s=a+1:i=a-1;n(o[a],e)<=0&&a++,o.splice(a,0,e)}(t.previousResults,e,t.queryParams.sortComparator)},xg=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],kg={doNothing:function(t){},insertFirst:vg,insertLast:yg,removeFirstItem:gg,removeLastItem:bg,removeFirstInsertLast:function(t){gg(t),yg(t)},removeLastInsertFirst:function(t){bg(t),vg(t)},removeExisting:wg,replaceExisting:function(t){for(var e=t.changeEvent.doc,n=t.queryParams.primaryKey,r=t.previousResults,o=0;o<r.length;o++)if(r[o][n]===t.changeEvent.id){r[o]=e,t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,e);break}},alwaysWrong:function(t){var e={_id:"wrongHuman"+(new Date).getTime()};t.previousResults.length=0,t.previousResults.push(e),t.keyDocumentMap&&(t.keyDocumentMap.clear(),t.keyDocumentMap.set(e._id,e))},insertAtSortPosition:_g,removeExistingAndInsertAtSortPosition:function(t){wg(t),_g(t)},runFullQueryAgain:function(t){throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:function(t){throw new Error("Action unknownAction should never be called")}};function Sg(t,e){for(var n=[],r=0,o=t.length;r<o;r+=e)n.push(t.substring(r,r+e));return n}function Cg(t){return t.charCodeAt(0)-40}!function(t){void 0===t&&(t=6);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length,r=0;r<t;r++)e.charAt(Math.floor(Math.random()*n))}(4);var Og=n(7569),Eg=n.n(Og),Ag="UNKNOWN";function Mg(t){return t[t.length-1]}var Tg=function(t){return!!t.queryParams.limit},jg={0:function(t){return"INSERT"===t.changeEvent.operation},1:function(t){return"UPDATE"===t.changeEvent.operation},2:function(t){return"DELETE"===t.changeEvent.operation},3:Tg,4:function(t){return 1===t.queryParams.limit},5:function(t){return!!(t.queryParams.skip&&t.queryParams.skip>0)},6:function(t){return 0===t.previousResults.length},7:function(t){return t.changeEvent.previous===Ag},8:function(t){return Tg(t)&&t.previousResults.length>=t.queryParams.limit},9:function(t){var e=t.queryParams.sortFields,n=t.changeEvent.previous,r=t.changeEvent.doc;if(!r)return!1;if(!n||n===Ag)return!0;for(var o=0;o<e.length;o++){var i=e[o];if(Eg().get(n,i)!==Eg().get(r,i))return!0}return!1},10:function(t){var e=t.changeEvent.id;if(t.keyDocumentMap)return t.keyDocumentMap.has(e);for(var n=t.queryParams.primaryKey,r=t.previousResults,o=0;o<r.length;o++)if(r[o][n]===e)return!0;return!1},11:function(t){var e=t.changeEvent.previous;if(!e||e===Ag)return!1;var n=t.previousResults[0];return!!n&&t.queryParams.sortComparator(e,n)<0},12:function(t){var e=t.changeEvent.previous;if(!e||e===Ag)return!1;var n=Mg(t.previousResults);return!!n&&t.queryParams.sortComparator(e,n)>0},13:function(t){var e=t.changeEvent.doc;if(!e)return!1;var n=t.previousResults[0];return!!n&&t.queryParams.sortComparator(e,n)<0},14:function(t){var e=t.changeEvent.doc;if(!e)return!1;var n=Mg(t.previousResults);return!!n&&t.queryParams.sortComparator(e,n)>0},15:function(t){var e=t.changeEvent.previous;return!(!e||e===Ag)&&t.queryParams.queryMatcher(e)},16:function(t){var e=t.changeEvent.doc;return!!e&&t.queryParams.queryMatcher(e)}},Dg=function(t){for(var e=new Map,n=2+2*parseInt(t.charAt(0)+t.charAt(1),10),r=Sg(t.substring(2,n),2),o=0;o<r.length;o++){var i=(u=r[o]).charAt(0),s=Cg(u.charAt(1));e.set(i,s)}var a=Sg(t.substring(n,t.length-3),4);for(o=0;o<a.length;o++){i=(u=a[o]).charAt(0);var u,c=u.charAt(1),l=u.charAt(2),f=Cg(u.charAt(3));if(!e.has(c))throw new Error("missing node with id "+c);if(!e.has(l))throw new Error("missing node with id "+l);var h=e.get(c),d=e.get(l);e.set(i,{l:f,0:h,1:d})}var p=t.slice(-3),m=p.charAt(0),v=p.charAt(1);return{l:Cg(p.charAt(2)),0:e.get(m),1:e.get(v)}}("11a+b0c/d3e.f2g*h-i)j(k4ljk3mkj3nbh,odh,peh,qkj5rkm5sdk5tjk5uok5vfi5wkp5xfk5yxk/zgk/{jt/|jk/}bd1~xy1\x7fgz1\xa1jq1\xa2bs1\xa3no1\xa4j{1\xa5j|1\xa6jl1\xa7kl1\xa8jr1\xa9nu1\xaa|a7\xab|l7\xacd}7\xad\xa4a7\xae~\xa17\xaf\x7fh7\xb0s\xa27\xb1kj7\xb2o\xa37\xb3\xa4\xa77\xb4k\xa87\xb5\xa5\xa67\xb6u\xa97\xb7vg6\xb8\xacd6\xb9\xadj6\xba\xae\xaf6\xbb\xb0d6\xbcwj6\xbd\xb2k6\xbe\xb3j6\xbf\xb4\xb56\xc0\xb6k6\xc1\xb9\xaa*\xc2\xbe\xab*\xc3j\xc1-\xc4j\xc2-\xc5\xb7\xba-\xc6\xb8\xbb-\xc7i\xb1-\xc8\xbc\xbf-\xc9\xbd\xc0-\xca\xc3c2\xcb\xc4k2\xcc\xc5\xc62\xcd\xc8\xc92\xce\xca\xcb0\xcf\xcc\xcd0\xd0\xce\xcf8\xd1j\xc78\xd0\xd1.");function Pg(t,e){return e.sort&&0!==e.sort.length?e.sort.map(function(t){return Object.keys(t)[0]}):[t]}var Ig=new WeakMap;var Rg=function(){function t(){this._map=new Map}return t.prototype.getByQuery=function(t){var e=t.toString();return this._map.has(e)||this._map.set(e,t),this._map.get(e)},t}();function Ng(){return new Rg}function Lg(t,e){e.uncached=!0;var n=e.toString();t._map.delete(n)}function $g(t){return t.refCount$.observers.length}var Fg=function(t,e){if(!(e._map.size<100)){for(var n=Vv()-3e4,r=[],o=0,i=Array.from(e._map.values());o<i.length;o++){var s=i[o];$g(s)>0||(0===s._lastEnsureEqual&&s._creationTime<n?Lg(e,s):r.push(s))}var a=r.length-100;a<=0||r.sort(function(t,e){return t._lastEnsureEqual-e._lastEnsureEqual}).slice(0,a).forEach(function(t){return Lg(e,t)})}},Vg=new WeakSet,Bg=0,zg=function(){function t(t,e,n){this.id=++Bg,this._execOverDatabaseCount=0,this._creationTime=Vv(),this._lastEnsureEqual=0,this.other={},this.uncached=!1,this.refCount$=new pc.X(null),this._latestChangeEvent=-1,this._resultsData=null,this._resultsDataMap=new Map,this._lastExecStart=0,this._lastExecEnd=0,this._resultsDocs$=new pc.X(null),this._ensureEqualQueue=Promise.resolve(!1),this.op=t,this.mangoQuery=e,this.collection=n,e||(e=qg(this.collection))}var e=t.prototype;return e._setResultData=function(t){var e,n=this,r=(e=this.collection,t.map(function(t){return mg(e,t)})),o=this.collection.schema.primaryPath;return this._resultsDataMap=new Map,this._resultsData=r.map(function(t){var e=t._dataSync$.getValue();return n._resultsDataMap.set(e[o],e),e}),this._resultsDocs$.next(r),r},e._execOverDatabase=function(){var t,e=this;switch(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Vv(),this.op){case"find":t=this.collection._queryStorageInstance(this);break;case"findOne":t=this.collection._queryStorageInstance(this,1);break;default:throw vy("QU1",{collection:this.collection.name,op:this.op})}return t.then(function(t){return e._lastExecEnd=Vv(),t})},e.exec=function(t){var e=this;if(t&&"findOne"!==this.op)throw vy("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Wg(this).then(function(){return(0,fg.z)(e.$)}).then(function(n){if(!n&&t)throw vy("QU10",{collection:e.collection.name,query:e.mangoQuery,op:e.op});return n})},e.toString=function(){var t=Wv({op:this.op,query:this.mangoQuery,other:this.other},!0),e=JSON.stringify(t,Jv);return this.toString=function(){return e},e},e.toJSON=function(){var t={rxQuery:this,mangoQuery:Kv(this.mangoQuery)};by("prePrepareQuery",t);var e=this.collection.storageInstance.prepareQuery(t.mangoQuery);return this.toJSON=function(){return e},e},e.doesDocumentDataMatch=function(t){return!t._deleted&&this.queryMatcher(Uy(this.collection,t))},e.remove=function(){var t;return this.exec().then(function(e){return t=e,Array.isArray(e)?Promise.all(e.map(function(t){return t.remove()})):e.remove()}).then(function(){return t})},e.update=function(t){throw Lv("update")},e.where=function(t){throw Lv("query-builder")},e.sort=function(t){throw Lv("query-builder")},e.skip=function(t){throw Lv("query-builder")},e.limit=function(t){throw Lv("query-builder")},Sv(t,[{key:"$",get:function(){var t=this;if(!this._$){var e=this._resultsDocs$.pipe((0,jc.z)(function(e){return Wg(t).then(function(t){return!t&&e})}),(0,Oc.h)(function(t){return!!t}),(0,_c.U)(function(e){return"findOne"===t.op?0===e.length?null:e[0]:e}),(0,_c.U)(function(t){return Array.isArray(t)?t.slice():t})).asObservable(),n=this.collection.$.pipe((0,Dc.b)(function(){return Wg(t)}),(0,Oc.h)(function(){return!1}));this._$=(0,a.T)(e,n,this.refCount$.pipe((0,Oc.h)(function(){return!1})))}return this._$}},{key:"queryMatcher",get:function(){return ey(this,"queryMatcher",this.collection.storageInstance.getQueryMatcher(this.toJSON()))}},{key:"asRxQuery",get:function(){return this}}]),t}();function qg(t){var e;return{selector:(e={},e[t.schema.primaryPath]={},e)}}function Ug(t){return t.collection._queryCache.getByQuery(t)}function Hg(t,e,n){if(e&&"object"!=typeof e)throw yy("QU7",{queryObj:e});if(Array.isArray(e))throw yy("QU8",{queryObj:e});by("preCreateRxQuery",{op:t,queryObj:e,collection:n});var r,o=new zg(t,e,n);return by("createRxQuery",o=Ug(o)),Vg.has(r=n)||(Vg.add(r),Bv().then(function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"object"==typeof window&&window.requestIdleCallback?new Promise(function(e){return window.requestIdleCallback(e,{timeout:t})}):Promise.resolve()}()}).then(function(){r.destroyed||r.cacheReplacementPolicy(r,r._queryCache),Vg.delete(r)})),o}function Wg(t){return t._ensureEqualQueue=t._ensureEqualQueue.then(function(){return zv(0)}).then(function(){return function(t){if(t._lastEnsureEqual=Vv(),t.collection.database.destroyed)return!1;if(function(t){return t._latestChangeEvent>=t.collection._changeEventBuffer.counter}(t))return!1;var e=!1,n=!1;if(-1===t._latestChangeEvent&&(n=!0),!n){var r=t.collection._changeEventBuffer.getFrom(t._latestChangeEvent+1);if(null===r)n=!0;else{t._latestChangeEvent=t.collection._changeEventBuffer.counter,r=r.filter(function(e){return!e.startTime||e.startTime>t._lastExecStart});var o=t.collection._changeEventBuffer.reduceByLastOfDoc(r),i=function(t,e){if(!t.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=function(t){if(Ig.has(t))return Ig.get(t);var e=t.collection,n=t.toJSON(),r=e.schema.primaryPath,o=e.storageInstance.getSortComparator(n),i=e.storageInstance.getQueryMatcher(n),s={primaryKey:t.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:Pg(r,n),sortComparator:function(e,n){var r={docA:e,docB:n,rxQuery:t};return by("preSortComparator",r),o(r.docA,r.docB)},queryMatcher:function(e){var n={doc:e,rxQuery:t};return by("preQueryMatcher",n),i(n.doc)}};return Ig.set(t,s),s}(t),r=t._resultsData.slice(),o=t._resultsDataMap,i=!1;return e.find(function(t){var e,s=function(t){switch(t.operation){case"INSERT":return{operation:t.operation,id:t.documentId,doc:t.documentData,previous:null};case"UPDATE":return{operation:t.operation,id:t.documentId,doc:hy.deepFreezeWhenDevMode(t.documentData),previous:t.previousDocumentData?t.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:t.operation,id:t.documentId,doc:null,previous:t.previousDocumentData}}}(t),a=(e=function(t,e,n){for(var r=t,o=t.l;;){if("number"==typeof(r=r[e[o](n)?"1":"0"])||"string"==typeof r)return r;o=r.l}}(Dg,jg,{queryParams:n,changeEvent:s,previousResults:r,keyDocumentMap:o}),xg[e]);return"runFullQueryAgain"===a||("doNothing"!==a?(i=!0,function(t,e,n,r,o){(0,kg[t])({queryParams:e,changeEvent:n,previousResults:r,keyDocumentMap:o})}(a,n,s,r,o),!1):void 0)})?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:i,newResults:r}}(t,o);i.runFullQueryAgain?n=!0:i.changed&&(e=!0,t._setResultData(i.newResults))}}if(n){var s=t.collection._changeEventBuffer.counter;return t._execOverDatabase().then(function(n){return t._latestChangeEvent=s,Ov()(n,t._resultsData)||(e=!0,t._setResultData(n)),e})}return e}(t)}).then(function(t){return zv(0).then(function(){return t})}),t._ensureEqualQueue}var Jg=n(4978),Qg=function(){function t(){this._map=new Map,this._map=new Map}var e=t.prototype;return e.get=function(t){return this._map.get(t)},e.set=function(t,e){return this._map.set(t,e)},e.delete=function(t){return this._map.delete(t)},t}();function Kg(){return new Qg}var Gg=function(){function t(t){var e=this;this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=t,this.subs.push(this.collection.$.pipe((0,Oc.h)(function(t){return!t.isLocal})).subscribe(function(t){return e._handleChangeEvent(t)}))}var e=t.prototype;return e._handleChangeEvent=function(t){for(this.counter++,this.buffer.push(t),this.eventCounterMap.set(t,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},e.getArrayIndexByPointer=function(t){var e=this.eventCounterMap.get(this.buffer[0]);return t<e?null:t-e},e.getFrom=function(t){var e=[],n=this.getArrayIndexByPointer(t);if(null===n)return null;for(;;){var r=this.buffer[n];if(n++,!r)return e;e.push(r)}},e.runFrom=function(t,e){var n=this.getFrom(t);if(null===n)throw new Error("out of bounds");n.forEach(function(t){return e(t)})},e.reduceByLastOfDoc=function(t){return t.slice(0)},e.hasChangeWithRevision=function(t){for(var e=this.buffer.length;e>0;){e--;var n=this.buffer[e];if(n.documentData&&n.documentData._rev===t)return!0}return!1},e.destroy=function(){this.subs.forEach(function(t){return t.unsubscribe()})},t}();function Zg(t){return new Gg(t)}var Xg="^[a-z][_$a-z0-9]*$",Yg=new RegExp(Xg);function tb(t){if("string"!=typeof t||0===t.length)throw yy("UT1",{name:t});if(ny(t))return!0;if(!t.match(Yg))throw vy("UT2",{regex:Xg,givenName:t});return!0}var eb=["pre","post"],nb=["insert","save","remove","create"],rb=!1,ob=function(){function t(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Fg,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};this._isInMemory=!1,this.destroyed=!1,this._atomicUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._repStates=new Set,this.storageInstance={},this.localDocumentsStore={},this._docCache=Kg(),this._queryCache=Ng(),this._crypter={},this._observable$={},this._changeEventBuffer={},this.database=t,this.name=e,this.schema=n,this.instanceCreationOptions=r,this.migrationStrategies=o,this.methods=i,this.attachments=s,this.options=a,this.cacheReplacementPolicy=u,this.statics=c,ib(this.asRxCollection)}var e=t.prototype;return e.prepare=function(){var t=xy(Sy().mark(function t(e){var n,r,o,i,s,a,u=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return by("preCreateRxStorageInstance",n={databaseName:this.database.name,collectionName:this.name,schema:this.schema.jsonSchema,options:this.instanceCreationOptions}),t.next=4,Qy(this.name,this.database,n,this.instanceCreationOptions);case 4:i=(r=t.sent).localDocumentsStore,this.storageInstance=o=r.storageInstance,this.localDocumentsStore=i,this._crypter=lg(this.database.password,this.schema),this._observable$=this.database.$.pipe((0,Oc.h)(function(t){return t.collectionName===u.name})),this._changeEventBuffer=Zg(this.asRxCollection),s=o.changeStream().pipe((0,_c.U)(function(t){return By(!1,t,u.database,u)})).subscribe(function(t){u.$emit(t)}),this._subs.push(s),a=this.localDocumentsStore.changeStream().pipe((0,_c.U)(function(t){return By(!0,t,u.database,u)})).subscribe(function(t){return u.$emit(t)}),this._subs.push(a),this._subs.push(this._observable$.pipe((0,Oc.h)(function(t){return!t.isLocal})).subscribe(function(t){var e=u._docCache.get(t.documentId);e&&e._handleChangeEvent(t)}));case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.migrationNeeded=function(){if(0===this.schema.version)return Promise.resolve(!1);throw Lv("migration")},e.getDataMigrator=function(){throw Lv("migration")},e.migrate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migrate(t)},e.migratePromise=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migratePromise(t)},e._queryStorageInstance=function(){var t=xy(Sy().mark(function t(e,n){var r,o,i,s=this,a=arguments;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],o=e.toJSON(),n&&(o.limit=n),t.next=5,this.database.lockedRun(function(){return s.storageInstance.query(o)});case 5:return i=t.sent.documents.map(function(t){return Hy(s,t,r)}),t.abrupt("return",i);case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),e.$emit=function(t){return this.database.$emit(t)},e.insert=function(){var t=xy(Sy().mark(function t(e){var n,r,o,i;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,void 0===(s=e)||!s.isInstanceOfRxDocument){t.next=6;break}if((n=e)._isTemporary){t.next=5;break}throw vy("COL1",{data:e});case 5:e=n.toJSON();case 6:return r=Wy(this,e),o=n,t.next=10,this._runHooks("pre","insert",r);case 10:return this.schema.validate(r),t.next=13,zy(this,{document:r});case 13:return i=t.sent,n?n._dataSync$.next(i):o=mg(this,i),t.next=17,this._runHooks("post","insert",r,o);case 17:return t.abrupt("return",o);case 18:case"end":return t.stop()}var s},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.bulkInsert=function(){var t=xy(Sy().mark(function t(e){var n,r,o,i,s,a,u,c=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return",{success:[],error:[]});case 2:return n=e.map(function(t){return Wy(c,t)}),t.next=5,Promise.all(n.map(function(t){return c._runHooks("pre","insert",t).then(function(){return c.schema.validate(t),t})}));case 5:return o=(r=t.sent).map(function(t){return{document:Uy(c,t)}}),i=new Map,r.forEach(function(t){i.set(t[c.schema.primaryPath],t)}),t.next=11,this.database.lockedRun(function(){return c.storageInstance.bulkWrite(o)});case 11:return s=t.sent,a=Array.from(s.success.entries()),u=a.map(function(t){var e=t[1],n=ry(i,t[0]);return n._rev=e._rev,mg(c,n)}),t.next=16,Promise.all(u.map(function(t){return c._runHooks("post","insert",i.get(t.primary),t)}));case 16:return t.abrupt("return",{success:u,error:Array.from(s.error.values())});case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.bulkRemove=function(){var t=xy(Sy().mark(function t(e){var n,r,o,i,s,a,u,c=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return",{success:[],error:[]});case 2:return t.next=4,this.findByIds(e);case 4:return n=t.sent,r=[],o=new Map,Array.from(n.values()).forEach(function(t){var e=Kv(t.toJSON(!0));r.push(e),o.set(t.primary,e)}),t.next=10,Promise.all(r.map(function(t){return c._runHooks("pre","remove",t,n.get(t[c.schema.primaryPath]))}));case 10:return i=r.map(function(t){var e=Gv(t);return e._deleted=!0,{previous:Uy(c,t),document:Uy(c,e)}}),t.next=13,this.database.lockedRun(function(){return c.storageInstance.bulkWrite(i)});case 13:return s=t.sent,a=Array.from(s.success.keys()),t.next=17,Promise.all(a.map(function(t){return c._runHooks("post","remove",o.get(t),n.get(t))}));case 17:return u=a.map(function(t){return n.get(t)}),t.abrupt("return",{success:u,error:Array.from(s.error.values())});case 19:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.upsert=function(t){var e=this,n=Wy(this,t),r=n[this.schema.primaryPath];if(!r)throw vy("COL3",{primaryPath:this.schema.primaryPath,data:n,schema:this.schema.jsonSchema});return this.findOne(r).exec().then(function(r){return r?(n._rev=r._rev,r.atomicUpdate(function(){return n}).then(function(){return r})):e.insert(t)})},e.atomicUpsert=function(t){var e,n=this,r=Wy(this,t),o=r[this.schema.primaryPath];if(!o)throw vy("COL4",{data:t});return e=(e=this._atomicUpsertQueues.has(o)?this._atomicUpsertQueues.get(o):Promise.resolve()).then(function(){return function(t,e,n){var r=t._docCache.get(e);return r?Promise.resolve({doc:r,inserted:!1}):t.findOne(e).exec().then(function(e){return e?{doc:e,inserted:!1}:t.insert(n).then(function(t){return{doc:t,inserted:!0}})})}(n,o,r)}).then(function(t){return t.inserted?t.doc:function(t,e){return t.atomicUpdate(function(t){return e._rev=t._rev,t._data=e,t._data}).then(function(){return t})}(t.doc,r).then(function(){return Bv()}).then(function(){return Bv()}).then(function(){return Bv()}).then(function(){return t.doc})}),this._atomicUpsertQueues.set(o,e),e},e.find=function(t){if("string"==typeof t)throw vy("COL5",{queryObj:t});return t||(t=qg(this)),Hg("find",t,this)},e.findOne=function(t){var e;if("string"==typeof t){var n;e=Hg("findOne",{selector:(n={},n[this.schema.primaryPath]=t,n)},this)}else{if(t||(t=qg(this)),t.limit)throw vy("QU6");e=Hg("findOne",t,this)}if("number"==typeof t||Array.isArray(t))throw yy("COL6",{queryObj:t});return e},e.findByIds=function(){var t=xy(Sy().mark(function t(e){var n,r,o=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new Map,r=[],e.forEach(function(t){var e=o._docCache.get(t);e?n.set(t,e):r.push(t)}),!(r.length>0)){t.next=8;break}return t.next=6,this.storageInstance.findDocumentsById(r,!1);case 6:Array.from(t.sent.values()).forEach(function(t){t=Hy(o,t);var e=mg(o,t);n.set(e.primary,e)});case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.findByIds$=function(t){var e=this,n=null,r=-1,o=this.findByIds(t).then(function(t){r=e._changeEventBuffer.counter,n=t});return this.$.pipe((0,Sc.O)(null),(0,jc.z)(function(t){return o.then(function(){return t})}),(0,jc.z)(function(){var o=xy(Sy().mark(function o(i){var s,a;return Sy().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(s=Hv(n),null!==(a=e._changeEventBuffer.getFrom(r+1))){o.next=10;break}return o.next=5,e.findByIds(t);case 5:r=e._changeEventBuffer.counter,Array.from(o.sent.entries()).forEach(function(t){return s.set(t[0],t[1])}),o.next=11;break;case 10:a.filter(function(e){return t.includes(e.documentId)}).forEach(function(t){var n=t.operation;"INSERT"===n||"UPDATE"===n?s.set(t.documentId,e._docCache.get(t.documentId)):s.delete(t.documentId)});case 11:return o.abrupt("return",s);case 12:case"end":return o.stop()}},o)}));return function(t){return o.apply(this,arguments)}}()),(0,Oc.h)(function(t){return!!t}),(0,Jg.d)({bufferSize:1,refCount:!0}))},e.exportJSON=function(){throw Lv("json-dump")},e.importJSON=function(t){throw Lv("json-dump")},e.syncCouchDB=function(t){throw Lv("replication")},e.syncGraphQL=function(t){throw Lv("replication-graphql")},e.inMemory=function(){throw Lv("in-memory")},e.addHook=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof n)throw yy("COL7",{key:e,when:t});if(!eb.includes(t))throw yy("COL8",{key:e,when:t});if(!nb.includes(e))throw vy("COL9",{key:e});if("post"===t&&"create"===e&&!0===r)throw vy("COL10",{when:t,key:e,parallel:r});var o=n.bind(this),i=r?"parallel":"series";this.hooks[e]=this.hooks[e]||{},this.hooks[e][t]=this.hooks[e][t]||{series:[],parallel:[]},this.hooks[e][t][i].push(o)},e.getHooks=function(t,e){try{return this.hooks[e][t]}catch(n){return{series:[],parallel:[]}}},e._runHooks=function(t,e,n,r){var o,i=this.getHooks(t,e);return i?(o=i.series.map(function(t){return function(){return t(n,r)}}),o.reduce(function(t,e){return t.then(e)},Promise.resolve(void 0))).then(function(){return Promise.all(i.parallel.map(function(t){return t(n,r)}))}):Promise.resolve()},e._runHooksSync=function(t,e,n,r){var o=this.getHooks(t,e);o&&o.series.forEach(function(t){return t(n,r)})},e.newDocument=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=this.schema.fillObjectWithDefaults(t);var e=ng(pg(this),this,t);return e._isTemporary=!0,this._runHooksSync("post","create",t,e),e},e.destroy=function(){var t=this;return this.destroyed?Promise.resolve(!1):(this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(t){return t.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),Array.from(this._repStates).forEach(function(t){return t.cancel()}),this.storageInstance.close().then(function(){return delete t.database.collections[t.name],t.destroyed=!0,wy("postDestroyRxCollection",t).then(function(){return!0})}))},e.remove=function(){return this.database.removeCollection(this.name)},Sv(t,[{key:"$",get:function(){return this._observable$}},{key:"insert$",get:function(){return this.$.pipe((0,Oc.h)(function(t){return"INSERT"===t.operation}))}},{key:"update$",get:function(){return this.$.pipe((0,Oc.h)(function(t){return"UPDATE"===t.operation}))}},{key:"remove$",get:function(){return this.$.pipe((0,Oc.h)(function(t){return"DELETE"===t.operation}))}},{key:"onDestroy",get:function(){var t=this;return this._onDestroy||(this._onDestroy=new Promise(function(e){return t._onDestroyCall=e})),this._onDestroy}},{key:"asRxCollection",get:function(){return this}}]),t}();function ib(t){if(!rb){rb=!0;var e=Object.getPrototypeOf(t);nb.forEach(function(t){eb.map(function(n){var r=n+qv(t);e[r]=function(e,r){return this.addHook(n,t,e,r)}})})}}function sb(t,e){var n=t.database,r=t.name,o=t.schema,i=t.instanceCreationOptions,s=void 0===i?{}:i,a=t.migrationStrategies,u=void 0===a?{}:a,c=t.autoMigrate,l=void 0===c||c,f=t.statics,h=void 0===f?{}:f,d=t.methods,p=void 0===d?{}:d,m=t.attachments,v=void 0===m?{}:m,y=t.options,g=void 0===y?{}:y,b=t.cacheReplacementPolicy,w=void 0===b?Fg:b;tb(r),o instanceof rg||(o=ug(o)),Object.keys(p).filter(function(t){return o.topLevelFields.includes(t)}).forEach(function(t){throw vy("COL18",{funName:t})});var _=new ob(n,r,o,s,u,p,v,g,w,h);return _.prepare(e).then(function(){Object.entries(h).forEach(function(t){var e=t[1];Object.defineProperty(_,t[0],{get:function(){return e.bind(_)}})});var t=Promise.resolve();return l&&0!==_.schema.version&&(t=_.migratePromise()),t}).then(function(){return by("createRxCollection",_),_})}function ab(t){return t instanceof ob}var ub=n(4693),cb=n.n(ub),lb=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function fb(t,e){if(e){if(e._timeoutObj&&clearTimeout(e._timeoutObj),t._pHM.has(e)){var n=t._pHM.get(e);t._hPM.delete(n),t._pHM.delete(e)}t._iC.delete(e)}}function hb(t){t._tryIR||0===t._iC.size||(t._tryIR=!0,setTimeout(function(){t.isIdle()?setTimeout(function(){t.isIdle()?(function(t){0!==t._iC.size&&(t._iC.values().next().value._manRes(),setTimeout(function(){return hb(t)},0))}(t),t._tryIR=!1):t._tryIR=!1},0):t._tryIR=!1},0))}function db(t){return t||(t=0),new Promise(function(e){return setTimeout(e,t)})}function pb(){return Math.random().toString(36).substring(2)}lb.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,hb(this)},wrapCall:function(t){var e,n=this;this.lock();try{e=t()}catch(r){throw this.unlock(),r}return e.then&&"function"==typeof e.then?e.then(function(t){return n.unlock(),t}).catch(function(t){throw n.unlock(),t}):(this.unlock(),e)},requestIdlePromise:function(t){var e,n=this;t=t||{};var r=new Promise(function(t){return e=t});if(r._manRes=function(){fb(n,r),e()},t.timeout){var o=setTimeout(function(){r._manRes()},t.timeout);r._timeoutObj=o}return this._iC.add(r),hb(this),r},cancelIdlePromise:function(t){fb(this,t)},requestIdleCallback:function(t,e){var n=this._lHN++,r=this.requestIdlePromise(e);return this._hPM.set(n,r),this._pHM.set(r,n),r.then(function(){return t()}),n},cancelIdleCallback:function(t){var e=this._hPM.get(t);this.cancelIdlePromise(e)},clear:function(){var t=this;this._iC.forEach(function(e){return fb(t,e)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var mb=0,vb=0;function yb(){var t=(new Date).getTime();return t===mb?1e3*t+ ++vb:(mb=t,vb=0,1e3*t)}var gb="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const bb={create:function(t){var e={messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(t){e.messagesCallback&&e.messagesCallback(t.data)},e},close:function(t){t.bc.close(),t.subFns=[]},onMessage:function(t,e){t.messagesCallback=e},postMessage:function(t,e){try{return t.bc.postMessage(e,!1),Promise.resolve()}catch(n){return Promise.reject(n)}},canBeUsed:function(){if(gb&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:yb};var wb=function(){function t(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return t.prototype.has=function(t){return this.set.has(t)},t.prototype.add=function(t){var e=this;this.timeMap.set(t,_b()),this.set.add(t),setTimeout(function(){!function(t){for(var e=_b()-t.ttl,n=t.set[Symbol.iterator]();;){var r=n.next().value;if(!r)return;if(!(t.timeMap.get(r)<e))return;t.timeMap.delete(r),t.set.delete(r)}}(e)},0)},t.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},t}();function _b(){return(new Date).getTime()}function xb(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return void 0===e.webWorkerSupport&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=45e3),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&"function"==typeof t.idb.onclose&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=6e4),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=12e4),void 0===e.node.useFastPath&&(e.node.useFastPath=!0),e}var kb="messages";function Sb(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function Cb(t){t.closed||Ob(t).then(function(){return db(t.options.idb.fallbackInterval)}).then(function(){return Cb(t)})}function Ob(t){return t.closed?Promise.resolve():t.messagesCallback?(e=t.db,n=t.lastCursorId,r=e.transaction(kb).objectStore(kb),o=[],new Promise(function(t){(function(){try{var t=IDBKeyRange.bound(n+1,1/0);return r.openCursor(t)}catch(e){return r.openCursor()}}()).onsuccess=function(e){var r=e.target.result;r?r.value.id<n+1?r.continue(n+1):(o.push(r.value),r.continue()):t(o)}})).then(function(e){return e.filter(function(t){return!!t}).map(function(e){return e.id>t.lastCursorId&&(t.lastCursorId=e.id),e}).filter(function(e){return function(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}(e,t)}).sort(function(t,e){return t.time-e.time}).forEach(function(e){t.messagesCallback&&(t.eMIs.add(e.id),t.messagesCallback(e.data))}),Promise.resolve()}):Promise.resolve();var e,n,r,o}const Eb={create:function(t,e){return e=xb(e),function(t){var e=Sb().open("pubkey.broadcast-channel-0-"+t,1);return e.onupgradeneeded=function(t){t.target.result.createObjectStore(kb,{keyPath:"id",autoIncrement:!0})},new Promise(function(t,n){e.onerror=function(t){return n(t)},e.onsuccess=function(){t(e.result)}})}(t).then(function(n){var r={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:pb(),eMIs:new wb(2*e.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,e.idb.onclose&&e.idb.onclose()},Cb(r),r})},close:function(t){t.closed=!0,t.db.close()},onMessage:function(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,Ob(t)},postMessage:function(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return function(t,e,n){var r={uuid:e,time:(new Date).getTime(),data:n},o=t.transaction([kb],"readwrite");return new Promise(function(t,e){o.oncomplete=function(){return t()},o.onerror=function(t){return e(t)},o.objectStore(kb).add(r)})}(t.db,t.uuid,e)}).then(function(){var e;0===Math.floor(11*Math.random()+0)&&function(t,e){var n=(new Date).getTime()-e,r=t.transaction(kb).objectStore(kb),o=[];return new Promise(function(t){r.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value;if(!(i.time<n))return void t(o);o.push(i),r.continue()}else t(o)}})}(e=t.db,t.options.idb.ttl).then(function(t){return Promise.all(t.map(function(t){return function(t,e){var n=t.transaction([kb],"readwrite").objectStore(kb).delete(e);return new Promise(function(t){n.onsuccess=function(){return t()}})}(e,t.id)}))})}),t.writeBlockPromise},canBeUsed:function(){return!gb&&!!Sb()},type:"idb",averageResponseTime:function(t){return 2*t.idb.fallbackInterval},microSeconds:yb};function Ab(){var t;if("undefined"==typeof window)return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return t}function Mb(t){return"pubkey.broadcastChannel-"+t}function Tb(){if(gb)return!1;var t=Ab();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch(n){return!1}return!0}const jb={create:function(t,e){if(e=xb(e),!Tb())throw new Error("BroadcastChannel: localstorage cannot be used");var n=pb(),r=new wb(e.localstorage.removeTimeout),o={channelName:t,uuid:n,eMIs:r};return o.listener=function(t,e){var i=Mb(t),s=function(t){var e;t.key===i&&(e=JSON.parse(t.newValue),o.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<o.messagesCallbackTime||(r.add(e.token),o.messagesCallback(e.data))))};return window.addEventListener("storage",s),s}(t),o},close:function(t){window.removeEventListener("storage",t.listener)},onMessage:function(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e},postMessage:function(t,e){return new Promise(function(n){db().then(function(){var r=Mb(t.channelName),o={token:pb(),time:(new Date).getTime(),data:e,uuid:t.uuid},i=JSON.stringify(o);Ab().setItem(r,i);var s=document.createEvent("Event");s.initEvent("storage",!0,!0),s.key=r,s.newValue=i,window.dispatchEvent(s),n()})})},canBeUsed:Tb,type:"localstorage",averageResponseTime:function(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:yb};var Db=yb,Pb=new Set;const Ib={create:function(t){var e={name:t,messagesCallback:null};return Pb.add(e),e},close:function(t){Pb.delete(t)},onMessage:function(t,e){t.messagesCallback=e},postMessage:function(t,e){return new Promise(function(n){return setTimeout(function(){Array.from(Pb).filter(function(e){return e.name===t.name}).filter(function(e){return e!==t}).filter(function(t){return!!t.messagesCallback}).forEach(function(t){return t.messagesCallback(e)}),n()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Db};var Rb=[bb,Eb,jb];if(gb){var Nb=n(8211);"function"==typeof Nb.canBeUsed&&Rb.push(Nb)}var Lb=function(t,e){var n,r,o;this.name=t,this.options=xb(e),this.method=function(t){var e=[].concat(t.methods,Rb).filter(Boolean);if(t.type){if("simulate"===t.type)return Ib;var n=e.find(function(e){return e.type===t.type});if(n)return n;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||gb||(e=e.filter(function(t){return"idb"!==t.type}));var r=e.find(function(t){return t.canBeUsed()});if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(Rb.map(function(t){return t.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,(o=r=(n=this).method.create(n.name,n.options))&&"function"==typeof o.then?(n._prepP=r,r.then(function(t){n._state=t})):n._state=r};function $b(t,e,n){var r={time:t.method.microSeconds(),type:e,data:n};return(t._prepP?t._prepP:Promise.resolve()).then(function(){var e=t.method.postMessage(t._state,r);return t._uMP.add(e),e.catch().then(function(){return t._uMP.delete(e)}),e})}function Fb(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function Vb(t,e,n){t._addEL[e].push(n),function(t){if(!t._iL&&Fb(t)){var e=function(e){t._addEL[e.type].forEach(function(t){e.time>=t.time&&t.fn(e.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,n)}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}(t)}function Bb(t,e,n){t._addEL[e]=t._addEL[e].filter(function(t){return t!==n}),function(t){if(t._iL&&!Fb(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}(t)}Lb._pubkey=!0,Lb.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return $b(this,"message",t)},postInternal:function(t){return $b(this,"internal",t)},set onmessage(t){var e={time:this.method.microSeconds(),fn:t};Bb(this,"message",this._onML),t&&"function"==typeof t?(this._onML=e,Vb(this,"message",e)):this._onML=null},addEventListener:function(t,e){Vb(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){Bb(this,t,this._addEL[t].find(function(t){return t.fn===e}))},close:function(){var t=this;if(!this.closed){this.closed=!0;var e=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(t){return t()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var zb=new Set,qb=function(){function t(t,e,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};this.internalStore={},this.localDocumentsStore={},this.idleQueue=new lb,this.token=cb()(10),this._subs=[],this.destroyed=!1,this.subject=new o.x,this.observable$=this.subject.asObservable(),this.name=t,this.storage=e,this.instanceCreationOptions=n,this.password=r,this.multiInstance=i,this.eventReduce=s,this.options=a,this.collections={}}var e=t.prototype;return e.dangerousRemoveCollectionInfo=function(){var t=xy(Sy().mark(function t(){var e;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ay(this.internalStore);case 2:return e=t.sent.map(function(t){var e=Gv(t);return e._deleted=!0,{previous:t,document:e}}),t.next=6,this.internalStore.bulkWrite(e);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.$emit=function(t){this.subject.next(t),t.databaseToken===this.token&&function(t,e){return t.destroyed||!t.multiInstance||(n=e).collectionName&&"_"===n.collectionName.charAt(0)||!t.broadcastChannel?Promise.resolve(!1):t.broadcastChannel.postMessage({cE:e,storageToken:t.storageToken}).then(function(){return!0});var n}(this,t)},e.removeCollectionDoc=function(){var t=xy(Sy().mark(function t(e,n){var r,o,i,s=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Wb(e,n),t.next=3,Ty(this.internalStore,r);case 3:if(o=t.sent){t.next=6;break}throw vy("SNH",{name:e,schema:n});case 6:return(i=Gv(o))._deleted=!0,t.next=10,this.lockedRun(function(){return s.internalStore.bulkWrite([{document:i,previous:o}])});case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),e.addCollections=function(){var t=xy(Sy().mark(function t(e){var n,r,o,i,s=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.internalStore.findDocumentsById(Object.keys(e).map(function(t){return Wb(t,e[t].schema)}),!1);case 2:return n={},Array.from(t.sent.entries()).forEach(function(t){n[t[0]]=t[1]}),r={},t.next=8,Promise.all(Object.entries(e).map(function(t){var o=t[0],i=t[1],a=o,u=n[Wb(o,e[a].schema)],c=Gv(i);c.name=a;var l=ug(i.schema);if(r[a]=l.hash,c.schema=l,c.database=s,s.collections[o])throw vy("DB3",{name:o});if(u&&u.schemaHash!==r[a])throw vy("DB6",{name:o,previousSchemaHash:u.schemaHash,schemaHash:r[a]});var f=Gv(i);return f.database=s,f.name=o,by("preCreateRxCollection",f),sb(c,!!u)}));case 8:if(o=[],i={},t.sent.forEach(function(t){var a=t.name;if(i[a]=t,t.schema.crypt&&!s.password)throw vy("DB7",{name:a});n[a]||o.push({document:{collectionName:Wb(a,e[a].schema),schemaHash:r[a],schema:t.schema.normalized,version:t.schema.version,_attachments:{}}}),s.collections[a]=t,s[a]||Object.defineProperty(s,a,{get:function(){return s.collections[a]}})}),!(o.length>0)){t.next=15;break}return t.next=15,this.internalStore.bulkWrite(o);case 15:return t.abrupt("return",i);case 16:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.removeCollection=function(t){var e=this;return this.collections[t]&&this.collections[t].destroy(),function(t,e){return Jb.apply(this,arguments)}(this,t).then(function(n){return Promise.all(n.map(function(n){return Qy(t,e,{databaseName:e.name,collectionName:t,schema:Gy(n,"collectionName"),options:e.instanceCreationOptions},{})}))}).then(function(t){return Promise.all(t.map(function(t){return e.lockedRun(function(){return Promise.all([t.storageInstance.remove(),t.localDocumentsStore.remove()])})}))}).then(function(){})},e.lockedRun=function(t){return this.idleQueue.wrapCall(t)},e.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},e.exportJSON=function(){throw Lv("json-dump")},e.importJSON=function(t){throw Lv("json-dump")},e.server=function(t){throw Lv("server")},e.backup=function(t){throw Lv("backup")},e.leaderElector=function(){throw Lv("leader-election")},e.isLeader=function(){throw Lv("leader-election")},e.waitForLeadership=function(){throw Lv("leader-election")},e.migrationStates=function(){throw Lv("migration")},e.destroy=function(){var t=this;return this.destroyed?Promise.resolve(!1):(by("preDestroyRxDatabase",this),this.destroyed=!0,this._subs.map(function(t){return t.unsubscribe()}),this.requestIdlePromise().then(function(){return Promise.all(Object.keys(t.collections).map(function(e){return t.collections[e]}).map(function(t){return t.destroy()}))}).then(function(){return t.internalStore.close?t.internalStore.close():null}).then(function(){return t.broadcastChannel?t.broadcastChannel.close():Promise.resolve()}).then(function(){return zb.delete(t.name)}).then(function(){return!0}))},e.remove=function(){var t=this;return this.destroy().then(function(){return function(t,e){return Xb.apply(this,arguments)}(t.name,t.storage)})},Sv(t,[{key:"$",get:function(){return this.observable$}}]),t}();function Ub(t){return Hb.apply(this,arguments)}function Hb(){return(Hb=xy(Sy().mark(function t(e){var n,r,o;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="storageToken",t.next=3,Fy(e.localDocumentsStore,n);case 3:if(r=t.sent){t.next=11;break}return o=cb()(10),t.next=8,e.localDocumentsStore.bulkWrite([{document:{_id:n,value:o,_attachments:{}}}]);case 8:return t.abrupt("return",o);case 11:return t.abrupt("return",r.value);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Wb(t,e){return t+"-"+e.version}function Jb(){return(Jb=xy(Sy().mark(function t(e,n){var r;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.lockedRun(function(){return Ay(e.internalStore)});case 2:return r=t.sent.filter(function(t){return t.collectionName.split("-")[0]===n}),t.abrupt("return",Promise.all(r.map(function(t){var n=Gv(t);return n._deleted=!0,e.lockedRun(function(){return Ry(e.internalStore,{previous:t,document:n})})})).then(function(){return r.map(function(t){return t.version})}));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Qb(t){t.broadcastChannel=new Lb("RxDB:"+t.name+":socket"),t.broadcastChannel$=new o.x,t.broadcastChannel.onmessage=function(e){e.storageToken===t.storageToken&&e.cE.databaseToken!==t.token&&t.broadcastChannel$.next(e.cE)},t._subs.push(t.broadcastChannel$.subscribe(function(e){t.$emit(e)}))}function Kb(t,e,n){return Gb.apply(this,arguments)}function Gb(){return(Gb=xy(Sy().mark(function t(e,n,r){var o;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createStorageInstance({databaseName:n,collectionName:Ey,schema:Gy(0,"collectionName"),options:r});case 2:return o=t.sent,t.next=5,e.createKeyObjectStorageInstance(n,"",r);case 5:return t.abrupt("return",{internalStore:o,localDocumentsStore:t.sent});case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Zb(){return(Zb=xy(Sy().mark(function t(e){var n,r;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kb(e.storage,e.name,e.instanceCreationOptions);case 2:return e.internalStore=(n=t.sent).internalStore,e.localDocumentsStore=n.localDocumentsStore,r=e.localDocumentsStore.changeStream().subscribe(function(t){e.$emit(By(!0,t,e))}),e._subs.push(r),t.next=9,Ub(e);case 9:e.storageToken=t.sent,e.multiInstance&&Qb(e);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Xb(){return(Xb=xy(Sy().mark(function t(e,n){var r,o;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kb(n,e,{});case 2:return r=t.sent,t.next=5,Ay(r.internalStore);case 5:return o=t.sent,t.next=8,Promise.all(o.map(function(){var t=xy(Sy().mark(function t(r){var o,i,s,a,u,c,l,f;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.schema,i=r.collectionName.split("-"),s=i[0],a=parseInt(i[1],10),u=og(o.primaryKey),t.next=8,Promise.all([n.createStorageInstance({databaseName:e,collectionName:s,schema:Gy(a,u),options:{}}),n.createKeyObjectStorageInstance(e,Jy(s),{})]);case 8:return l=(c=t.sent)[0],f=c[1],t.next=13,Promise.all([l.remove(),f.remove()]);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 8:return t.abrupt("return",Promise.all([r.internalStore.remove(),r.localDocumentsStore.remove()]));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Yb={RxSchema:rg.prototype,Crypter:cg.prototype,RxDocument:Yy,RxQuery:zg.prototype,RxCollection:ob.prototype,RxDatabase:qb.prototype},tw=new Set;function ew(t){if(by("preAddRxPlugin",{plugin:t,plugins:tw}),!tw.has(t)){if(tw.add(t),!t.rxdb)throw yy("PL1",{plugin:t});t.prototypes&&Object.entries(t.prototypes).forEach(function(t){return(0,t[1])(Yb[t[0]])}),t.overwritable&&Object.assign(hy,t.overwritable),t.hooks&&Object.entries(t.hooks).forEach(function(t){return gy[t[0]].push(t[1])})}}var nw,rw,ow,iw={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",PL1:"Given plugin is not RxDB plugin. Pouchdb plugins must be added via addPouchPlugin()",PL2:"You tried importy a RxDB plugin to pouchdb. Use addRxPlugin() instead.",P1:"PouchDB.getBatch: limit must be > 2",P2:"bulkWrite() cannot be called with an empty array",P3:"bulkAddRevisions cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.addCollections(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]');",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",DB11:"RxDatabase.create(): Invalid db-name, folder-paths must not have an ending slash",COL1:"RxDocument.insert() You cannot insert an existing document",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL19:"Pouchdb document update conflict",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.syncCouchDB() query must be from the same RxCollection",RC3:"RxCollection.syncCouchDB() Do not use a collection's pouchdb as remote, use the collection instead",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication if multiInstance because the replication might run on another instance",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",DEV1:"dev-mode added multiple times, this is likely because you have mixed up the import from the the plugins/core and the full RxDB",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use addPouchPlugin(require('pouchdb-adapter-memory'));",IM2:"inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"cannot find sub schema by key",SNH:"This should never happen"},sw=new(tg(Yy));function aw(){if(!ow){var t=Object.getOwnPropertyNames(sw),e=Object.getOwnPropertyNames(Yy);ow=[].concat(t,e,["deleted","synced"])}return ow}function uw(t){for(var e=t.split("."),n="",r=0;r<e.length;r+=1)n=n.concat("[]"!==e[r]?".properties.".concat(e[r]):".items");return Uv(n)}function cw(t){t&&Object.entries(t).forEach(function(t){var e=t[0],n=t[1];if("string"!=typeof e)throw yy("COL14",{name:e});if(e.startsWith("_"))throw yy("COL15",{name:e});if("function"!=typeof n)throw yy("COL16",{name:e,type:typeof e});if(function(){if(!nw){var t=new ob,e=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(Object.getPrototypeOf(t));nw=[].concat(e,n)}return nw}().includes(e)||aw().includes(e))throw vy("COL17",{name:e})})}var lw=n(1559),fw=n.n(lw),hw="dev-mode",dw={name:hw,rxdb:!0,overwritable:{isDevMode:function(){return!0},deepFreezeWhenDevMode:function(t){return t?fw()(t):t},tunnelErrorMessage:function(t){if(!iw[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return iw[t]}},hooks:{preAddRxPlugin:function(t){if(t.plugin.name===hw)throw vy("DEV1",{plugins:t.plugins})},preCreateRxSchema:function(t){if(!t.primaryKey)throw vy("SC30",{schema:t});if(!t.hasOwnProperty("properties"))throw vy("SC29",{schema:t});if(t.properties._rev)throw vy("SC10",{schema:t});if(!t.hasOwnProperty("version")||"number"!=typeof t.version||t.version<0)throw vy("SC11",{version:t.version});if(function(t){(function t(e,n){"object"==typeof e&&Object.keys(e).forEach(function(r){e.properties||function(t,e,n){if("string"!=typeof t||"object"!=typeof e||Array.isArray(e)||function(t){if(""!==t&&"_deleted"!==t){if(["properties","language"].includes(t))throw vy("SC23",{fieldName:t});var e="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(e);if(!t.match(n))throw vy("SC1",{regex:e,fieldName:t})}}(t),e.hasOwnProperty("item")&&"array"!==e.type)throw vy("SC2",{fieldName:t});if(e.hasOwnProperty("required")&&"boolean"==typeof e.required)throw vy("SC24",{fieldName:t});if(e.hasOwnProperty("ref"))if(Array.isArray(e.type)){if(e.type.length>2||!e.type.includes("string")||!e.type.includes("null"))throw vy("SC4",{fieldName:t})}else switch(e.type){case"string":break;case"array":if(!e.items||!e.items.type||"string"!==e.items.type)throw vy("SC3",{fieldName:t});break;default:throw vy("SC4",{fieldName:t})}var r=n.split(".").length>=2;if(r){if(e.primary)throw vy("SC6",{path:n,primary:e.primary});if(e.default)throw vy("SC7",{path:n})}if(!r&&"_"===t.charAt(0)){if("_deleted"===t)return;throw vy("SC8",{fieldName:t})}}(r,e[r],n);var o=n;"properties"!==r&&(o=o+"."+r),t(e[r],o)})})(t,"")}(t),function(t){if(!t.primaryKey)throw vy("SC30",t);function e(e){if(!e)throw vy("SC33",{schema:t});var n=e.type;if(!n||!["string","number","integer"].includes(n))throw vy("SC32",{schema:t,args:{schemaPart:e}})}if("string"==typeof t.primaryKey)e(t.properties[t.primaryKey]);else{var n=t.primaryKey;e(Zy(t,n.key)),n.fields.forEach(function(n){e(Zy(t,n))})}}(t),Object.keys(t.properties).forEach(function(e){var n=t.properties[e];if(e===t.primaryKey){if(t.indexes&&t.indexes.includes(e))throw vy("SC13",{value:n,schema:t});if(n.unique)throw vy("SC14",{value:n,schema:t});if(t.encrypted&&t.encrypted.includes(e))throw vy("SC15",{value:n,schema:t});if("string"!==n.type)throw vy("SC16",{value:n,schema:t})}if(aw().includes(e))throw vy("SC17",{key:e,schema:t})}),t.indexes){if(!Array.isArray(t.indexes))throw vy("SC18",{indexes:t.indexes,schema:t});t.indexes.forEach(function(e){if("string"!=typeof e&&!Array.isArray(e))throw vy("SC19",{index:e,schema:t});if(Array.isArray(e))for(var n=0;n<e.length;n+=1)if("string"!=typeof e[n])throw vy("SC20",{index:e,schema:t})})}if(Object.keys(t).includes("compoundIndexes"))throw vy("SC25",{schema:t});Object.keys(Xv(t)).map(function(t){var e=t.split(".");return e.pop(),e.join(".")}).filter(function(t){return""!==t}).filter(function(t,e,n){return n.indexOf(t)===e}).filter(function(e){return!!Av().get(t,e).index}).forEach(function(e){throw vy("SC26",{index:Uv(e=(e=e.replace("properties.","")).replace(/\.properties\./g,".")),schema:t})}),(t.indexes||[]).reduce(function(t,e){return Array.isArray(e)?t.concat(e):t.push(e),t},[]).filter(function(t,e,n){return n.indexOf(t)===e}).map(function(e){var n=uw(e),r=Av().get(t,n);if(!r||"object"!=typeof r)throw vy("SC21",{index:e,schema:t});return{indexPath:e,schemaObj:r}}).filter(function(t){return"string"!==t.schemaObj.type&&"integer"!==t.schemaObj.type&&"number"!==t.schemaObj.type}).forEach(function(e){throw vy("SC22",{key:e.indexPath,type:e.schemaObj.type,schema:t})}),Object.keys(Xv(t)).map(function(t){var e=t.split(".");return e.pop(),e.join(".")}).filter(function(t){return""!==t&&"attachments"!==t}).filter(function(t,e,n){return n.indexOf(t)===e}).filter(function(e){return!!Av().get(t,e).encrypted}).forEach(function(e){throw vy("SC27",{index:Uv(e=(e=e.replace("properties.","")).replace(/\.properties\./g,".")),schema:t})}),t.encrypted&&t.encrypted.forEach(function(e){var n=uw(e),r=Av().get(t,n);if(!r||"object"!=typeof r)throw vy("SC28",{field:e,schema:t})})},preCreateRxDatabase:function(t){!function(t){if(tb(t.name),ny(t.name)&&(t.name.endsWith("/")||t.name.endsWith("\\")))throw vy("DB11",{name:t.name})}(t)},preCreateRxCollection:function(t){if(function(t){if(function(){if(!rw){var t=new qb("pseudoInstance","memory"),e=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(Object.getPrototypeOf(t));rw=[].concat(e,n),t.destroy()}return rw}().includes(t.name))throw vy("DB5",{name:t.name})}(t),"_"===t.name.charAt(0))throw vy("DB2",{name:t.name});if(!t.schema)throw vy("DB4",{name:t.name,args:t})},preCreateRxQuery:function(t){!function(t){if("[object Object]"!==Object.prototype.toString.call(t.queryObj))throw yy("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj});var e=["selector","limit","skip","sort"];Object.keys(t.queryObj).forEach(function(n){if(!e.includes(n))throw yy("QU11",{op:t.op,collection:t.collection.name,queryObj:t.queryObj,key:n})})}(t)},createRxCollection:function(t){cw(t.statics),cw(t.methods),cw(t.attachments),t.schema&&t.migrationStrategies&&function(t,e){if("object"!=typeof e||Array.isArray(e))throw yy("COL11",{schema:t});var n=sg(t);if(n.length!==Object.keys(e).length)throw vy("COL12",{have:Object.keys(e),should:n});n.map(function(t){return{v:t,s:e[t+1]}}).filter(function(t){return"function"!=typeof t.s}).forEach(function(e){throw yy("COL13",{version:e.v,type:typeof e,schema:t})})}(t.schema,t.migrationStrategies)}}},pw=n(6091),mw=n.n(pw),vw=new Map;function yw(t){var e=t.hash;if(!vw.has(e)){var n=mw()(t.jsonSchema);vw.set(e,n)}return vw.get(e)}var gw=function(t){var e=yw(this);if(e(t))return t;throw vy("VD2",{errors:e.errors,obj:t,schema:this.jsonSchema})},bw={name:"validate",rxdb:!0,prototypes:{RxSchema:function(t){t._getValidator=yw,t.validate=gw}},hooks:{createRxSchema:function(t){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(function(){yw(t)})}}},ww="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",_w=ww.length,xw=function(t,e){return t<e?-1:e>t?1:0};function kw(t){return Object.assign({},t)}function Sw(t,e,n){void 0===e&&(e="|"),void 0===n&&(n=[]);var r=function(t,e){var n=Cw(t),r=Array.from(n).sort(xw),o=new Map,i=0;return r.filter(function(t){return t.length>3&&!e.includes(t)}).forEach(function(t){var e=function(t){var e=[];do{e.push(t%_w),t=Math.floor(t/_w)}while(t-- >0);return e.reverse().map(function(t){return ww[t]}).join("")}(i);i++,o.set(t,e)}),o}(t,n);return{compressedToUncompressed:r,uncompressedToCompressed:Ow(r,e,n),compressionFlag:e}}function Cw(t){var e=new Set;function n(t){var n=Cw(t);Array.from(n).forEach(function(t){return e.add(t)})}return t.properties&&Object.entries(t.properties).forEach(function(r){var o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(r,2),i=o[1];e.add(o[0]),t.properties&&n(i)}),t.items&&(Array.isArray(t.items)?t.items.forEach(function(t){n(t)}):n(t.items)),e}function Ow(t,e,n){var r=new Map;return Array.from(t.keys()).forEach(function(o){var i=t.get(o);n.includes(i)||r.set(e+i,o)}),r}function Ew(t,e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(function(e){return Ew(t,e)});var n={};return Object.keys(e).forEach(function(r){var o=Mw(t,r),i=Ew(t,e[r]);n[o]=i}),n}function Aw(t,e){return e.split(".").map(function(e){return Mw(t,e)}).join(".")}function Mw(t,e){!function(t,e){if(e.startsWith(t.compressionFlag))throw new Error("cannot compress objects that start with the compression-flag: "+t.compressionFlag+" on key "+e)}(t,e);var n=e.split("[");e=n.shift();var r=t.compressedToUncompressed.get(e);if(r){var o=n.length?"["+n.join("["):"";return t.compressionFlag+r+o}return e}function Tw(t,e){if(Array.isArray(e))return e.map(function(e){return Tw(t,e)});if(e instanceof RegExp)return e;if("object"==typeof e&&null!==e){var n={};return Object.keys(e).forEach(function(r){var o;o=r.startsWith("$")?r:Aw(t,r),n[o]=Tw(t,e[r])}),n}return e}function jw(t,e){if("array"===e.type&&e.items){var n=kw(e);if(Array.isArray(e.items)){var r=e.items.map(function(e){return jw(t,e)});n.items=r}else r=jw(t,e.items),n.items=r;return n}if("object"===e.type&&e.properties){n=kw(e);var o={};return Object.entries(e.properties).forEach(function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e,2),r=n[1],i=Aw(t,n[0]);o[i]=jw(t,r)}),n.properties=o,n.required&&(n.required=n.required.map(function(e){return Aw(t,e)})),n}return e}function Dw(t,e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(function(e){return Dw(t,e)});var n={};return Object.keys(e).forEach(function(r){var o=function(t,e){var n=e.split("[");e=n.shift();var r=t.uncompressedToCompressed.get(e);return r?r+(n.length?"["+n.join("["):""):e}(t,r),i=Dw(t,e[r]);n[o]=i}),n}var Pw=new WeakMap;function Iw(t){var e=Gv(t);delete e.primaryKey;var n=Sw(e,"|",[og(t.primaryKey),"_rev","_attachments","_deleted"]);delete e.primaryKey;var r=jw(n,e);if("string"!=typeof t.primaryKey){var o=t.primaryKey,i={key:Aw(n,o.key),fields:o.fields.map(function(t){return Aw(n,t)}),separator:o.separator};r.primaryKey=i}else r.primaryKey=Aw(n,t.primaryKey);if(t.indexes){var s=t.indexes.map(function(t){return Array.isArray(t)?t.map(function(t){return Aw(n,t)}):Aw(n,t)});r.indexes=s}return{table:n,schema:r}}function Rw(t){var e=Pw.get(t);return e||(e=Iw(t.schema.jsonSchema),Pw.set(t,e)),e}var Nw={name:"key-compression",rxdb:!0,prototypes:{},overwritable:{},hooks:{prePrepareQuery:function(t){var e=t.rxQuery,n=t.mangoQuery;if(e.collection.schema.jsonSchema.keyCompression){var r=function(t,e){var n={selector:Tw(t,e.selector)};if(e.skip&&(n.skip=e.skip),e.limit&&(n.limit=e.limit),e.fields&&(n.fields=e.fields.map(function(e){return Aw(t,e)})),e.sort)if(Array.isArray(e.sort))n.sort=e.sort.map(function(e){if("string"==typeof e){var n=e.startsWith("-");n&&(e=e.substr(1));var r=Aw(t,e);return n&&(r="-"+r),r}return Tw(t,e)});else{var r={};Object.entries(e.sort).forEach(function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e,2),o=n[1],i=Aw(t,n[0]);r[i]=o}),n.sort=r}return n}(Rw(e.collection).table,n);t.mangoQuery=r}},preCreateRxStorageInstance:function(t){if(t.schema.keyCompression){var e=Iw(t.schema);t.schema=e.schema}},preQueryMatcher:function(t){if(t.rxQuery.collection.schema.jsonSchema.keyCompression){var e=Rw(t.rxQuery.collection);t.doc=Ew(e.table,t.doc)}},preSortComparator:function(t){if(t.rxQuery.collection.schema.jsonSchema.keyCompression){var e=Rw(t.rxQuery.collection);t.docA=Ew(e.table,t.docA),t.docB=Ew(e.table,t.docB)}},preWriteToStorageInstance:function(t){if(t.collection.schema.jsonSchema.keyCompression){var e=Rw(t.collection),n=t.doc._attachments;delete t.doc._attachments,t.doc=Ew(e.table,t.doc),t.doc._attachments=n}},postReadFromInstance:function(t){if(t.collection.schema.jsonSchema.keyCompression){var e=Rw(t.collection);t.doc=Dw(e.table,t.doc)}}}},Lw=new WeakMap;function $w(t){return Lw.has(t)||Lw.set(t,new pc.X([])),Hv(Lw.get(t))}var Fw=function(){function t(t,e){this._migrated=!1,this.newestCollection=t,this.migrationStrategies=e,this.currentSchema=t.schema,this.database=t.database,this.name=t.name}var e=t.prototype;return e.migrate=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrated)throw vy("DM1");this._migrated=!0;var n,r={done:!1,total:0,handled:0,success:0,deleted:0,percent:0},i=new o.x,s=$w(this.newestCollection.database),a=s.getValue().slice(0);return a.push(i.asObservable()),s.next(a),zw(t).then(function(t){return n=t,Promise.all(n.map(function(t){return Dy(t.storageInstance)}))}).then(function(o){var s=o.reduce(function(t,e){return t+e},0);r.total=s,i.next({collection:t.newestCollection,state:Gv(r)});for(var a=n.shift(),u=Promise.resolve(),c=function(){var o=Zw(a,e);u=u.then(function(){return new Promise(function(e){var n=o.subscribe(function(e){r.handled++,r[e.type]=r[e.type]+1,r.percent=Math.round(r.handled/r.total*100),i.next({collection:t.newestCollection,state:Gv(r)})},function(t){n.unsubscribe(),i.error(t)},function(){n.unsubscribe(),e()})})}),a=n.shift()};a;)c();return u}).then(function(){r.done=!0,r.percent=100,i.next({collection:t.newestCollection,state:Gv(r)}),i.complete()}),i.pipe((0,_c.U)(function(t){return t.state}))},e.migratePromise=function(t){var e=this;return this._migratePromise||(this._migratePromise=Uw(this).then(function(n){return n?new Promise(function(n,r){e.migrate(t).subscribe(null,r,n)}):Promise.resolve(!1)})),this._migratePromise},t}();function Vw(t,e,n){return Bw.apply(this,arguments)}function Bw(){return(Bw=xy(Sy().mark(function t(e,n,r){var o,i,s,a,u;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.newestCollection.database,i=ug(n,!1),by("preCreateRxStorageInstance",s={databaseName:o.name,collectionName:r.newestCollection.name,schema:n,options:r.newestCollection.instanceCreationOptions}),t.next=6,o.storage.createStorageInstance(s);case 6:return a=t.sent,u={version:e,dataMigrator:r,newestCollection:r.newestCollection,database:o,schema:ug(n,!1),storageInstance:a,_crypter:lg(o.password,i)},t.abrupt("return",u);case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function zw(t){return qw.apply(this,arguments)}function qw(){return(qw=xy(Sy().mark(function t(e){return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(sg(e.currentSchema.jsonSchema).map(function(t){return Ty(e.database.internalStore,e.name+"-"+t)}).map(function(t){return t.catch(function(){return null})}));case 2:return t.abrupt("return",Promise.all(t.sent.map(function(t){return t?Vw(t.schema.version,t.schema,e):null}).filter(function(t){return null!==t})));case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Uw(t){return 0===t.currentSchema.version?Promise.resolve(!1):zw(t).then(function(t){return 0!==t.length})}function Hw(t,e){return function(t,e){return Iy.apply(this,arguments)}(t.storageInstance,e).then(function(e){return e.map(function(e){return e=Gv(e),Hy(t,e)})})}function Ww(t,e){var n=Gv(e._attachments),r=Kv(e);r._attachments=n;for(var o=t.version+1,i=Promise.resolve(r),s=function(){var e=o;i=i.then(function(n){return function(t,e,n){return null===n?Promise.resolve(null):(r=t.dataMigrator.migrationStrategies[e](n,t))&&"function"==typeof r.then?r:Promise.resolve(r);var r}(t,e,n)}),o++};o<=t.newestCollection.schema.version;)s();return i.then(function(n){if(null===n)return Promise.resolve(null);try{t.newestCollection.schema.validate(n)}catch(r){throw vy("DM2",{fromVersion:t.version,toVersion:t.newestCollection.schema.version,originalDoc:e,finalDoc:n,errors:r.parameters.errors,schema:r.parameters.schema})}return n})}function Jw(t,e){var n=Object.assign({},t,{_attachments:void 0,_rev:void 0}),r=Object.assign({},e,{_attachments:void 0,_rev:void 0});return Ov()(n,r)}function Qw(t,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=xy(Sy().mark(function t(e,n){var r,o,i,s;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map(function(t){return wy("preMigrateDocument",{docData:t,oldCollection:e})}));case 2:return t.next=4,Promise.all(n.map(function(t){return Ww(e,t)}));case 4:if(r=t.sent,o=[],i=[],n.forEach(function(t,n){var s=r[n],a={res:null,type:"",migrated:s,doc:t,oldCollection:e,newestCollection:e.newestCollection};if(i.push(a),Jw(t,s))s._rev=t._rev;else if(null!==s){var u=Yv(t._rev)+1+"-"+ty(s,!0);s._rev=u}if(s){var c=s._attachments,l=Uy(e.newestCollection,s);l._attachments=c,o.push(l),a.res=l,a.type="success"}else a.type="deleted"}),!o.length){t.next=11;break}return t.next=11,e.newestCollection.storageInstance.bulkAddRevisions(o);case 11:return t.next=13,Promise.all(i.map(function(t){return wy("postMigrateDocument",t)}));case 13:if(!(s=n.map(function(t){var n=Gv(t);return n._deleted=!0,{previous:Uy(e,t),document:Uy(e,n)}})).length){t.next=17;break}return t.next=17,e.storageInstance.bulkWrite(s);case 17:return t.abrupt("return",i);case 18:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Gw(t){return t.storageInstance.remove().then(function(){return t.database.removeCollectionDoc(t.dataMigrator.name,t.schema)})}function Zw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(t._migrate)throw vy("DM3");t._migrate=!0;var n,r=new o.x;return function o(){return Hw(t,e).then(function(e){return 0===e.length?(Gw(t).then(function(){return r.complete()}),!1):Qw(t,e).then(function(t){return t.forEach(function(t){return r.next(t)})}).catch(function(t){return n=t}).then(function(){return!0})}).then(function(t){t&&(n?r.error(n):o())})}(),r.asObservable()}var Xw=new WeakMap,Yw={name:"migration",rxdb:!0,hooks:{preDestroyRxDatabase:function(t){var e=Lw.get(t);e&&e.complete()}},prototypes:{RxDatabase:function(t){t.migrationStates=function(){return $w(this).pipe((0,xc.w)(function(t){return(0,mc.a)(t)}),(0,Jg.d)({bufferSize:1,refCount:!0}))}},RxCollection:function(t){t.getDataMigrator=function(){return Xw.has(this)||Xw.set(this,new Fw(this.asRxCollection,this.migrationStrategies)),Xw.get(this)},t.migrationNeeded=function(){return Uw(this.getDataMigrator())}}}},t_=n(9932),e_=n.n(t_);const n_={add:function(t){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){t()},!0),window.addEventListener("unload",function(){t()},!0)}}};var r_=n(199),o_=n.n(r_),i_=e_()?o_():n_,s_=new Set,a_=!1;function u_(){var t=[];return s_.forEach(function(e){t.push(e()),s_.delete(e)}),Promise.all(t)}var c_=function(t,e){this._channel=t,this._options=e,this.isLeader=!1,this.isDead=!1,this.token=pb(),this._isApl=!1,this._reApply=!1,this._unl=[],this._lstns=[],this._invs=[],this._dpL=function(){},this._dpLC=!1};function l_(t,e){return t._channel.postInternal({context:"leader",action:e,token:t.token})}c_.prototype={applyOnce:function(){var t=this;if(this.isLeader)return Promise.resolve(!1);if(this.isDead)return Promise.resolve(!1);if(this._isApl)return this._reApply=!0,Promise.resolve(!1);this._isApl=!0;var e=!1,n=[],r=function(r){"leader"===r.context&&r.token!=t.token&&(n.push(r),"apply"===r.action&&r.token>t.token&&(e=!0),"tell"===r.action&&(e=!0))};return this._channel.addEventListener("internal",r),l_(this,"apply").then(function(){return db(t._options.responseTime)}).then(function(){return e?Promise.reject(new Error):l_(t,"apply")}).then(function(){return db(t._options.responseTime)}).then(function(){return e?Promise.reject(new Error):l_(t)}).then(function(){return function(t){t.isLeader=!0;var e=function(t){if(a_||(a_=!0,i_.add(u_)),"function"!=typeof t)throw new Error("Listener is no function");return s_.add(t),{remove:function(){return s_.delete(t)},run:function(){return s_.delete(t),t()}}}(function(){return t.die()});t._unl.push(e);var n=function(e){"leader"===e.context&&"apply"===e.action&&l_(t,"tell"),"leader"!==e.context||"tell"!==e.action||t._dpLC||(t._dpLC=!0,t._dpL(),l_(t,"tell"))};return t._channel.addEventListener("internal",n),t._lstns.push(n),l_(t,"tell")}(t)}).then(function(){return!0}).catch(function(){return!1}).then(function(e){return t._channel.removeEventListener("internal",r),t._isApl=!1,!e&&t._reApply?(t._reApply=!1,t.applyOnce()):e})},awaitLeadership:function(){var t;return this._aLP||(this._aLP=(t=this).isLeader?Promise.resolve():new Promise(function(e){var n=!1;function r(){n||(n=!0,clearInterval(o),t._channel.removeEventListener("internal",i),e(!0))}t.applyOnce().then(function(){t.isLeader&&r()});var o=setInterval(function(){t.applyOnce().then(function(){t.isLeader&&r()})},t._options.fallbackInterval);t._invs.push(o);var i=function(e){"leader"===e.context&&"death"===e.action&&t.applyOnce().then(function(){t.isLeader&&r()})};t._channel.addEventListener("internal",i),t._lstns.push(i)})),this._aLP},set onduplicate(t){this._dpL=t},die:function(){var t=this;if(!this.isDead)return this.isDead=!0,this._lstns.forEach(function(e){return t._channel.removeEventListener("internal",e)}),this._invs.forEach(function(t){return clearInterval(t)}),this._unl.forEach(function(t){t.remove()}),l_(this,"death")}};var f_=new WeakMap,h_=function(){function t(t){this.destroyed=!1,this.isLeader=!1,this.isDead=!1,this.database=t,this.elector=function(t,e){if(t._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");e=function(t,e){return t||(t={}),(t=JSON.parse(JSON.stringify(t))).fallbackInterval||(t.fallbackInterval=3e3),t.responseTime||(t.responseTime=e.method.averageResponseTime(e.options)),t}(e,t);var n=new c_(t,e);return t._befC.push(function(){return n.die()}),t._leaderElector=n,n}(t.broadcastChannel)}var e=t.prototype;return e.die=function(){return this.elector.die()},e.waitForLeadership=function(){var t=this;return this.elector.awaitLeadership().then(function(){return t.isLeader=!0,!0})},e.destroy=function(){if(!this.destroyed)return this.destroyed=!0,this.isDead=!0,this.die()},t}();function d_(){return f_.has(this)||f_.set(this,new h_(this)),f_.get(this)}function p_(){return!this.multiInstance||this.leaderElector().isLeader}function m_(){return this.multiInstance?this.leaderElector().waitForLeadership():Promise.resolve(!0)}var v_={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:function(t){t.leaderElector=d_,t.isLeader=p_,t.waitForLeadership=m_}},hooks:{preDestroyRxDatabase:function(t){var e=f_.get(t);e&&e.destroy()}}},y_=n(3976),g_=n.n(y_),b_=n(4981),w_=function(t){return function(t,e){return g_().encrypt(t,e).toString()}(t,this.password)},__=function(t){var e,n;return e=t,n=this.password,g_().decrypt(e,n).toString(b_)};function x_(){return(x_=xy(Sy().mark(function t(e){var n,r,o,i;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.password){t.next=2;break}return t.abrupt("return",Promise.resolve(!1));case 2:return n=$v(e.password),r="pwHash",t.next=6,Fy(e.localDocumentsStore,r);case 6:if(o=t.sent){t.next=14;break}return i={_id:r,value:n,_attachments:{}},t.next=11,e.localDocumentsStore.bulkWrite([{document:i}]);case 11:return t.abrupt("return",!0);case 14:if(n===o.value){t.next=20;break}return t.next=17,e.destroy();case 17:throw vy("DB1",{passwordHash:$v(e.password),existingPasswordHash:o.value});case 20:return t.abrupt("return",!0);case 21:case"end":return t.stop()}},t)}))).apply(this,arguments)}var k_={name:"encryption",rxdb:!0,prototypes:{Crypter:function(t){t._encryptString=w_,t._decryptString=__}},overwritable:{validatePassword:function(t){if(t&&"string"!=typeof t)throw yy("EN1",{password:t});if(t&&t.length<8)throw vy("EN2",{minPassLength:8,password:t})}},hooks:{createRxDatabase:function(t){return function(t){return x_.apply(this,arguments)}(t)}}},S_=n(2975),C_=n.n(S_);function O_(t){var e=this._data,n=C_()(e,t);return this._saveData(n,e)}function E_(t){return this.exec().then(function(e){return e?Array.isArray(e)?Promise.all(e.map(function(e){return e.update(t)})).then(function(){return e}):e.update(t).then(function(){return e}):null})}var A_={name:"update",rxdb:!0,prototypes:{RxDocument:function(t){t.update=O_},RxQuery:function(t){t.update=E_}}};function M_(t,e){if(t===e)return 0;t=T_(t),e=T_(e);var n=I_(t),r=I_(e);if(n-r!=0)return n-r;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return function(t,e){return t===e?0:t>e?1:-1}(t,e)}return Array.isArray(t)?function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=M_(t[r],e[r]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}(t,e):function(t,e){for(var n=Object.keys(t),r=Object.keys(e),o=Math.min(n.length,r.length),i=0;i<o;i++){var s=M_(n[i],r[i]);if(0!==s)return s;if(0!==(s=M_(t[n[i]],e[r[i]])))return s}return n.length===r.length?0:n.length>r.length?1:-1}(t,e)}function T_(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=T_(e[r])}else{if(t instanceof Date)return t.toJSON();if(null!==t)for(var o in t={},e)if(e.hasOwnProperty(o)){var i=e[o];void 0!==i&&(t[o]=T_(i))}}}return t}function j_(t){return I_(t=T_(t))+""+function(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return function(t){if(0===t)return"1";var e,n=t.toExponential().split(/e\+?/),r=parseInt(n[1],10),o=t<0,i=o?"0":"2";i+=""+(function(t,e,n){for(var r="",o=3-t.length;r.length<o;)r+="0";return r}(e=((o?-r:r)- -324).toString())+e);var s=Math.abs(parseFloat(n[0]));return o&&(s=10-s),i+""+s.toFixed(20).replace(/\.?0+$/,"")}(t);case"string":return t.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,o=n.length,i="";if(e)for(;++r<o;)i+=j_(n[r]);else for(;++r<o;){var s=n[r];i+=j_(s)+j_(t[s])}return i}return""}(t)+"\0"}function D_(t,e){var n,r=e;if("1"===t[e])n=0,e++;else{var o="0"===t[e];e++;var i="",s=t.substring(e,e+3),a=parseInt(s,10)+-324;for(o&&(a=-a),e+=3;;){var u=t[e];if("\0"===u)break;i+=u,e++}n=1===(i=i.split(".")).length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:e-r}}function P_(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var o=r.element,i=r.index;Array.isArray(o)?o.push(n):i===t.length-2?o[t.pop()]=n:t.push(n)}}function I_(t){var e=["boolean","number","string","object"].indexOf(typeof t);return~e?null===t?1:Array.isArray(t)?5:e<3?e+2:e+3:Array.isArray(t)?5:void 0}var R_="pouchdb";function N_(t,e,n,r,o){return t.get(e).catch(function(n){if(404===n.status)return"http"!==t.adapter&&"https"!==t.adapter||(0,Nv.KT)(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:R_,version:1};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(t){return t.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,5),i.version=1,i.replicator=R_,i.session_id=r,i.last_seq=n,t.put(i).catch(function(i){if(409===i.status)return N_(t,e,n,r,o);throw i})})}function L_(t,e,n,r,o){this.src=t,this.target=e,this.id=n,this.returnValue=r,this.opts=o||{}}L_.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})},L_.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?N_(this.target,this.id,t,e,this.returnValue):Promise.resolve(!0)},L_.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var n=this;return N_(this.src,this.id,t,e,this.returnValue).catch(function(t){if(B_(t))return n.opts.writeSourceCheckpoint=!1,!0;throw t})}return Promise.resolve(!0)};var $_={undefined:function(t,e){return 0===M_(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return(n=e,r=t,n.session_id===r.session_id?{last_seq:n.last_seq,history:n.history}:F_(n.history,r.history)).last_seq;var n,r}};function F_(t,e){var n=t[0],r=t.slice(1),o=e[0],i=e.slice(1);return n&&0!==e.length?V_(n.session_id,e)?{last_seq:n.last_seq,history:t}:V_(o.session_id,r)?{last_seq:o.last_seq,history:i}:F_(r,i):{last_seq:0,history:[]}}function V_(t,e){var n=e[0],r=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||V_(t,r))}function B_(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}L_.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(t){return t.last_seq||0}).catch(function(t){if(404!==t.status)throw t;return 0}):t.target.get(t.id).then(function(e){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?e.last_seq||0:t.src.get(t.id).then(function(t){return e.version!==t.version?0:(n=e.version?e.version.toString():"undefined")in $_?$_[n](e,t):0;var n},function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:0}).then(function(){return 0},function(n){return B_(n)?(t.opts.writeSourceCheckpoint=!1,e.last_seq):0});throw n})}).catch(function(t){if(404!==t.status)throw t;return 0})};const z_=L_;var q_=n(2936),U_=n(8485),H_=n.n(U_),W_=n(5458),J_=n.n(W_);function Q_(t){return/^1-/.test(t)}function K_(t,e){var n=Object.keys(e._attachments);return Promise.all(n.map(function(n){return t.getAttachment(e._id,n,{rev:e._rev})}))}function G_(t,e,n,r,o){var i,s,a=[],u={seq:0,changes:[],docs:[]},c=!1,l=!1,f=!1,h=0,d=n.continuous||n.live||!1,p=n.batch_size||100,m=n.batches_limit||10,v=!1,y=n.doc_ids,g=n.selector,b=[],w=(0,Nv.Vj)();o=o||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var _={};function x(){return s?Promise.resolve():function(t,e,n){var r=n.doc_ids?n.doc_ids.sort(M_):"",o=n.filter?n.filter.toString():"",i="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(i=JSON.stringify(function(t){return Object.keys(t).sort(M_).reduce(function(e,n){return e[n]=t[n],e},{})}(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),Promise.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+o+s+i+r+a;return new Promise(function(t){(0,Rv.u)(e,t)})}).then(function(t){return"_local/"+t.replace(/\//g,".").replace(/\+/g,"_")})}(t,e,n).then(function(o){s=new z_(t,e,o,r,!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})})}function k(){if(b=[],0!==i.docs.length){var t=i.docs;return e.bulkDocs({docs:t,new_edits:!1},{timeout:n.timeout}).then(function(e){if(r.cancelled)throw M(),new Error("cancelled");var n=Object.create(null);e.forEach(function(t){t.error&&(n[t.id]=t)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=t.length-i,t.forEach(function(t){var e=n[t._id];if(e){o.errors.push(e);var i=(e.name||"").toLowerCase();if("unauthorized"!==i&&"forbidden"!==i)throw e;r.emit("denied",(0,Nv.d9)(e))}else b.push(t)})},function(e){throw o.doc_write_failures+=t.length,e})}}function S(){if(i.error)throw new Error("There was a problem getting docs.");o.last_seq=h=i.seq;var t=(0,Nv.d9)(o);return b.length&&(t.docs=b,"number"==typeof i.pending&&(t.pending=i.pending,delete i.pending),r.emit("change",t)),c=!0,s.writeCheckpoint(i.seq,w).then(function(){if(c=!1,r.cancelled)throw M(),new Error("cancelled");i=void 0,P()}).catch(function(t){throw R(t),t})}function C(){return function(t,e,n,r){n=(0,Nv.d9)(n);var o=[],i=!0;return Promise.resolve().then(function(){var e=Object.keys(n).filter(function(t){var e=n[t].missing;return 1===e.length&&Q_(e[0])});if(e.length>0)return function(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then(function(t){if(r.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){t.deleted||!t.doc||!Q_(t.value.rev)||function(t){return t._attachments&&Object.keys(t._attachments).length>0}(t.doc)||function(t){return t._conflicts&&t._conflicts.length>0}(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,o.push(t.doc),delete n[t.id])})})}(e)}).then(function(){var s=function(t){var e=[];return Object.keys(t).forEach(function(n){t[n].missing.forEach(function(t){e.push({id:n,rev:t})})}),{docs:e,revs:!0,latest:!0}}(n);if(s.docs.length)return t.bulkGet(s).then(function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map(function(n){return Promise.all(n.docs.map(function(n){var r=n.ok;return n.error&&(i=!1),r&&r._attachments?function(t,e,n){var r=(0,Nv.Q1)(e)&&!(0,Nv.Q1)(t),o=Object.keys(n._attachments);return r?t.get(n._id).then(function(r){return Promise.all(o.map(function(o){return function(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}(r,n,o)?e.getAttachment(n._id,o):t.getAttachment(r._id,o)}))}).catch(function(t){if(404!==t.status)throw t;return K_(e,n)}):K_(e,n)}(e,t,r).then(function(t){var e=Object.keys(r._attachments);return t.forEach(function(t,n){var o=r._attachments[e[n]];delete o.stub,delete o.length,o.data=t}),r}):r}))})).then(function(t){o=o.concat((0,Nv.xH)(t).filter(Boolean))})})}).then(function(){return{ok:i,docs:o}})}(t,e,i.diffs,r).then(function(t){i.error=!t.ok,t.docs.forEach(function(t){delete i.diffs[t._id],o.docs_read++,i.docs.push(t)})})}function O(){var t;r.cancelled||i||(0!==a.length?(i=a.shift(),(t={},i.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(t){return t.rev}))}),e.revsDiff(t).then(function(t){if(r.cancelled)throw M(),new Error("cancelled");i.diffs=t})).then(C).then(k).then(S).then(O).catch(function(t){A("batch processing terminated with error",t)})):E(!0))}function E(t){0!==u.changes.length?(t||l||u.changes.length>=p)&&(a.push(u),u={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),O()):0!==a.length||i||((d&&_.live||l)&&(r.state="pending",r.emit("paused")),l&&M())}function A(t,e){f||(e.message||(e.message=t),o.ok=!1,o.status="aborting",a=[],u={seq:0,changes:[],docs:[]},M(e))}function M(i){if(!(f||r.cancelled&&(o.status="cancelled",c)))if(o.status=o.status||"complete",o.end_time=(new Date).toISOString(),o.last_seq=h,f=!0,i){(i=(0,q_.Tr)(i)).result=o;var s=(i.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(r.emit("error",i),r.removeAllListeners()):function(t,e,n,r){if(!1===t.retry)return e.emit("error",n),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=Nv.ui),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var o=function(){t.current_back_off=0};e.once("paused",function(){e.removeListener("active",o)}),e.once("active",o)}t.current_back_off=t.current_back_off||0,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}(n,r,i,function(){G_(t,e,n,r)})}else r.emit("complete",o),r.removeAllListeners()}function T(t,e,o){if(r.cancelled)return M();"number"==typeof e&&(u.pending=e),(0,Nv.sP)(n)(t)&&(u.seq=t.seq||o,u.changes.push(t),(0,Nv.Y3)(function(){E(0===a.length&&_.live)}))}function j(t){if(v=!1,r.cancelled)return M();if(t.results.length>0)_.since=t.results[t.results.length-1].seq,P(),E(!0);else{var e=function(){d?(_.live=!0,P()):l=!0,E(!0)};i||0!==t.results.length?e():(c=!0,s.writeCheckpoint(t.last_seq,w).then(function(){c=!1,o.last_seq=h=t.last_seq,e()}).catch(R))}}function D(t){if(v=!1,r.cancelled)return M();A("changes rejected",t)}function P(){if(!v&&!l&&a.length<m){v=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",o);var e=t.changes(_).on("change",T);e.then(i,i),e.then(j).catch(D),n.retry&&(r._changes=e,r._abortChanges=o)}function o(){e.cancel()}function i(){r.removeListener("cancel",o)}}function I(){x().then(function(){if(!r.cancelled)return s.getCheckpoint().then(function(t){_={since:h=t,limit:p,batch_size:p,style:"all_docs",doc_ids:y,selector:g,return_docs:!0},n.filter&&("string"!=typeof n.filter?_.include_docs=!0:_.filter=n.filter),"heartbeat"in n&&(_.heartbeat=n.heartbeat),"timeout"in n&&(_.timeout=n.timeout),n.query_params&&(_.query_params=n.query_params),n.view&&(_.view=n.view),P()});M()}).catch(function(t){A("getCheckpoint rejected with ",t)})}function R(t){c=!1,A("writeCheckpoint completed with error",t)}r.ready(t,e),r.cancelled?M():(r._addedListeners||(r.once("cancel",M),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(t){n.complete(null,t)})),r._addedListeners=!0),void 0===n.since?I():x().then(function(){return c=!0,s.writeCheckpoint(n.since,w)}).then(function(){c=!1,r.cancelled?M():(h=n.since,I())}).catch(R))}function Z_(){J_().call(this),this.cancelled=!1,this.state="pending";var t=this,e=new Promise(function(e,n){t.once("complete",e),t.once("error",n)});t.then=function(t,n){return e.then(t,n)},t.catch=function(t){return e.catch(t)},t.catch(function(){})}function X_(t,e){return"string"==typeof t?new(0,e.PouchConstructor)(t,e):t}function Y_(t,e,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw(0,q_.Tr)(q_.y3,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=(0,Nv.d9)(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new Z_(n);return G_(X_(t,n),X_(e,n),n,o),o}function tx(t,e,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=(0,Nv.d9)(n)).PouchConstructor=n.PouchConstructor||this,new ex(t=X_(t,n),e=X_(e,n),n,r)}function ex(t,e,n,r){var o=this;this.canceled=!1;var i=n.push?(0,Nv.f0)({},n,n.push):n,s=n.pull?(0,Nv.f0)({},n,n.pull):n;function a(t){o.emit("change",{direction:"pull",change:t})}function u(t){o.emit("change",{direction:"push",change:t})}function c(t){o.emit("denied",{direction:"push",doc:t})}function l(t){o.emit("denied",{direction:"pull",doc:t})}function f(){o.pushPaused=!0,o.pullPaused&&o.emit("paused")}function h(){o.pullPaused=!0,o.pushPaused&&o.emit("paused")}function d(){o.pushPaused=!1,o.pullPaused&&o.emit("active",{direction:"push"})}function p(){o.pullPaused=!1,o.pushPaused&&o.emit("active",{direction:"pull"})}this.push=Y_(t,e,i),this.pull=Y_(e,t,s),this.pushPaused=!0,this.pullPaused=!0;var m={};function v(t){return function(e,n){("change"===e&&(n===a||n===u)||"denied"===e&&(n===l||n===c)||"paused"===e&&(n===h||n===f)||"active"===e&&(n===p||n===d))&&(e in m||(m[e]={}),m[e][t]=!0,2===Object.keys(m[e]).length&&o.removeAllListeners(e))}}function y(t,e,n){-1==t.listeners(e).indexOf(n)&&t.on(e,n)}n.live&&(this.push.on("complete",o.pull.cancel.bind(o.pull)),this.pull.on("complete",o.push.cancel.bind(o.push))),this.on("newListener",function(t){"change"===t?(y(o.pull,"change",a),y(o.push,"change",u)):"denied"===t?(y(o.pull,"denied",l),y(o.push,"denied",c)):"active"===t?(y(o.pull,"active",p),y(o.push,"active",d)):"paused"===t&&(y(o.pull,"paused",h),y(o.push,"paused",f))}),this.on("removeListener",function(t){"change"===t?(o.pull.removeListener("change",a),o.push.removeListener("change",u)):"denied"===t?(o.pull.removeListener("denied",l),o.push.removeListener("denied",c)):"active"===t?(o.pull.removeListener("active",p),o.push.removeListener("active",d)):"paused"===t&&(o.pull.removeListener("paused",h),o.push.removeListener("paused",f))}),this.pull.on("removeListener",v("pull")),this.push.on("removeListener",v("push"));var g=Promise.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return o.emit("complete",e),r&&r(null,e),o.removeAllListeners(),e},function(t){if(o.cancel(),r?r(t):o.emit("error",t),o.removeAllListeners(),r)throw t});this.then=function(t,e){return g.then(t,e)},this.catch=function(t){return g.catch(t)}}H_()(Z_,J_()),Z_.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Z_.prototype.ready=function(t,e){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,t.once("destroyed",r),e.once("destroyed",r),n.once("complete",function(){t.removeListener("destroyed",r),e.removeListener("destroyed",r)}))},H_()(ex,J_()),ex.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};var nx=n(6893),rx=n(4437),ox=n(9113),ix=n(2376),sx=n.n(ix),ax=n(9737),ux=("undefined"!=typeof AbortController&&AbortController,fetch),cx=Headers;function lx(t,e){for(var n=t,r=0,o=e.length;r<o&&(n=n[e[r]]);r++);return n}function fx(t,e,n){for(var r=0,o=e.length;r<o-1;r++){var i=e[r];t=t[i]=t[i]||{}}t[e[o-1]]=n}function hx(t,e){return t<e?-1:t>e?1:0}function dx(t){for(var e=[],n="",r=0,o=t.length;r<o;r++){var i=t[r];"."===i?r>0&&"\\"===t[r-1]?n=n.substring(0,n.length-1)+".":(e.push(n),n=""):n+=i}return e.push(n),e}var px=["$or","$nor","$not"];function mx(t){return px.indexOf(t)>-1}function vx(t){return Object.keys(t)[0]}function yx(t){return t[vx(t)]}function gx(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(n){var r=t[n];if("object"!=typeof r&&(r={$eq:r}),mx(n))e[n]=r instanceof Array?r.map(function(t){return gx([t])}):gx([r]);else{var o=e[n]=e[n]||{};Object.keys(r).forEach(function(t){var e=r[t];return"$gt"===t||"$gte"===t?function(t,e,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):void 0!==n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e)}(t,e,o):"$lt"===t||"$lte"===t?function(t,e,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):void 0!==n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e)}(t,e,o):"$ne"===t?function(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}(e,o):"$eq"===t?function(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}(e,o):void(o[t]=e)})}})}),e}function bx(t){for(var e in t){if(Array.isArray(t))for(var n in t)t[n].$and&&(t[n]=gx(t[n].$and));var r=t[e];"object"==typeof r&&bx(r)}return t}function wx(t,e){for(var n in t){"$and"===n&&(e=!0);var r=t[n];"object"==typeof r&&(e=wx(r,e))}return e}function _x(t){var e=(0,Nv.d9)(t),n=!1;wx(e,!1)&&("$and"in(e=bx(e))&&(e=gx(e.$and)),n=!0),["$or","$nor"].forEach(function(t){t in e&&e[t].forEach(function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n],o=t[r];"object"==typeof o&&null!==o||(t[r]={$eq:o})}})}),"$not"in e&&(e.$not=gx([e.$not]));for(var r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],s=e[i];"object"!=typeof s||null===s?s={$eq:s}:"$ne"in s&&!n&&(s.$ne=[s.$ne]),e[i]=s}return e}function xx(t,e,n){if(t=t.filter(function(t){return kx(t.doc,e.selector,n)}),e.sort){var r=function(t){function e(e){return t.map(function(t){var n=dx(vx(t));return lx(e,n)})}return function(t,n){var r=M_(e(t.doc),e(n.doc));return 0!==r?r:hx(t.doc._id,n.doc._id)}}(e.sort);t=t.sort(r),"string"!=typeof e.sort[0]&&"desc"===yx(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var o=e.skip||0;t=t.slice(o,("limit"in e?e.limit:t.length)+o)}return t}function kx(t,e,n){return n.every(function(n){var r=e[n],o=dx(n),i=lx(t,o);return mx(n)?function(t,e,n){return"$or"===t?e.some(function(t){return kx(n,t,Object.keys(t))}):"$not"===t?!kx(n,e,Object.keys(e)):!e.find(function(t){return kx(n,t,Object.keys(t))})}(n,r,t):Sx(r,t,o,i)})}function Sx(t,e,n,r){return!t||("object"==typeof t?Object.keys(t).every(function(o){return function(t,e,n,r,o){if(!Ax[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return Ax[t](e,n,r,o)}(o,e,t[o],n,r)}):t===r)}function Cx(t){return null!=t}function Ox(t){return void 0!==t}function Ex(t,e){return e.some(function(e){return t instanceof Array?t.indexOf(e)>-1:t===e})}var Ax={$elemMatch:function(t,e,n,r){return!!Array.isArray(r)&&0!==r.length&&r.some("object"==typeof r[0]?function(t){return kx(t,e,Object.keys(e))}:function(r){return Sx(e,t,n,r)})},$allMatch:function(t,e,n,r){return!!Array.isArray(r)&&0!==r.length&&r.every("object"==typeof r[0]?function(t){return kx(t,e,Object.keys(e))}:function(r){return Sx(e,t,n,r)})},$eq:function(t,e,n,r){return Ox(r)&&0===M_(r,e)},$gte:function(t,e,n,r){return Ox(r)&&M_(r,e)>=0},$gt:function(t,e,n,r){return Ox(r)&&M_(r,e)>0},$lte:function(t,e,n,r){return Ox(r)&&M_(r,e)<=0},$lt:function(t,e,n,r){return Ox(r)&&M_(r,e)<0},$exists:function(t,e,n,r){return e?Ox(r):!Ox(r)},$mod:function(t,e,n,r){return Cx(r)&&function(t,e){var n=e[0],r=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===r}(r,e)},$ne:function(t,e,n,r){return e.every(function(t){return 0!==M_(r,t)})},$in:function(t,e,n,r){return Cx(r)&&Ex(r,e)},$nin:function(t,e,n,r){return Cx(r)&&!Ex(r,e)},$size:function(t,e,n,r){return Cx(r)&&function(t,e){return t.length===e}(r,e)},$all:function(t,e,n,r){return Array.isArray(r)&&function(t,e){return e.every(function(e){return t.indexOf(e)>-1})}(r,e)},$regex:function(t,e,n,r){return Cx(r)&&function(t,e){return new RegExp(e).test(t)}(r,e)},$type:function(t,e,n,r){return function(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,e)}};function Mx(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter)return e(new Error('selector invalid for filter "'+("string"==typeof t.filter?t.filter:"function")+'"'));e()}function Tx(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=(0,Nv.Rc)(t.view):t.filter=(0,Nv.Rc)(t.filter))}function jx(t,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!(0,Nv.Q1)(t.db)}function Dx(t,e){var n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=(0,q_.Tr)(q_.y3,"`view` filter parameter not found or invalid.");return n(r)}var o=(0,Nv.VO)(e.view);t.db.get("_design/"+o[0],function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n((0,q_.G3)(r));var s=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;if(!s)return n((0,q_.Tr)(q_.Uc,i.views?"missing json key: "+o[1]:"missing json key: views"));e.filter=function(t){var e=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return(0,Nv.m6)(e,{})}(s),t.doChanges(e)})}else if(e.selector)e.filter=function(t){return function(t,e){if("object"!=typeof e)throw new Error("Selector error: expected a JSON object");var n=xx([{doc:t}],{selector:e=_x(e)},Object.keys(e));return n&&1===n.length}(t,e.selector)},t.doChanges(e);else{var i=(0,Nv.VO)(e.filter);t.db.get("_design/"+i[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n((0,q_.G3)(r));var s=o&&o.filters&&o.filters[i[1]];if(!s)return n((0,q_.Tr)(q_.Uc,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"));e.filter=(0,Nv.m6)('"use strict";\nreturn '+s+";",{}),t.doChanges(e)})}}function Px(t,e,n){J_().call(this);var r=this;this.db=t;var o=(e=e?(0,Nv.d9)(e):{}).complete=(0,Nv.IH)(function(e,n){e?(0,Nv.xS)(r,"error")>0&&r.emit("error",e):r.emit("complete",n),r.removeAllListeners(),t.removeListener("destroyed",i)});function i(){r.cancel()}n&&(r.on("complete",function(t){n(null,t)}),r.on("error",n)),t.once("destroyed",i),e.onChange=function(t,e,n){r.isCancelled||function(t,e,n,r){try{t.emit("change",e,n,r)}catch(o){(0,Nv.yq)("error",'Error in .on("change", function):',o)}}(r,t,e,n)};var s=new Promise(function(t,n){e.complete=function(e,r){e?n(e):t(r)}});r.once("cancel",function(){t.removeListener("destroyed",i),e.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(t){o(null,t)},o),t.taskqueue.isReady?r.validateChanges(e):t.taskqueue.addTask(function(t){t?e.complete(t):r.isCancelled?r.emit("cancel"):r.validateChanges(e)})}function Ix(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=(0,ax.cI)(e.rev_tree).map(function(t){return{rev:t.rev}}));var o={id:e.id,changes:r,doc:t};return(0,ax.uY)(e,t._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=(0,ax.DJ)(e),o.doc._conflicts.length||delete o.doc._conflicts),o}function Rx(t,e){return t<e?-1:t>e?1:0}function Nx(t,e){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=e,t(n)):t(null,r.length?r[0]:r)}}function Lx(t,e){var n=Rx(t._id,e._id);return 0!==n?n:Rx(t._revisions?t._revisions.start:0,e._revisions?e._revisions.start:0)}function $x(t){var e=t._compactionQueue[0],n=e.opts,r=e.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(e){e&&e.last_seq&&(n.last_seq=e.last_seq),t._compact(n,function(e,n){e?r(e):r(null,n),(0,Nv.Y3)(function(){t._compactionQueue.shift(),t._compactionQueue.length&&$x(t)})})})}function Fx(){for(var t in J_().call(this),Fx.prototype)"function"==typeof this[t]&&(this[t]=this[t].bind(this))}function Vx(){this.isReady=!1,this.failed=!1,this.queue=[]}function Bx(t,e){if(!(this instanceof Bx))return new Bx(t,e);var n=this;if(e=e||{},t&&"object"==typeof t&&(t=(e=t).name,delete e.name),void 0===e.deterministic_revs&&(e.deterministic_revs=!0),this.__opts=e=(0,Nv.d9)(e),n.auto_compaction=e.auto_compaction,n.prefix=Bx.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var r=function(t,e){var n=t.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Bx.adapters,o=Bx.preferredAdapters,i=Bx.prefix,s=e.adapter;if(!s)for(var a=0;a<o.length&&"idb"===(s=o[a])&&"websql"in r&&(0,Nv.eW)()&&localStorage["_pouch__websqldb_"+i+t];++a)(0,Nv.yq)("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var u=r[s];return{name:u&&"use_prefix"in u&&!u.use_prefix?t:i+t,adapter:s}}((e.prefix||"")+t,e);if(e.name=r.name,e.adapter=e.adapter||r.adapter,n.name=t,n._adapter=e.adapter,Bx.emit("debug",["adapter","Picked adapter: ",e.adapter]),!Bx.adapters[e.adapter]||!Bx.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);Fx.call(n),n.taskqueue=new Vx,n.adapter=e.adapter,Bx.adapters[e.adapter].call(n,e,function(t){if(t)return n.taskqueue.fail(t);!function(t){function e(e){t.removeListener("closed",n),e||t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.constructor.emit("unref",t)}t.once("destroyed",e),t.once("closed",n),t.constructor.emit("ref",t)}(n),n.emit("created",n),Bx.emit("created",n.name),n.taskqueue.ready(n)})}H_()(Px,J_()),Px.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Px.prototype.validateChanges=function(t){var e=t.complete,n=this;Bx._changesFilterPlugin?Bx._changesFilterPlugin.validate(t,function(r){if(r)return e(r);n.doChanges(t)}):n.doChanges(t)},Px.prototype.doChanges=function(t){var e=this,n=t.complete;if("live"in(t=(0,Nv.d9)(t))&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=Ix,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"!==t.since){if(Bx._changesFilterPlugin){if(Bx._changesFilterPlugin.normalize(t),Bx._changesFilterPlugin.shouldFilter(this,t))return Bx._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(e){e in t&&(0,Nv.yq)("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&"function"==typeof r.cancel){var o=e.cancel;e.cancel=sx()(function(t){r.cancel(),o.apply(this,t)})}}else this.db.info().then(function(r){e.isCancelled?n(null,{status:"cancelled"}):(t.since=r.update_seq,e.doChanges(t))},n)},H_()(Fx,J_()),Fx.prototype.post=(0,Nv.D3)("post",function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n((0,q_.Tr)(q_.nM));this.bulkDocs({docs:[t]},e,Nx(n,t._id))}),Fx.prototype.put=(0,Nv.D3)("put",function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n((0,q_.Tr)(q_.nM));if((0,Nv.GE)(t._id),(0,ax.zB)(t._id)&&"function"==typeof this._putLocal)return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);var r,o,i,s,a=this;function u(n){"function"==typeof a._put&&!1!==e.new_edits?a._put(t,e,n):a.bulkDocs({docs:[t]},e,Nx(n,t._id))}e.force&&t._rev?(o=(r=t._rev.split("-"))[1],i=parseInt(r[0],10)+1,s=(0,Nv.OD)(),t._revisions={start:i,ids:[s,o]},t._rev=i+"-"+s,e.new_edits=!1,u(function(e){n(e,e?null:{ok:!0,id:t._id,rev:t._rev})})):u(n)}),Fx.prototype.putAttachment=(0,Nv.D3)("putAttachment",function(t,e,n,r,o){var i=this;function s(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:o,data:r,revpos:++n},i.put(t)}return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||(0,Nv.yq)("warn","Attachment",e,"on document",t,"is missing content_type"),i.get(t).then(function(t){if(t._rev!==n)throw(0,q_.Tr)(q_.gW);return s(t)},function(e){if(e.reason===q_.Uc.message)return s({_id:t});throw e})}),Fx.prototype.removeAttachment=(0,Nv.D3)("removeAttachment",function(t,e,n,r){var o=this;o.get(t,function(t,i){if(t)r(t);else if(i._rev===n){if(!i._attachments)return r();delete i._attachments[e],0===Object.keys(i._attachments).length&&delete i._attachments,o.put(i,r)}else r((0,q_.Tr)(q_.gW))})}),Fx.prototype.remove=(0,Nv.D3)("remove",function(t,e,n,r){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(o=t,"function"==typeof e?(r=e,n={}):(r=n,n=e)),(n=n||{}).was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev,_deleted:!0};if((0,ax.zB)(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,Nx(r,i._id))}),Fx.prototype.revsDiff=(0,Nv.D3)("revsDiff",function(t,e,n){"function"==typeof e&&(n=e,e={});var r=Object.keys(t);if(!r.length)return n(null,{});var o=0,i=new ox.D;function s(t,e){i.has(t)||i.set(t,{missing:[]}),i.get(t).missing.push(e)}r.map(function(e){this._getRevisionTree(e,function(a,u){if(a&&404===a.status&&"missing"===a.message)i.set(e,{missing:t[e]});else{if(a)return n(a);!function(e,n){var r=t[e].slice(0);(0,ax.fE)(n,function(t,n,o,i,a){var u=n+"-"+o,c=r.indexOf(u);-1!==c&&(r.splice(c,1),"available"!==a.status&&s(e,u))}),r.forEach(function(t){s(e,t)})}(e,u)}if(++o===r.length){var c={};return i.forEach(function(t,e){c[e]=t}),n(null,c)}})},this)}),Fx.prototype.bulkGet=(0,Nv.D3)("bulkGet",function(t,e){(0,Nv.o)(this,t,e)}),Fx.prototype.compactDocument=(0,Nv.D3)("compactDocument",function(t,e,n){var r=this;this._getRevisionTree(t,function(o,i){if(o)return n(o);var s=function(t){var e={},n=[];return(0,ax.fE)(t,function(t,r,o,i){var s=r+"-"+o;return t&&(e[s]=0),void 0!==i&&n.push({from:i,to:s}),s}),n.reverse(),n.forEach(function(t){e[t.from]=void 0===e[t.from]?1+e[t.to]:Math.min(e[t.from],1+e[t.to])}),e}(i),a=[],u=[];Object.keys(s).forEach(function(t){s[t]>e&&a.push(t)}),(0,ax.fE)(i,function(t,e,n,r,o){var i=e+"-"+n;"available"===o.status&&-1!==a.indexOf(i)&&u.push(i)}),r._doCompaction(t,u,n)})}),Fx.prototype.compact=(0,Nv.D3)("compact",function(t,e){"function"==typeof t&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),1===n._compactionQueue.length&&$x(n)}),Fx.prototype._compact=function(t,e){var n=this,r=[];n.changes({return_docs:!1,last_seq:t.last_seq||0}).on("change",function(t){r.push(n.compactDocument(t.id,0))}).on("complete",function(t){var o=t.last_seq;Promise.all(r).then(function(){return(0,Nv.H)(n,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<o)&&(t.last_seq=o,t)})}).then(function(){e(null,{ok:!0})}).catch(e)}).on("error",e)},Fx.prototype.get=(0,Nv.D3)("get",function(t,e,n){if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n((0,q_.Tr)(q_.JE));if((0,ax.zB)(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var r=[],o=this;function i(){var i=[],s=r.length;if(!s)return n(null,i);r.forEach(function(r){o.get(t,{rev:r,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},function(t,e){if(t)i.push({missing:r});else{for(var o,a=0,u=i.length;a<u;a++)if(i[a].ok&&i[a].ok._rev===e._rev){o=!0;break}o||i.push({ok:e})}--s||n(null,i)})})}if(!e.open_revs)return this._get(t,e,function(r,i){if(r)return r.docId=t,n(r);var s=i.doc,a=i.metadata,u=i.ctx;if(e.conflicts){var c=(0,ax.DJ)(a);c.length&&(s._conflicts=c)}if((0,ax.uY)(a,s._rev)&&(s._deleted=!0),e.revs||e.revs_info){for(var l=s._rev.split("-"),f=parseInt(l[0],10),h=l[1],d=(0,ax.vc)(a.rev_tree),p=null,m=0;m<d.length;m++){var v=d[m],y=v.ids.map(function(t){return t.id}).indexOf(h);(y===f-1||!p&&-1!==y)&&(p=v)}if(!p)return(r=new Error("invalid rev tree")).docId=t,n(r);var g=p.ids.map(function(t){return t.id}).indexOf(s._rev.split("-")[1])+1;if(p.ids.splice(g,p.ids.length-g),p.ids.reverse(),e.revs&&(s._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(t){return t.id})}),e.revs_info){var b=p.pos+p.ids.length;s._revs_info=p.ids.map(function(t){return{rev:--b+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&s._attachments){var w=s._attachments,_=Object.keys(w).length;if(0===_)return n(null,s);Object.keys(w).forEach(function(t){this._getAttachment(s._id,t,w[t],{rev:s._rev,binary:e.binary,ctx:u},function(e,r){var o=s._attachments[t];o.data=r,delete o.stub,delete o.length,--_||n(null,s)})},o)}else{if(s._attachments)for(var x in s._attachments)s._attachments.hasOwnProperty(x)&&(s._attachments[x].stub=!0);n(null,s)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){if(t)return n(t);r=(0,ax.cI)(e).map(function(t){return t.rev}),i()});else{if(!Array.isArray(e.open_revs))return n((0,q_.Tr)(q_.I4,"function_clause"));r=e.open_revs;for(var s=0;s<r.length;s++){var a=r[s];if("string"!=typeof a||!/^\d+-/.test(a))return n((0,q_.Tr)(q_.Dq))}i()}}),Fx.prototype.getAttachment=(0,Nv.D3)("getAttachment",function(t,e,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(t,n,function(i,s){return i?r(i):s.doc._attachments&&s.doc._attachments[e]?(n.ctx=s.ctx,n.binary=!0,void o._getAttachment(t,e,s.doc._attachments[e],n,r)):r((0,q_.Tr)(q_.Uc))})}),Fx.prototype.allDocs=(0,Nv.D3)("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(n)return void e((0,q_.Tr)(q_.bi,"Query parameter `"+n+"` is not compatible with multi-get"));if(!(0,Nv.Q1)(this)&&(function(t){var e="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=e,t.skip=0,delete t.limit,t.descending&&(e.reverse(),t.descending=!1)}(t),0===t.keys.length))return this._allDocs({limit:0},e)}return this._allDocs(t,e)}),Fx.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),(t=t||{}).return_docs="return_docs"in t?t.return_docs:!t.live,new Px(this,t,e)},Fx.prototype.close=(0,Nv.D3)("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),Fx.prototype.info=(0,Nv.D3)("info",function(t){var e=this;this._info(function(n,r){if(n)return t(n);r.db_name=r.db_name||e.name,r.auto_compaction=!(!e.auto_compaction||(0,Nv.Q1)(e)),r.adapter=e.adapter,t(null,r)})}),Fx.prototype.id=(0,Nv.D3)("id",function(t){return this._id(t)}),Fx.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Fx.prototype.bulkDocs=(0,Nv.D3)("bulkDocs",function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n((0,q_.Tr)(q_.kD));for(var r=0;r<t.docs.length;++r)if("object"!=typeof t.docs[r]||Array.isArray(t.docs[r]))return n((0,q_.Tr)(q_.nM));var o;if(t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(e){o=o||function(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}(e),t._attachments[e].content_type||(0,Nv.yq)("warn","Attachment",e,"on document",t._id,"is missing content_type")})}),o)return n((0,q_.Tr)(q_.y3,o));"new_edits"in e||(e.new_edits=!("new_edits"in t)||t.new_edits);var i=this;e.new_edits||(0,Nv.Q1)(i)||t.docs.sort(Lx),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=(0,Nv.ei)(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}(t.docs);var s=t.docs.map(function(t){return t._id});return this._bulkDocs(t,e,function(t,r){if(t)return n(t);if(e.new_edits||(r=r.filter(function(t){return t.error})),!(0,Nv.Q1)(i))for(var o=0,a=r.length;o<a;o++)r[o].id=r[o].id||s[o];n(null,r)})}),Fx.prototype.registerDependentDatabase=(0,Nv.D3)("registerDependentDatabase",function(t,e){var n=new this.constructor(t,this.__opts);(0,Nv.H)(this,"_local/_pouch_dependentDbs",function(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}).then(function(){e(null,{db:n})}).catch(e)}),Fx.prototype.destroy=(0,Nv.D3)("destroy",function(t,e){"function"==typeof t&&(e=t,t={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function o(){n._destroy(t,function(t,r){if(t)return e(t);n._destroyed=!0,n.emit("destroyed"),e(null,r||{ok:!0})})}if((0,Nv.Q1)(n))return o();n.get("_local/_pouch_dependentDbs",function(t,i){if(t)return 404!==t.status?e(t):o();var s=n.constructor,a=Object.keys(i.dependentDbs).map(function(t){var e=r?t.replace(new RegExp("^"+s.prefix),""):t;return new s(e,n.__opts).destroy()});Promise.all(a).then(o,e)})}),Vx.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},Vx.prototype.fail=function(t){this.failed=t,this.execute()},Vx.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},Vx.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},H_()(Bx,Fx),Bx.adapters={},Bx.preferredAdapters=[],Bx.prefix="_pouch_";var zx=new(J_());!function(t){Object.keys(J_().prototype).forEach(function(e){"function"==typeof J_().prototype[e]&&(t[e]=zx[e].bind(zx))});var e=t._destructionListeners=new ox.D;t.on("ref",function(t){e.has(t.name)||e.set(t.name,[]),e.get(t.name).push(t)}),t.on("unref",function(t){if(e.has(t.name)){var n=e.get(t.name),r=n.indexOf(t);r<0||(n.splice(r,1),n.length>1?e.set(t.name,n):e.delete(t.name))}}),t.on("destroyed",function(t){if(e.has(t)){var n=e.get(t);e.delete(t),n.forEach(function(t){t.emit("destroyed",!0)})}})}(Bx),Bx.adapter=function(t,e,n){e.valid()&&(Bx.adapters[t]=e,n&&Bx.preferredAdapters.push(t))},Bx.plugin=function(t){if("function"==typeof t)t(Bx);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){Bx.prototype[e]=t[e]})}return this.__defaults&&(Bx.__defaults=(0,Nv.f0)({},this.__defaults)),Bx},Bx.defaults=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);n=n||{},t&&"object"==typeof t&&(t=(n=t).name,delete n.name),n=(0,Nv.f0)({},e.__defaults,n),Bx.call(this,t,n)}return H_()(e,Bx),e.preferredAdapters=Bx.preferredAdapters.slice(),Object.keys(Bx).forEach(function(t){t in e||(e[t]=Bx[t])}),e.__defaults=(0,Nv.f0)({},this.__defaults,t),e},Bx.fetch=function(t,e){return ux(t,e)},Bx.plugin(function(t){t._changesFilterPlugin={validate:Mx,normalize:Tx,shouldFilter:jx,filter:Dx}}),Bx.version="7.2.2";const qx=Bx;var Ux=n(4169);function Hx(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Hx)}catch(e){}}function Wx(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Wx)}catch(e){}}function Jx(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Jx)}catch(e){}}function Qx(t,e){return e&&t.then(function(t){(0,Nv.Y3)(function(){e(null,t)})},function(t){(0,Nv.Y3)(function(){e(t)})}),t}function Kx(t,e){return function(){var n=arguments,r=this;return t.add(function(){return e.apply(r,n)})}}function Gx(t){var e=new ox.l(t),n=new Array(e.size),r=-1;return e.forEach(function(t){n[++r]=t}),n}function Zx(t){var e=new Array(t.size),n=-1;return t.forEach(function(t,r){e[++n]=r}),e}function Xx(){this.promise=new Promise(function(t){t()})}function Yx(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function tk(t,e,n,r,o,i){var s,a=function(t,e){return Yx(t)+Yx(e)+"undefined"}(n,r);if(!o&&(s=t._cachedViews=t._cachedViews||{})[a])return s[a];var u=t.info().then(function(u){var c=u.db_name+"-mrview-"+(o?"temp":(0,Rv.$)(a));return(0,Nv.H)(t,"_local/"+i,function(t){t.views=t.views||{};var n=e;-1===n.indexOf("/")&&(n=e+"/"+e);var r=t.views[n]=t.views[n]||{};if(!r[c])return r[c]=!0,t}).then(function(){return t.registerDependentDatabase(c).then(function(e){var o=e.db;o.auto_compaction=!0;var i={name:c,db:o,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:r};return i.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return i.seq=t?t.seq:0,s&&i.db.once("destroyed",function(){delete s[a]}),i})})})});return s&&(s[a]=u),u}H_()(Hx,Error),H_()(Wx,Error),H_()(Jx,Error),Xx.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},Xx.prototype.finish=function(){return this.promise};var ek={},nk=new Xx;function rk(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function ok(t,e){try{t.emit("error",e)}catch(n){(0,Nv.yq)("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),(0,Nv.yq)("error",e)}}function ik(t){return(t=(0,Nv.d9)(t)).index||(t.index={}),["type","name","ddoc"].forEach(function(e){t.index[e]&&(t[e]=t.index[e],delete t.index[e])}),t.fields&&(t.index.fields=t.fields,delete t.fields),t.type||(t.type="json"),t}function sk(t,e,n,r){var o,i;n.headers=new cx({"Content-type":"application/json"}),t.fetch(e,n).then(function(t){return o=t.status,i=t.ok,t.json()}).then(function(t){if(i)r(null,t);else{t.status=o;var e=(0,q_.G3)(t);r(e)}}).catch(r)}function ak(t,e,n){e=ik(e),sk(t,"_index",{method:"POST",body:JSON.stringify(e)},n)}function uk(t,e,n){sk(t,"_find",{method:"POST",body:JSON.stringify(e)},n)}function ck(t,e,n){sk(t,"_explain",{method:"POST",body:JSON.stringify(e)},n)}function lk(t,e){sk(t,"_index",{method:"GET"},e)}function fk(t,e,n){var r=e.ddoc,o=e.name;return r?o?void sk(t,"_index/"+[r,e.type||"json",o].map(encodeURIComponent).join("/"),{method:"DELETE"},n):n(new Error("you must provide an index's name")):n(new Error("you must provide an index's ddoc"))}function hk(t){return function(){for(var e=arguments.length,n=new Array(e),r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}}function dk(t){return hk(function(e){var n=e.pop(),r=t.apply(this,e);return function(t,e){t.then(function(t){(0,Nv.Y3)(function(){e(null,t)})},function(t){(0,Nv.Y3)(function(){e(t)})})}(r,n),r})}var pk=hk(function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];Array.isArray(o)?e=e.concat(pk.apply(null,o)):e.push(o)}return e});function mk(t){for(var e={},n=0,r=t.length;n<r;n++)e=(0,Nv.f0)(e,t[n]);return e}function vk(t,e){for(var n=0,r=Math.min(t.length,e.length);n<r;n++)if(t[n]!==e[n])return!1;return!0}function yk(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var gk=function(t,e,n,r){function o(t,e,n){try{e(n)}catch(r){ok(t,r)}}function i(t,e,n,r,o){try{return{output:e(n,r,o)}}catch(i){return ok(t,i),{error:i}}}function s(t,e){var n=M_(t.key,e.key);return 0!==n?n:M_(t.value,e.value)}function a(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function u(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function c(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&function(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];e[t].data=(0,Ux.W7)(n.data,n.content_type)})})}(e),e}}function l(t,e,n,r){var o=e[t];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(t+"="+o))}function f(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function h(t,e){var n=t.descending?"endkey":"startkey",r=t.descending?"startkey":"endkey";if(void 0!==t[n]&&void 0!==t[r]&&M_(t[n],t[r])>0)throw new Hx("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new Hx("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new Hx("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var n=function(t){if(t){if("number"!=typeof t)return new Hx('Invalid value for integer: "'+t+'"');if(t<0)return new Hx('Invalid value for positive integer: "'+t+'"')}}(t[e]);if(n)throw n})}function d(t){return function(e){if(404===e.status)return t;throw e}}function p(t){var e="string"==typeof t?t:t.name,n=ek[e];return n||(n=ek[e]=new Xx),n}function m(t){return Kx(p(t),function(){return function(t){var e,n,r,i=(r=function(t,r){var o={id:n._id,key:T_(t)};null!=r&&(o.value=T_(r)),e.push(o)},function(t,e){var n=function(t){for(var e=0,n=t.length;e<n;e++)if(-1!==t[e].indexOf("."))return!1;return!0}(t),r=1===t.length;return n?r?function(t,e){return function(n){e(n[t])}}(t[0],e):function(t,e){return function(n){for(var r=[],o=0,i=t.length;o<i;o++)r.push(n[t[o]]);e(r)}}(t,e):r?function(t,e){var n=dx(t);return function(t){for(var r=t,o=0,i=n.length;o<i;o++)if(void 0===(r=r[n[o]]))return;e(r)}}(t[0],e):function(t,e){return function(n){for(var r=[],o=0,i=t.length;o<i;o++){for(var s=dx(t[o]),a=n,u=0,c=s.length;u<c;u++)if(void 0===(a=a[s[u]]))return;r.push(a)}e(r)}}(t,e)}(Object.keys(t.mapFun.fields),r)),a=t.seq||0;var u=new Xx;function c(){return t.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:a,limit:50}).then(l)}function l(r){var l=r.results;if(l.length){var h=function(r){for(var u=new ox.D,c=0,l=r.length;c<l;c++){var h=r[c];if("_"!==h.doc._id[0]){e=[],(n=h.doc)._deleted||o(t.sourceDB,i,n),e.sort(s);var d=f(e);u.set(h.doc._id,[d,h.changes])}a=h.seq}return u}(l);if(u.add(function(e,n){return function(){return function(t,e,n){var r="_local/lastSeq";return t.db.get(r).catch(d({_id:r,seq:0})).then(function(r){var o=Zx(e);return Promise.all(o.map(function(n){return function(t,e,n){var r,o="_local/doc_"+t,i={_id:o,keys:[]},s=n.get(t),a=s[0];return(r=s[1],1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(i):e.db.get(o).catch(d(i))).then(function(t){return function(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):Promise.resolve({rows:[]})}(t).then(function(e){return function(t,e){for(var n=[],r=new ox.l,o=0,i=e.rows.length;o<i;o++){var s=e.rows[o].doc;if(s&&(n.push(s),r.add(s._id),s._deleted=!a.has(s._id),!s._deleted)){var u=a.get(s._id);"value"in u&&(s.value=u.value)}}var c=Zx(a);return c.forEach(function(t){if(!r.has(t)){var e={_id:t},o=a.get(t);"value"in o&&(e.value=o.value),n.push(e)}}),t.keys=Gx(c.concat(t.keys)),n.push(t),n}(t,e)})})}(n,t,e)})).then(function(e){var o=(0,Nv.xH)(e);return r.seq=n,o.push(r),t.db.bulkDocs({docs:o})})})}(t,e,n)}}(h,a)),!(l.length<50))return c()}}function f(t){for(var e,n=new ox.D,r=0,o=t.length;r<o;r++){var i=t[r],s=[i.key,i.id];r>0&&0===M_(i.key,e)&&s.push(r),n.set(j_(s),i),e=i.key}return n}return c().then(function(){return u.finish()}).then(function(){t.seq=a})}(t)})()}function v(t,e){return Kx(p(t),function(){return function(t,e){var n,r=t.reduceFun&&!1!==e.reduce,o=e.skip||0;function s(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return n=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=function(t){for(var e=[],n=[],r=0;;){var o=t[r++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var i=D_(t,r);e.push(i.num),r+=i.length;break;case"4":for(var s="";;){var a=t[r];if("\0"===a)break;s+=a,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),e.push(s);break;case"5":var u={element:[],index:e.length};e.push(u.element),n.push(u);break;case"6":var c={element:{},index:e.length};e.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();P_(e,n)}}}(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}})})}function c(s){var c;if(c=r?function(t,e,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,o=function(){throw new Error("reduce not supported")}(),s=[],u=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach(function(t){var e=s[s.length-1],n=r?t.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,u)),e&&0===M_(e.groupKey,n))return e.keys.push([t.key,t.id]),void e.values.push(t.value);s.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),e=[];for(var c=0,l=s.length;c<l;c++){var f=s[c],h=i(t.sourceDB,o,f.keys,f.values,!1);if(h.error&&h.error instanceof Jx)throw h.error;e.push({value:h.error?null:h.output,key:f.groupKey})}return{rows:a(e,n.limit,n.skip)}}(t,s,e):{total_rows:n,offset:o,rows:s},e.update_seq&&(c.update_seq=t.seq),e.include_docs){var l=Gx(s.map(u));return t.sourceDB.allDocs({keys:l,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e=new ox.D;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),s.forEach(function(t){var n=u(t),r=e.get(n);r&&(t.doc=r)}),c})}return c}if(void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys),void 0!==e.keys){var l=e.keys.map(function(t){var n={startkey:j_([t]),endkey:j_([t,{}])};return e.update_seq&&(n.update_seq=!0),s(n)});return Promise.all(l).then(Nv.xH).then(c)}var f,h,d={descending:e.descending};if(e.update_seq&&(d.update_seq=!0),"start_key"in e&&(f=e.start_key),"startkey"in e&&(f=e.startkey),"end_key"in e&&(h=e.end_key),"endkey"in e&&(h=e.endkey),void 0!==f&&(d.startkey=j_(e.descending?[f,{}]:[f])),void 0!==h){var p=!1!==e.inclusive_end;e.descending&&(p=!p),d.endkey=j_(p?[h,{}]:[h])}if(void 0!==e.key){var m=j_([e.key]),v=j_([e.key,{}]);d.descending?(d.endkey=m,d.startkey=v):(d.startkey=m,d.endkey=v)}return r||("number"==typeof e.limit&&(d.limit=e.limit),d.skip=o),s(d).then(c)}(t,e)})()}var y;return{query:function(e,n,r){var o=this;"function"==typeof n&&(r=n,n={}),n=n?function(t){return t.group_level=f(t.group_level),t.limit=f(t.limit),t.skip=f(t.skip),t}(n):{},"function"==typeof e&&(e={map:e});var i=Promise.resolve().then(function(){return function(e,n,r){if("function"==typeof e._query)return function(t,e,n){return new Promise(function(r,o){t._query(e,n,function(t,e){if(t)return o(t);r(e)})})}(e,n,r);if((0,Nv.Q1)(e))return function(t,e,n){var r,o,i,s=[],a="GET";if(l("reduce",n,s),l("include_docs",n,s),l("attachments",n,s),l("limit",n,s),l("descending",n,s),l("group",n,s),l("group_level",n,s),l("skip",n,s),l("stale",n,s),l("conflicts",n,s),l("startkey",n,s,!0),l("start_key",n,s,!0),l("endkey",n,s,!0),l("end_key",n,s,!0),l("inclusive_end",n,s),l("key",n,s,!0),l("update_seq",n,s),s=""===(s=s.join("&"))?"":"?"+s,void 0!==n.keys){var u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+s.length+1<=2e3?s+=("?"===s[0]?"&":"?")+u:(a="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var f=rk(e);return t.fetch("_design/"+f[0]+"/_view/"+f[1]+s,{headers:new cx({"Content-Type":"application/json"}),method:a,body:JSON.stringify(r)}).then(function(t){return o=t.ok,i=t.status,t.json()}).then(function(t){if(!o)throw t.status=i,(0,q_.G3)(t);return t.rows.forEach(function(t){if(t.value&&t.value.error&&"builtin_reduce_error"===t.value.error)throw new Error(t.reason)}),t}).then(c(n))}return r=r||{},Object.keys(e).forEach(function(t){r[t]=Array.isArray(e[t])?e[t]:e[t].toString()}),t.fetch("_temp_view"+s,{headers:new cx({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then(function(t){return o=t.ok,i=t.status,t.json()}).then(function(t){if(!o)throw t.status=i,(0,q_.G3)(t);return t}).then(c(n))}(e,n,r);if("string"!=typeof n)return h(r,n),nk.add(function(){return tk(e,"temp_view/temp_view",n.map,n.reduce,!0,t).then(function(t){return function(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}(m(t).then(function(){return v(t,r)}),function(){return t.db.destroy()})})}),nk.finish();var o=n,i=rk(o),s=i[1];return e.get("_design/"+i[0]).then(function(n){var i=n.views&&n.views[s];if(!i)throw new Wx("ddoc "+n._id+" has no view named "+s);return function(t,e){var n=t.views[e];if(!n.map||!n.map.fields)throw new Error("ddoc "+t._id+" with view "+e+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}(n,s),h(r,i),tk(e,o,i.map,i.reduce,!1,t).then(function(t){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&(0,Nv.Y3)(function(){m(t)}),v(t,r)):m(t).then(function(){return v(t,r)})})})}(o,e,n)});return Qx(i,r),i},viewCleanup:(y=function(){var t=this;return"function"==typeof t._viewCleanup?function(t){return new Promise(function(e,n){t._viewCleanup(function(t,r){if(t)return n(t);e(r)})})}(t):(0,Nv.Q1)(t)?function(t){return t.fetch("_view_cleanup",{headers:new cx({"Content-Type":"application/json"}),method:"POST"}).then(function(t){return t.json()})}(t):function(t){return t.get("_local/indexes").then(function(e){var n=new ox.D;Object.keys(e.views).forEach(function(t){var e=rk(t),r="_design/"+e[0],o=e[1],i=n.get(r);i||(i=new ox.l,n.set(r,i)),i.add(o)});var r={keys:Zx(n),include_docs:!0};return t.allDocs(r).then(function(r){var o={};r.rows.forEach(function(t){var r=t.key.substring(8);n.get(t.key).forEach(function(n){var i=r+"/"+n;e.views[i]||(i=n);var s=Object.keys(e.views[i]),a=t.doc&&t.doc.views&&t.doc.views[n];s.forEach(function(t){o[t]=o[t]||a})})});var i=Object.keys(o).filter(function(t){return!o[t]}).map(function(e){return Kx(p(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return Promise.all(i).then(function(){return{ok:!0}})})},d({ok:!0}))}(t)},sx()(function(t){var e=t.pop(),n=y.apply(this,t);return"function"==typeof e&&Qx(n,e),n}))}}("indexes");function bk(t){return t._customFindAbstractMapper||gk}function wk(t){return t.fields=t.fields.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t}),t}function _k(t,e){for(var n=[],r=0;r<e.def.fields.length;r++){var o=vx(e.def.fields[r]);n.push(t[o])}return n}function xk(t){return t.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(t){var e={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return e.indexes=pk(e.indexes,t.rows.filter(function(t){return"query"===t.doc.language}).map(function(t){return(void 0!==t.doc.views?Object.keys(t.doc.views):[]).map(function(e){return{ddoc:t.id,name:e,type:"json",def:wk(t.doc.views[e].options.def)}})})),e.indexes.sort(function(t,e){return hx(t.name,e.name)}),e.total_rows=e.indexes.length,e})}var kk=null,Sk={"\uffff":{}};const Ck={queryOpts:{limit:0,startkey:Sk,endkey:kk},inMemoryFields:[]};function Ok(t,e){for(var n=t.def.fields.map(vx),r=0,o=n.length;r<o;r++)if(e===n[r])return!0;return!1}function Ek(t,e){return"$eq"!==vx(t[e])}function Ak(t,e){var n=e.def.fields.map(vx);return t.slice().sort(function(t,e){var r=n.indexOf(t),o=n.indexOf(e);return-1===r&&(r=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),hx(r,o)})}function Mk(t,e,n,r){var o=pk(t,function(t,e,n){for(var r=!1,o=0,i=(n=Ak(n,t)).length;o<i;o++){var s=n[o];if(r||!Ok(t,s))return n.slice(o);o<i-1&&Ek(e,s)&&(r=!0)}return[]}(e,n,r),function(t){var e=[];return Object.keys(t).forEach(function(n){Object.keys(t[n]).forEach(function(t){"$ne"===t&&e.push(n)})}),e}(n));return Ak(function(t){for(var e={},n=0;n<t.length;n++)e["$"+t[n]]=!0;return Object.keys(e).map(function(t){return t.substring(1)})}(o),e)}var Tk=["$eq","$gt","$gte","$lt","$lte"];function jk(t){return-1===Tk.indexOf(t)}function Dk(t,e){switch(t){case"$eq":return{startkey:e,endkey:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function Pk(t,e){var n=t.selector,r=t.sort;if(function(t){return Object.keys(t).map(function(e){return t[e]}).some(function(t){return"object"==typeof t&&0===Object.keys(t).length})}(n))return(0,Nv.f0)({},Ck,{index:e[0]});var o=function(t,e){var n,r=Object.keys(t),o=e?e.map(vx):[];return n=r.length>=o.length?r:o,0===o.length?{fields:n}:{fields:n=n.sort(function(t,e){var n=o.indexOf(t);-1===n&&(n=Number.MAX_VALUE);var r=o.indexOf(e);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),sortOrder:e.map(vx)}}(n,r),i=o.fields,s=function(t,e,n,r,o){var i=function(t,e,n,r){return r.filter(function(r){return function(t,e,n,r){var o=t.def.fields.map(vx);return!!function(t,e,n){if(e){var r=!((i=e).length>(s=t).length)&&vk(i,s),o=vk(n,t);return r&&o}var i,s;return function(t,e){t=t.slice();for(var n=0,r=e.length;n<r;n++){var o=e[n];if(!t.length)break;var i=t.indexOf(o);if(-1===i)return!1;t.splice(i,1)}return!0}(n,t)}(o,e,n)&&function(t,e){var n=e[t[0]];return void 0===n||!(1===Object.keys(n).length&&"$ne"===vx(n))}(o,r)}(r,n,e,t)})}(t,e,n,r);if(0===i.length){if(o)throw{error:"no_usable_index",message:"There is no index available for this selector."};var s=r[0];return s.defaultUsed=!0,s}if(1===i.length&&!o)return i[0];var a=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n]]=!0;return e}(e);if(o){var u="_design/"+o[0],c=2===o.length&&o[1],l=i.find(function(t){return!(!c||t.ddoc!==u||c!==t.name)||t.ddoc===u});if(!l)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return l}return function(t,e){for(var n=null,r=-1,o=0,i=t.length;o<i;o++){var s=t[o],a=e(s);a>r&&(r=a,n=s)}return n}(i,function(t){for(var e=t.def.fields.map(vx),n=0,r=0,o=e.length;r<o;r++)a[e[r]]&&n++;return n})}(n,i,o.sortOrder,e,t.use_index),a=function(t,e){return e.defaultUsed?function(t){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(t)]}}(t):1===e.def.fields.length?function(t,e){var n,r=vx(e.def.fields[0]),o=t[r]||{},i=[];return Object.keys(o).forEach(function(t){jk(t)&&i.push(r);var e=function(t,e){switch(t){case"$eq":return{key:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}return{startkey:kk}}(t,o[t]);n=n?mk([n,e]):e}),{queryOpts:n,inMemoryFields:i}}(t,e):function(t,e){var n,r,o=e.def.fields.map(vx),i=[],s=[],a=[];function u(t){!1!==n&&s.push(kk),!1!==r&&a.push(Sk),i=o.slice(t)}for(var c=0,l=o.length;c<l;c++){var f=t[o[c]];if(!f||!Object.keys(f).length){u(c);break}if(Object.keys(f).some(jk)){u(c);break}if(c>0){var h="$gt"in f||"$gte"in f||"$lt"in f||"$lte"in f,d=Object.keys(t[o[c-1]]),p=yk(d,["$eq"]),m=yk(d,Object.keys(f));if(h&&!p&&!m){u(c);break}}for(var v=Object.keys(f),y=null,g=0;g<v.length;g++){var b=v[g],w=Dk(b,f[b]);y=y?mk([y,w]):w}s.push("startkey"in y?y.startkey:kk),a.push("endkey"in y?y.endkey:Sk),"inclusive_start"in y&&(n=y.inclusive_start),"inclusive_end"in y&&(r=y.inclusive_end)}var _={startkey:s,endkey:a};return void 0!==n&&(_.inclusive_start=n),void 0!==r&&(_.inclusive_end=r),{queryOpts:_,inMemoryFields:i}}(t,e)}(n,s);return{queryOpts:a.queryOpts,index:s,inMemoryFields:Mk(a.inMemoryFields,s,n,i)}}function Ik(t,e,n){var r,o;return e.selector&&(e.selector=_x(e.selector)),e.sort&&(e.sort=function(t){if(!Array.isArray(t))throw new Error("invalid sort json - should be an array");return t.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t})}(e.sort)),e.use_index&&(e.use_index=(o=[],"string"==typeof(r=e.use_index)?o.push(r):o=r,o.map(function(t){return t.replace("_design/","")}))),function(t){if("object"!=typeof t.selector)throw new Error("you must provide a selector when you find()")}(e),xk(t).then(function(r){t.constructor.emit("debug",["find","planning query",e]);var o=Pk(e,r.indexes);t.constructor.emit("debug",["find","query plan",o]);var i=o.index;!function(t,e){if(e.defaultUsed&&t.sort){var n=t.sort.filter(function(t){return"_id"!==Object.keys(t)[0]}).map(function(t){return Object.keys(t)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}}(e,i);var s=(0,Nv.f0)({include_docs:!0,reduce:!1,indexes_count:r.total_rows},o.queryOpts);return"startkey"in s&&"endkey"in s&&M_(s.startkey,s.endkey)>0?{docs:[]}:(e.sort&&"string"!=typeof e.sort[0]&&"desc"===yx(e.sort[0])&&(s.descending=!0,s=function(t){var e=(0,Nv.d9)(t);return delete e.startkey,delete e.endkey,delete e.inclusive_start,delete e.inclusive_end,"endkey"in t&&(e.startkey=t.endkey),"startkey"in t&&(e.endkey=t.startkey),"inclusive_start"in t&&(e.inclusive_end=t.inclusive_start),"inclusive_end"in t&&(e.inclusive_start=t.inclusive_end),e}(s)),o.inMemoryFields.length||("limit"in e&&(s.limit=e.limit),"skip"in e&&(s.skip=e.skip)),n?Promise.resolve(o,s):Promise.resolve().then(function(){if("_all_docs"===i.name)return function(t,e){var n=(0,Nv.d9)(e);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),n.limit>0&&n.indexes_count&&(n.original_limit=n.limit,n.limit+=n.indexes_count),t.allDocs(n).then(function(t){return t.rows=t.rows.filter(function(t){return!/^_design\//.test(t.id)}),n.original_limit&&(n.limit=n.original_limit),t.rows=t.rows.slice(0,n.limit),t})}(t,s);var e,n=(e=i).ddoc.substring(8)+"/"+e.name;return bk(t).query.call(t,n,s)}).then(function(t){!1===s.inclusive_start&&(t.rows=function(t,e,n){for(var r=n.def.fields,o=0,i=t.length;o<i;o++){var s=_k(t[o].doc,n);if(1===r.length)s=s[0];else for(;s.length>e.length;)s.pop();if(Math.abs(M_(s,e))>0)break}return o>0?t.slice(o):t}(t.rows,s.startkey,i)),o.inMemoryFields.length&&(t.rows=xx(t.rows,e,o.inMemoryFields));var n={docs:t.rows.map(function(t){var n=t.doc;return e.fields?function(t,e){for(var n={},r=0,o=e.length;r<o;r++){var i=dx(e[r]),s=lx(t,i);void 0!==s&&fx(n,i,s)}return n}(n,e.fields):n})};return i.defaultUsed&&(n.warning="No matching index found, create an index to optimize query time."),n}))})}var Rk=dk(function(t,e){e=ik(e);var n,r=(0,Nv.d9)(e.index);function o(){return n||(n=(0,Rv.$)(JSON.stringify(e)))}e.index=wk(e.index),function(t){var e=t.fields.filter(function(t){return"asc"===yx(t)});if(0!==e.length&&e.length!==t.fields.length)throw new Error("unsupported mixed sorting")}(e.index);var i=e.name||"idx-"+o(),s=e.ddoc||"idx-"+o(),a="_design/"+s,u=!1,c=!1;return t.constructor.emit("debug",["find","creating index",a]),(0,Nv.H)(t,a,function(t){return t._rev&&"query"!==t.language&&(u=!0),t.language="query",t.views=t.views||{},!(c=!!t.views[i])&&(t.views[i]={map:{fields:mk(e.index.fields)},reduce:"_count",options:{def:r}},t)}).then(function(){if(u)throw new Error('invalid language for ddoc with id "'+a+'" (should be "query")')}).then(function(){var e=s+"/"+i;return bk(t).query.call(t,e,{limit:0,reduce:!1}).then(function(){return{id:a,name:i,result:c?"exists":"created"}})})}),Nk=dk(Ik),Lk=dk(function(t,e){return Ik(t,e,!0).then(function(n){return{dbname:t.name,index:n.index,selector:e.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:e.use_index||[],bookmark:"nil",limit:e.limit,skip:e.skip,sort:e.sort||{},fields:e.fields,conflicts:!1,r:[49]},limit:e.limit,skip:e.skip||0,fields:e.fields}})}),$k=dk(xk),Fk=dk(function(t,e){if(!e.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!e.name)throw new Error("you must supply an index.name when deleting");var n=e.ddoc,r=e.name;return(0,Nv.H)(t,n,function(t){return 1===Object.keys(t.views).length&&t.views[r]?{_id:n,_deleted:!0}:(delete t.views[r],t)}).then(function(){return bk(t).viewCleanup.apply(t)}).then(function(){return{ok:!0}})}),Vk={};Vk.createIndex=(0,Nv.Vi)(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to create"));((0,Nv.Q1)(this)?ak:Rk)(this,t,e)}),Vk.find=(0,Nv.Vi)(function(t,e){if(void 0===e&&(e=t,t=void 0),"object"!=typeof t)return e(new Error("you must provide search parameters to find()"));((0,Nv.Q1)(this)?uk:Nk)(this,t,e)}),Vk.explain=(0,Nv.Vi)(function(t,e){if(void 0===e&&(e=t,t=void 0),"object"!=typeof t)return e(new Error("you must provide search parameters to explain()"));((0,Nv.Q1)(this)?ck:Lk)(this,t,e)}),Vk.getIndexes=(0,Nv.Vi)(function(t){((0,Nv.Q1)(this)?lk:$k)(this,t)}),Vk.deleteIndex=(0,Nv.Vi)(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to delete"));((0,Nv.Q1)(this)?fk:Fk)(this,t,e)});const Bk=Vk;var zk=!1,qk=new Map;function Uk(t){var e=[t.name,t.adapter].join("|"),n=qk.get(e);return n||(n={subject:new o.x,obliviousSet:new wb(6e4)},qk.set(e,n)),n}var Hk=0;function Wk(t){if(t.rxdb)throw yy("PL2",{plugin:t});"object"==typeof t&&t.default&&(t=t.default),qx.plugin(t)}Wk(Bk),function(){if(!zk){zk=!0;var t=qx.prototype.bulkDocs;qx.plugin({bulkDocs:function(){var e=xy(Sy().mark(function e(n,r,o){var i,s,a,u,c,l,f,h=this;return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Vv(),s=Hk++,"function"==typeof r&&(o=r,r={}),r||(r={}),Array.isArray(n)?a=n:void 0===n?a=[]:(a=n.docs,n.hasOwnProperty("new_edits")&&(r.new_edits=n.new_edits)),0!==a.length){e.next=7;break}throw vy("SNH",{args:{body:n,options:r}});case 7:if(u=new Map,!r.hasOwnProperty("new_edits")||!1!==r.new_edits){e.next=18;break}return c=a.map(function(t){return t._id}),e.next=12,this.changes({live:!1,since:0,doc_ids:c,style:"all_docs"});case 12:return l=e.sent,e.next=15,Promise.all(l.results.map(function(){var t=xy(Sy().mark(function t(e){return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.get(e.id,{rev:e.changes[0].rev,deleted:"ok",revs:!!r.set_new_edit_as_latest_revision,style:"all_docs"});case 2:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 15:e.sent.forEach(function(t){return u.set(t._id,t)}),r.set_new_edit_as_latest_revision&&a.forEach(function(t){var e=u.get(t._id);if(e){var n=t._rev.split("-"),r=parseInt(n[0],10),o=n[1];t._revisions={start:r,ids:e._revisions.ids},t._revisions.ids.unshift(o),delete e._revisions}});case 18:return(f=Gv(r)).isDeeper=!0,e.abrupt("return",t.call(this,a,f,function(t,e){if(t){if(!o)throw t;o(t)}else{if(!r.isDeeper){var n=Vv(),c={emitId:s,writeDocs:a,writeOptions:r,writeResult:e,previousDocs:u,startTime:i,endTime:n};Uk(h).subject.next(c)}if(!o)return e;o(null,e)}}));case 21:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()})}}();var Jk=qx;Wk(function(t){t.replicate=Y_,t.sync=tx,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(e,n,r){return t.constructor.replicate(e,t,n,r)},to:function(e,n,r){return t.constructor.replicate(t,e,n,r)}}),this.replicateMethods}}),t.prototype.sync=function(t,e,n){return this.constructor.sync(this,t,e,n)}});var Qk=new WeakSet,Kk=function(){function t(t,e){var n=this;this._subs=[],this._subjects={change:new o.x,docs:new o.x,denied:new o.x,active:new pc.X(!1),complete:new pc.X(!1),alive:new pc.X(!1),error:new o.x},this.canceled=!1,this.collection=t,this.syncOptions=e,Object.keys(this._subjects).forEach(function(t){Object.defineProperty(n,t+"$",{get:function(){return this._subjects[t].asObservable()}})})}var e=t.prototype;return e.awaitInitialReplication=function(){if(this.syncOptions.options&&this.syncOptions.options.live)throw vy("RC4",{database:this.collection.database.name,collection:this.collection.name});if(this.collection.database.multiInstance&&this.syncOptions.waitForLeadership)throw vy("RC5",{database:this.collection.database.name,collection:this.collection.name});return(0,fg.z)(this.complete$.pipe((0,Oc.h)(function(t){return!!t})))},e.cancel=function(){return this.canceled?Promise.resolve(!1):(this.canceled=!0,this.collection._repStates.delete(this),this._pouchEventEmitterObject&&this._pouchEventEmitterObject.cancel(),this._subs.forEach(function(t){return t.unsubscribe()}),Promise.resolve(!0))},t}();function Gk(t,e){if(t._pouchEventEmitterObject)throw vy("RC1");function n(t){var e=t.state;return e||(e=[t.pull.state,t.push.state].reduce(function(t,e){return"active"===t||"active"===e?"active":"stopped"===t?t:e},"")),"active"===e?zv(15).then(function(){return n(t)}):Promise.resolve("stopped"!==e)}t._pouchEventEmitterObject=e,t._subs.push((0,nx.R)(e,"change").subscribe(function(e){t._subjects.change.next(e)})),t._subs.push((0,nx.R)(e,"denied").subscribe(function(e){return t._subjects.denied.next(e)})),t._subs.push((0,nx.R)(e,"change").subscribe(function(e){0!==t._subjects.docs.observers.length&&"pull"===e.direction&&e.change.docs.filter(function(t){return"query"!==t.language}).map(function(e){return Hy(t.collection,e)}).forEach(function(e){return t._subjects.docs.next(e)})})),t._subs.push((0,nx.R)(e,"error").subscribe(function(e){return t._subjects.error.next(e)})),t._subs.push((0,nx.R)(e,"active").subscribe(function(){return t._subjects.active.next(!0)})),t._subs.push((0,nx.R)(e,"paused").subscribe(function(){return t._subjects.active.next(!1)})),t._subs.push((0,nx.R)(e,"complete").subscribe(function(){var e=xy(Sy().mark(function e(n){return Sy().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zv(100);case 2:t._subjects.complete.next(n);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())),t.syncOptions.options&&t.syncOptions.options.live||t._subs.push(t.complete$.pipe((0,Oc.h)(function(t){return!!t}),(0,Tc.P)(),(0,jc.z)(function(){return t.collection.database.requestIdlePromise().then(function(){return t.cancel()})})).subscribe()),t._subs.push((0,nx.R)(e,"paused").pipe((0,rx.u)((0,nx.R)(e,"active"))).subscribe(function(){n(t._pouchEventEmitterObject).then(function(e){return t._subjects.alive.next(e)})}))}function Zk(t){var e=this,n=t.remote,r=t.waitForLeadership,o=void 0===r||r,i=t.direction,s=void 0===i?{pull:!0,push:!0}:i,a=t.options,u=void 0===a?{live:!0,retry:!0}:a,c=t.query,l=Gv(u);if(n instanceof qx&&Qk.has(n))throw vy("RC3",{database:this.database.name,collection:this.name});if(ab(n)&&(n=n.storageInstance.internals.pouch),c&&this!==c.collection)throw vy("RC2",{query:c});var f=function(t,e){var n=e.pull,r=void 0===n||n,o=e.push,i=void 0===o||o;if(r&&i)return t.sync.bind(t);if(!r&&i)return t.replicate.to.bind(t);if(r&&!i)return t.replicate.from.bind(t);if(!r&&!i)throw vy("UT3",{pull:r,push:i})}(this.storageInstance.internals.pouch,s);c&&(l.selector=c.toJSON().selector);var h=new Kk(this,{remote:n,waitForLeadership:o,direction:s,options:u,query:c});return(o&&this.database.multiInstance?this.database.waitForLeadership():zv(0)).then(function(){if(!e.destroyed&&!h.canceled){var t=f(n,l);Gk(h,t),e._repStates.add(h)}}),h}var Xk={name:"replication-couchdb",rxdb:!0,prototypes:{RxCollection:function(t){t.syncCouchDB=Zk}},hooks:{createRxCollection:function(t){t.storageInstance.internals.pouch&&Qk.add(t.storageInstance.internals.pouch)}}};function Yk(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,r={name:this.name,instanceToken:this.token,encrypted:!1,passwordHash:null,collections:[]};this.password&&(r.passwordHash=$v(this.password),r.encrypted=!e);var o=Object.keys(this.collections).filter(function(t){return!n||n.includes(t)}).filter(function(t){return"_"!==t.charAt(0)}).map(function(e){return t.collections[e]});return Promise.all(o.map(function(t){return t.exportJSON(e)})).then(function(t){return r.collections=t,r})}var tS=function(t){var e=this,n=t.collections.filter(function(t){return!e.collections[t.name]}).map(function(t){return t.name});if(n.length>0)throw vy("JD1",{missingCollections:n});return Promise.all(t.collections.map(function(t){return e.collections[t.name].importJSON(t)}))},eS=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!t,n={name:this.name,schemaHash:this.schema.hash,encrypted:!1,passwordHash:null,docs:[]};this.database.password&&e&&(n.passwordHash=$v(this.database.password),n.encrypted=!0);var r=Hg("find",qg(this),this);return this._queryStorageInstance(r,void 0,e).then(function(t){return n.docs=t.map(function(t){return delete t._rev,delete t._attachments,t}),n})};function nS(t){var e=this;if(t.schemaHash!==this.schema.hash)throw vy("JD2",{schemaHash:t.schemaHash,own:this.schema.hash});if(t.encrypted&&t.passwordHash!==$v(this.database.password))throw vy("JD3",{passwordHash:t.passwordHash,own:$v(this.database.password)});var n=t.docs.map(function(t){return e._crypter.decrypt(t)}).map(function(t){return e.schema.validate(t)});return this.database.lockedRun(function(){Vv();var t=n.map(function(t){return{document:Uy(e,t)}});return e.storageInstance.bulkWrite(t)})}var rS={name:"json-dump",rxdb:!0,prototypes:{RxDatabase:function(t){t.exportJSON=Yk,t.importJSON=tS},RxCollection:function(t){t.exportJSON=eS,t.importJSON=nS}},overwritable:{}};function oS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var iS=n(9918),sS="_local/",aS="_design/",uS=new Set,cS=function(){function t(t,e,n,r){this.changes$=new o.x,this.databaseName=t,this.collectionName=e,this.internals=n,this.options=r,uS.add(this)}var e=t.prototype;return e.close=function(){return uS.delete(this),Promise.resolve()},e.remove=function(){var t=xy(Sy().mark(function t(){return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.internals.pouch.destroy();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.bulkWrite=function(){var t=xy(Sy().mark(function t(e){var n,r,o,i,s,a,u=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}throw vy("P2",{args:{documentWrites:e}});case 2:return n=new Map,r=e.map(function(t){n.set(t.document._id,t);var e=Gv(t.document);return e._id=sS+e._id,t.previous&&(e._rev=t.previous._rev),e}),o=Vv(),t.next=7,this.internals.pouch.bulkDocs(r);case 7:return i=t.sent,s=Vv(),a={success:new Map,error:new Map},i.forEach(function(t){t.id=t.id.substring(sS.length);var e=ry(n,t.id);if(t.error)a.error.set(t.id,{isError:!0,status:409,documentId:t.id,writeRow:e});else{var r,i=Gv(e.document);if(i._rev=t.rev,i._attachments={},a.success.set(t.id,i),e.previous)if(e.document._deleted){var c=Gv(e.previous);c._rev=t.rev,r={operation:"DELETE",doc:null,id:t.id,previous:c}}else r={operation:"UPDATE",doc:i,id:t.id,previous:e.previous};else r={operation:"INSERT",doc:i,id:t.id,previous:null};if(!e.document._deleted||e.previous&&!e.previous._deleted){var l="DELETE"===r.operation?r.previous:r.doc,f=wS(!0,l._id,l._rev?l._rev:"");u.changes$.next({eventId:f,documentId:t.id,change:r,startTime:o,endTime:s})}}}),t.abrupt("return",a);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.findLocalDocumentsById=function(){var t=xy(Sy().mark(function t(e){var n,r=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Map,t.next=3,Promise.all(e.map(function(){var t=xy(Sy().mark(function t(e){var o,i;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=sS+e,t.prev=1,t.next=4,r.internals.pouch.get(o);case 4:(i=t.sent)._id=e,n.set(e,i),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.changeStream=function(){return this.changes$.asObservable()},t}(),lS=function(){function t(t,e,n,r,i){var s=this;this.changes$=new o.x,this.subs=[],this.databaseName=t,this.collectionName=e,this.schema=n,this.internals=r,this.options=i,uS.add(this),this.primaryPath=og(this.schema.primaryKey);var a=Uk(this.internals.pouch);this.emittedEventIds=a.obliviousSet;var u=a.subject.subscribe(function(){var t=xy(Sy().mark(function t(e){var n,r;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.writeOptions.hasOwnProperty("new_edits")||e.writeOptions.new_edits){t.next=4;break}return t.next=3,Promise.all(e.writeDocs.map(function(){var t=xy(Sy().mark(function t(n){var r,o,i;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n._id,n=yS(s.primaryPath,n),t.next=4,hS(n._attachments);case 4:if(n._attachments=t.sent,(o=e.previousDocs.get(r))&&(o=yS(s.primaryPath,o)),!(o&&Yv(o._rev)>Yv(n._rev))){t.next=9;break}return t.abrupt("return");case 9:if(o||!n._deleted){t.next=11;break}return t.abrupt("return");case 11:if(!(o&&o._deleted&&n._deleted)){t.next=13;break}return t.abrupt("return");case 13:if(o||n._deleted){t.next=17;break}i={operation:"INSERT",doc:n,id:r,previous:null},t.next=27;break;case 17:if(!n._deleted||!o||o._deleted){t.next=22;break}o._rev=n._rev,i={operation:"DELETE",doc:null,id:r,previous:o},t.next=27;break;case 22:if(!o){t.next=26;break}i={operation:"UPDATE",doc:n,id:r,previous:o},t.next=27;break;case 26:throw vy("SNH",{args:{writeDoc:n}});case 27:s.addEventToChangeStream(i,e.startTime,e.endTime);case 28:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return");case 4:if(e.writeOptions.custom){t.next=10;break}return n=new Map,e.writeDocs.forEach(function(t){return n.set(t._id,t)}),t.next=9,Promise.all(e.writeResult.map(function(){var t=xy(Sy().mark(function t(e){var r,o,i;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.id).startsWith(aS)&&!r.startsWith(sS)){t.next=3;break}return t.abrupt("return");case 3:return o=ry(n,e.id),t.next=6,hS(o._attachments);case 6:o._attachments=t.sent,(o=Gv(o))._rev=e.rev,i=_S(s.primaryPath,o),s.addEventToChangeStream(i);case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 9:return t.abrupt("return");case 10:return r=e.writeOptions.custom.writeRowById,t.next=13,Promise.all(e.writeResult.map(function(){var t=xy(Sy().mark(function t(n){var o,i,a,u,c;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.error){t.next=2;break}return t.abrupt("return");case 2:return i=ry(r,o=n.id),a=yS(s.primaryPath,i.document),t.next=7,hS(a._attachments);case 7:if(a._attachments=t.sent,a._rev=n.rev,i.previous){t.next=13;break}u={operation:"INSERT",doc:a,id:o,previous:null},t.next=23;break;case 13:if(!i.document._deleted){t.next=22;break}return c=yS(s.primaryPath,i.previous),t.next=17,hS(c._attachments);case 17:c._attachments=t.sent,c._rev=n.rev,u={operation:"DELETE",doc:null,id:n.id,previous:c},t.next=23;break;case 22:u={operation:"UPDATE",doc:a,id:n.id,previous:i.previous};case 23:(!i.document._deleted||i.previous&&!i.previous._deleted)&&s.addEventToChangeStream(u,e.startTime,e.endTime);case 24:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());this.subs.push(u)}var e=t.prototype;return e.addEventToChangeStream=function(t,e,n){var r="DELETE"===t.operation?t.previous:t.doc,o=og(this.schema.primaryKey),i=r[o];if(!i)throw console.log("----"),console.dir(this.schema),console.dir(t),console.dir(r),new Error("primary missing ("+o+")");var s=wS(!1,i,r._rev);this.emittedEventIds.has(s)||(this.emittedEventIds.add(s),this.changes$.next({eventId:s,documentId:i,change:t,startTime:e,endTime:n}))},e.close=function(){return this.subs.forEach(function(t){return t.unsubscribe()}),uS.delete(this),Promise.resolve()},e.remove=function(){var t=xy(Sy().mark(function t(){return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.internals.pouch.destroy();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.getSortComparator=function(t){var e,n=og(this.schema.primaryKey),r=t.sort?t.sort:[(e={},e[this.primaryPath]="asc",e)],o=_x(t.selector),i=Object.keys(t.selector);return function(t,e){var s=[t,e].map(function(t){var e=Gv(t),r=e[n];return delete e[n],e._id=r,{doc:e}});return xx(s,{selector:o,sort:r},i)[0].doc._id===s[0].doc._id?-1:1}},e.getQueryMatcher=function(t){var e=this,n=_x(t.selector);return function(r){var o=xx([{doc:bS(e.primaryPath,r)}],{selector:n},Object.keys(t.selector));return o&&1===o.length}},e.prepareQuery=function(t){var e=this,n=og(this.schema.primaryKey),r=t;if(r.sort&&r.sort.forEach(function(t){var n=Object.keys(t)[0],o=["$gt","$gte","$lt","$lte"];if(!r.selector[n]||!Object.keys(r.selector[n]).some(function(t){return o.includes(t)})){var i=Zy(e.schema,n);if(!i)throw vy("QU5",{key:n});switch(r.selector[n]||(r.selector[n]={}),i.type){case"number":case"integer":r.selector[n].$gt=-1e28;break;case"string":"string"!=typeof r.selector[n]&&(r.selector[n].$gt="");break;default:r.selector[n].$gt=null}}}),r.selector[n]&&r.selector[n].$regex)throw vy("QU4",{path:n,query:t});if(r.sort){var o=r.sort.map(function(t){var e,r=Object.keys(t)[0],o=Object.values(t)[0];return(e={})[r===n?"_id":r]=o,e});r.sort=o}return Object.entries(r.selector).forEach(function(t){var e=t[0],n=t[1];"object"!=typeof n||null===n||Array.isArray(n)||0!==Object.keys(n).length||delete r.selector[e]}),r.selector=xS(r.selector,this.primaryPath),r},e.bulkAddRevisions=function(){var t=xy(Sy().mark(function t(e){var n,r=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}throw vy("P3",{args:{documents:e}});case 2:return n=e.map(function(t){return bS(r.primaryPath,t)}),t.next=5,this.internals.pouch.bulkDocs(n,{new_edits:!1,set_new_edit_as_latest_revision:!0});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.bulkWrite=function(){var t=xy(Sy().mark(function t(e){var n,r,o,i,s=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}throw vy("P2",{args:{documentWrites:e}});case 2:return n=new Map,r=e.map(function(t){n.set(t.document[s.primaryPath],t);var e=gS(s.primaryPath,t.document);return t.previous&&(e._rev=t.previous._rev),e}),t.next=6,this.internals.pouch.bulkDocs(r,{custom:{writeRowById:n}});case 6:return o=t.sent,i={success:new Map,error:new Map},t.next=10,Promise.all(o.map(function(){var t=xy(Sy().mark(function t(e){var r,o;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ry(n,e.id),!e.error){t.next=6;break}i.error.set(e.id,{isError:!0,status:409,documentId:e.id,writeRow:r}),t.next=18;break;case 6:if(o=Gv(r.document),(o=vS(s.primaryPath,o))._rev=e.rev,o._attachments={},r.document._attachments){t.next=14;break}r.document._attachments={},t.next=17;break;case 14:return t.next=16,hS(r.document._attachments);case 16:o._attachments=t.sent;case 17:i.success.set(e.id,o);case 18:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 10:return t.next=12,zv(0).then(function(){return zv(0)});case 12:return t.abrupt("return",i);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.query=function(){var t=xy(Sy().mark(function t(e){var n,r=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.internals.pouch.find(e);case 2:return n={documents:t.sent.docs.map(function(t){return yS(r.primaryPath,t)})},t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getAttachmentData=function(){var t=xy(Sy().mark(function t(e,n){return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.internals.pouch.getAttachment(e,n);case 2:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),e.findDocumentsById=function(){var t=xy(Sy().mark(function t(e,n){var r,o,i,s,a=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=8;break}return t.next=3,this.internals.pouch.changes({live:!1,since:0,doc_ids:e,style:"all_docs"});case 3:return r=t.sent,o=new Map,t.next=7,Promise.all(r.results.map(function(){var t=xy(Sy().mark(function t(e){var n;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.internals.pouch.get(e.id,{rev:e.changes[0].rev,deleted:"ok",style:"all_docs"});case 2:n=yS(a.primaryPath,t.sent),o.set(e.id,n);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 7:return t.abrupt("return",o);case 8:return t.next=10,this.internals.pouch.allDocs({include_docs:!0,keys:e});case 10:return i=t.sent,s=new Map,i.rows.filter(function(t){return!!t.doc}).forEach(function(t){var e=t.doc;e=yS(a.primaryPath,e),s.set(t.id,e)}),t.abrupt("return",s);case 14:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),e.changeStream=function(){return this.changes$.asObservable()},e.getChangedDocuments=function(){var t=xy(Sy().mark(function t(e){var n,r,o;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={live:!1,limit:e.limit,include_docs:!1,since:e.startSequence,descending:"desc"===e.order},t.next=3,this.internals.pouch.changes(n);case 3:return o=(r=t.sent).results.filter(function(t){return!t.id.startsWith(aS)}).map(function(t){return{id:t.id,sequence:t.seq}}),t.abrupt("return",{changedDocuments:o,lastSequence:r.last_seq});case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),t}(),fS=function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="pouchdb",this.adapter=t,this.pouchSettings=e,pS(t)}var e=t.prototype;return e.hash=function(t){return mS(t)},e.createPouch=function(){var t=xy(Sy().mark(function t(e,n){var r,o,i;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={location:e,adapter:(s=this.adapter,a=void 0,a={db:s},"string"==typeof s&&(a={adapter:s}),a),settings:n},o=Object.assign({},r.adapter,this.pouchSettings,r.settings),i=new Jk(r.location,o),t.abrupt("return",i);case 4:case"end":return t.stop()}var s,a},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),e.createStorageInstance=function(){var t=xy(Sy().mark(function t(e){var n,r;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=CS(e.databaseName,e.collectionName,e.schema.version),t.next=3,this.createPouch(n,e.options);case 3:return r=t.sent,t.next=6,kS(r,e.schema);case 6:return t.abrupt("return",new lS(e.databaseName,e.collectionName,e.schema,{pouch:r},e.options));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.createKeyObjectStorageInstance=function(){var t=xy(Sy().mark(function t(e,n,r){var o,i;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(o=Gv(r)).auto_compaction=!1,o.revs_limit=1,i=CS(e,n,0),t.next=6,this.createPouch(i,r);case 6:return t.abrupt("return",new cS(e,n,{pouch:t.sent},r));case 8:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),t}();function hS(t){return dS.apply(this,arguments)}function dS(){return(dS=xy(Sy().mark(function t(e){var n;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",{});case 2:return n={},t.next=5,Promise.all(Object.entries(e).map(function(){var t=xy(Sy().mark(function t(e){var r,o,i,s;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[0],(o=e[1]).type){t.next=3;break}throw vy("SNH",{args:{obj:o}});case 3:if(!o.data){t.next=15;break}return i=o,t.next=7,mS(i.data);case 7:return s=t.sent,t.next=10,iy(i.data);case 10:n[r]={digest:s,length:t.sent.length,type:i.type},t.next=16;break;case 15:n[r]=o;case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pS(t){if("string"==typeof t){if(!Jk.adapters||!Jk.adapters[t])throw vy("DB9",{adapter:t})}else if(function(t){if(!t||"function"!=typeof t.super_)throw vy("UT4",{adapter:t})}(t),!Jk.adapters||!Jk.adapters.leveldb)throw vy("DB10",{adapter:t})}function mS(t){return new Promise(function(e){(0,Rv.u)(t,function(t){e("md5-"+t)})})}function vS(t,e){return"_id"===t||e[t]||((e=Gv(e))[t]=e._id,delete e._id),e}function yS(t,e){var n=vS(t,e);return delete(n=Gv(n))._revisions,n._attachments={},e._attachments&&Object.entries(e._attachments).forEach(function(t){var e=t[1];n._attachments[t[0]]=e.data?{data:e.data,type:e.type?e.type:e.content_type}:{digest:e.digest,type:e.type?e.type:e.content_type,length:e.length}}),n}function gS(t,e){var n=bS(t,e);return(n=Gv(n))._attachments={},e._attachments&&Object.entries(e._attachments).forEach(function(t){var e=t[1];n._attachments[t[0]]=e.data?{data:e.data,content_type:e.type}:{digest:e.digest,content_type:e.type,length:e.length,stub:!0}}),n}function bS(t,e){if("_id"===t)return e;var n={};return Object.entries(e).forEach(function(e){n[e[0]===t?"_id":e[0]]=e[1]}),n}function wS(t,e,n){if(!e)throw new Error("primary missing !!");return(t?"local":"non-local")+"|"+e+"|"+n}function _S(t,e){if(!e)throw vy("SNH",{args:{pouchDoc:e}});var n=e._id,r=yS(t,e),o=Yv(r._rev);return e._deleted?{operation:"DELETE",id:n,doc:null,previous:r}:1===o?{operation:"INSERT",id:n,doc:r,previous:null}:{operation:"UPDATE",id:n,doc:r,previous:"UNKNOWN"}}function xS(t,e){if("_id"===e)return t;if(Array.isArray(t))return t.map(function(t){return xS(t,e)});if("object"==typeof t){var n={};return Object.entries(t).forEach(function(t){var r=t[0],o=t[1];r===e?n._id=o:n[r]=r.startsWith("$")?xS(o,e):o}),n}return t}function kS(t,e){return SS.apply(this,arguments)}function SS(){return(SS=xy(Sy().mark(function t(e,n){var r,o;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.indexes){t.next=2;break}return t.abrupt("return");case 2:return r=og(n.primaryKey),t.next=5,e.getIndexes();case 5:return o=new Set(t.sent.indexes.map(function(t){return t.name})),t.next=9,Promise.all(n.indexes.map(function(){var t=xy(Sy().mark(function t(n){var i,s;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(i=Array.isArray(n)?n:[n]).map(function(t){return t===r?"_id":t}),s="idx-rxdb-index-"+i.join(","),!o.has(s)){t.next=5;break}return t.abrupt("return");case 5:return t.abrupt("return",e.createIndex({name:s,ddoc:s,index:{fields:i}}));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function CS(t,e,n){var r=t+"-rxdb-"+n+"-";if(e.includes("/")){var o=e.split("/"),i=o.pop();return o.join("/")+"/"+r+i}return r+e}function OS(t,e){if(!t)throw new Error("adapter missing");return new fS(t,e)}var ES=new WeakMap,AS=new WeakMap,MS={new_edits:!0},TS={new_edits:!1},jS=function(t){function e(e,n){var r,i;(r=t.call(this,e.database,e.name,((i=Kv(e.schema.jsonSchema)).keyCompression=!1,delete i.properties._rev,delete i.properties._attachments,function t(e,n){delete e.encrypted,Object.values(e).filter(function(t){return"object"==typeof t}).forEach(function(e){return t(e,n)})}(i,i),ug(i)),n,{},e._methods)||this)._eventCounter=0,r.parentCollection=e,r.pouchSettings=n,r._isInMemory=!0,e.onDestroy.then(function(){return r.destroy()}),r._crypter=lg(r.database.password,r.schema),r._changeStreams=[],r.onDestroy.then(function(){r._changeStreams.forEach(function(t){return t.cancel()}),r.storageInstance.internals.pouch.destroy()}),r.options=e.options,Object.entries(e.statics).forEach(function(t){var e=t[0],n=t[1];Object.defineProperty(oS(r),e,{get:function(){return n.bind(oS(r))}})}),r._observable$=new o.x,r._changeEventBuffer=Zg(oS(r));var s=Object.getPrototypeOf(e);return r._oldPouchPut=s._pouchPut.bind(oS(r)),r._nonPersistentRevisions=new Set,r._nonPersistentRevisionsSubject=new o.x,r}ay(e,t);var n=e.prototype;return n.prepareChild=function(){var t,e,n=this;return(t=this.schema,e=this.storageInstance.internals.pouch,Promise.all(t.indexes.map(function(t){var n="idx-rxdb-"+t.join(",");return e.createIndex({ddoc:n,name:n,index:{fields:t}})}))).then(function(){n._subs.push(n._observable$.subscribe(function(t){var e=n._docCache.get(t.documentId);e&&e._handleChangeEvent(t)}))}).then(function(){return e=n,(t=n.parentCollection).storageInstance.internals.pouch.allDocs({attachments:!1,include_docs:!0}).then(function(n){var r=n.rows.map(function(t){return t.doc}).filter(function(t){return!t.language}).map(function(e){return Hy(t,e)}).map(function(e){return bS(t.schema.primaryPath,e)});return 0===r.length?Promise.resolve([]):e.storageInstance.internals.pouch.bulkDocs({docs:r},TS).then(function(){return r})});var t,e}).then(function(){var t=DS(n).pipe((0,jc.z)(function(t){return PS(n.parentCollection,t).then(function(){return t._rev})})).subscribe(function(t){n._nonPersistentRevisions.delete(t),n._nonPersistentRevisionsSubject.next(n._nonPersistentRevisions.size)});n._subs.push(t);var e=DS(n.parentCollection).subscribe(function(t){return PS(n,t)});n._subs.push(e)})},n.awaitPersistence=function(){var t=this;return 0===this._nonPersistentRevisions.size?Promise.resolve():(0,fg.z)(this._nonPersistentRevisionsSubject.pipe((0,Oc.h)(function(){return 0===t._nonPersistentRevisions.size})))},n._pouchPut=function(t,e){var n=this;return this._oldPouchPut(t,e).then(function(t){return n._nonPersistentRevisions.add(t.rev),t})},n.$emit=function(t){var e=Oy(t);this._changeEventBuffer.hasChangeWithRevision(e&&e._rev)||(this._observable$.next(t),this._eventCounter++,10===this._eventCounter&&(this._eventCounter=0,this.storageInstance.internals.pouch.compact()))},n.syncCouchDB=function(){throw vy("IM2")},e}(ob);function DS(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return!0};t._doNotEmitSet||(t._doNotEmitSet=new Set);var n=(0,nx.R)(t.storageInstance.internals.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").pipe((0,iS.g)(0),(0,_c.U)(function(t){return t[0]}),(0,Oc.h)(function(e){return!t._doNotEmitSet.has(e.id+":"+e.doc._rev)}),(0,Oc.h)(function(t){return e(t)}),(0,_c.U)(function(e){return Hy(t,e.doc)}),(0,_c.U)(function(e){return vS(t.schema.primaryPath,e)}));return n}function PS(t,e){t._doNotEmitSet||(t._doNotEmitSet=new Set);var n=t.schema.primaryPath,r=Uy(t,e);return r=bS(n,r),t.storageInstance.internals.pouch.get(r._id).then(function(t){return r._rev=t._rev}).catch(function(){delete r._rev}).then(function(){return t.storageInstance.internals.pouch.bulkDocs({docs:[r]},MS)}).then(function(e){if(e.length>0&&!e[0].ok)throw new Error(JSON.stringify(e[0]));var n=r._id+":"+e[0].rev;return t._doNotEmitSet.add(n),setTimeout(function(){return t._doNotEmitSet.delete(n)},3e4),r})}var IS=!1;function RS(){return NS.apply(this,arguments)}function NS(){return(NS=xy(Sy().mark(function t(){var e,n,r=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(IS){t.next=4;break}if(IS=!0,Jk.adapters&&Jk.adapters.memory){t.next=4;break}throw vy("IM1");case 4:if(!ES.has(this)){t.next=6;break}return t.abrupt("return",AS.get(this).then(function(){return ES.get(r)}));case 6:return e=new jS(this),t.next=9,LS(e);case 9:return n=e.prepareChild(),ES.set(this,e),AS.set(this,n),t.abrupt("return",n.then(function(){return e}));case 13:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function LS(t){return $S.apply(this,arguments)}function $S(){return($S=xy(Sy().mark(function t(e){var n;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=OS("memory",{}),t.next=3,n.createStorageInstance({databaseName:"rxdb-in-memory",collectionName:Qv(10),schema:e.schema.jsonSchema,options:e.pouchSettings});case 3:e.storageInstance=t.sent,e.pouch=e.storageInstance.internals.pouch;case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}var FS={name:"in-memory",rxdb:!0,prototypes:{RxCollection:function(t){t.inMemory=RS}}};function VS(t){if(!t.collection.schema.jsonSchema.attachments)throw vy("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}var BS=function(){function t(t){var e,n=t.id,r=t.type,o=t.length,i=t.digest;this.doc=t.doc,this.id=n,this.type=r,this.length=o,this.digest=i,e=this,Object.entries(e.doc.collection.attachments).forEach(function(t){var n=t[1];Object.defineProperty(e,t[0],{get:function(){return n.bind(e)}})})}var e=t.prototype;return e.remove=function(){var t=xy(Sy().mark(function t(){var e=this;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.doc._atomicQueue=this.doc._atomicQueue.then(xy(Sy().mark(function t(){var n,r,o;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Gv(e.doc._data))._attachments=Gv(n._attachments),delete n._attachments[e.id],t.next=5,Ry(e.doc.collection.storageInstance,{previous:Uy(e.doc.collection,Gv(e.doc._data)),document:Uy(e.doc.collection,n)});case 5:r=t.sent,(o=Gv(e.doc._data))._rev=r._rev,o._attachments=r._attachments,e.doc._dataSync$.next(o);case 10:case"end":return t.stop()}},t)}))),t.abrupt("return",this.doc._atomicQueue);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.getData=function(){var t=xy(Sy().mark(function t(){var e,n;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id);case 2:if(e=t.sent,!qS(this.doc.collection.schema)){t.next=11;break}return t.next=6,iy(e);case 6:return n=oy(this.doc.collection._crypter._decryptString(t.sent),this.type),t.abrupt("return",n);case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.getStringData=function(){return this.getData().then(function(t){return iy(t)})},t}();function zS(t,e,n){return new BS({doc:n,id:t,type:e.type,length:e.length,digest:e.digest})}function qS(t){return!(!t.jsonSchema.attachments||!t.jsonSchema.attachments.encrypted)}function US(t){return HS.apply(this,arguments)}function HS(){return(HS=xy(Sy().mark(function t(e){var n,r,o,i,s,a,u=this,c=arguments;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.id,r=e.data,i=void 0===(o=e.type)?"text/plain":o,s=!(c.length>1&&void 0!==c[1])||c[1],VS(this),!qS(this.collection.schema)){t.next=9;break}return t.next=6,iy(r);case 6:a=this.collection._crypter._encryptString(t.sent),r=oy(a,"text/plain");case 9:return this._atomicQueue=this._atomicQueue.then(xy(Sy().mark(function t(){var e,o,a,c,l,f,h;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s&&u._data._attachments&&u._data._attachments[n])){t.next=7;break}return e=u._data._attachments[n],t.next=4,u.collection.database.storage.hash(r);case 4:if(o=t.sent,e.type!==i||e.digest!==o){t.next=7;break}return t.abrupt("return",u.getAttachment(n));case 7:return(a=Gv(u._data))._attachments=Gv(a._attachments),a._attachments[n]={type:i,data:r},c={previous:Uy(u.collection,Gv(u._data)),document:Uy(u.collection,Gv(a))},t.next=13,Ry(u.collection.storageInstance,c);case 13:return f=zS(n,(l=t.sent)._attachments[n],u),(h=Gv(u._data))._rev=l._rev,h._attachments=l._attachments,u._dataSync$.next(h),t.abrupt("return",f);case 21:case"end":return t.stop()}},t)}))),t.abrupt("return",this._atomicQueue);case 11:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function WS(t){VS(this);var e=this._dataSync$.getValue();return e._attachments&&e._attachments[t]?zS(t,e._attachments[t],this):null}function JS(){var t=this;VS(this);var e=this._dataSync$.getValue();return e._attachments?Object.keys(e._attachments).map(function(n){return zS(n,e._attachments[n],t)}):[]}function QS(){return(QS=xy(Sy().mark(function t(e){var n,r,o;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.docData._attachments)){t.next=7;break}return r=!!qS(e.oldCollection.schema),o={},t.next=6,Promise.all(Object.keys(n).map(function(){var t=xy(Sy().mark(function t(i){var s,a,u;return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=n[i],a=e.docData[e.oldCollection.schema.primaryPath],t.next=4,e.oldCollection.storageInstance.getAttachmentData(a,i);case 4:if(u=t.sent,!r){t.next=9;break}return t.next=8,iy(u).then(function(t){return oy(e.oldCollection._crypter._decryptString(t),s.type)});case 8:u=t.sent;case 9:o[i]={type:s.type,data:u};case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 6:e.docData._attachments=o;case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function KS(){return(KS=xy(Sy().mark(function t(e){return Sy().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}var GS={name:"attachments",rxdb:!0,prototypes:{RxDocument:function(t){t.putAttachment=US,t.getAttachment=WS,t.allAttachments=JS,Object.defineProperty(t,"allAttachments$",{get:function(){var t=this;return this._dataSync$.pipe((0,_c.U)(function(t){return t._attachments?t._attachments:{}}),(0,_c.U)(function(t){return Object.entries(t)}),(0,_c.U)(function(e){return e.map(function(e){return zS(e[0],e[1],t)})}))}})}},overwritable:{},hooks:{preMigrateDocument:function(t){return QS.apply(this,arguments)},postMigrateDocument:function(t){return KS.apply(this,arguments)}}},ZS=new WeakMap,XS=function(t){return ZS.has(t)||ZS.set(t,Kg()),ZS.get(t)},YS=new WeakMap,tC=function(t){function e(e,n,r){var o;return(o=t.call(this,null,n)||this).id=e,o.parent=r,o}return ay(e,t),e}(tg());function eC(t){return t.localDocumentsStore}var nC={get isLocal(){return!0},_handleChangeEvent:function(t){if(t.documentId===this.primary)switch(t.operation){case"UPDATE":this._dataSync$.next(t.documentData);break;case"DELETE":XS(this.parent).delete(this.primary),this._isDeleted$.next(!0)}},get allAttachments$(){throw vy("LD1",{document:this})},get primaryPath(){return"id"},get primary(){return this.id},get $(){return this._dataSync$.asObservable()},$emit:function(t){return this.parent.$emit(t)},get:function(t){if(this._data){if("string"!=typeof t)throw yy("LD2",{objPath:t});var e=Av().get(this._data,t);return hy.deepFreezeWhenDevMode(e)}},get$:function(t){if(t.includes(".item."))throw vy("LD3",{path:t});if(t===this.primaryPath)throw vy("LD4");return this._dataSync$.pipe((0,_c.U)(function(e){return Av().get(e,t)}),(0,Cy.x)())},set:function(t,e){if(!e){var n=Gv(t);return n._rev=this._data._rev,this._data=n,this}if("_id"===t)throw vy("LD5",{objPath:t,value:e});if(!Object.is(this.get(t),e))return Av().set(this._data,t,e),this},_saveData:function(t){var e=this._dataSync$.getValue(),n=eC(this.parent);return t._id=this.id,n.bulkWrite([{previous:e,document:t}]).then(function(e){var n=e.success.get(t._id);if(!n)throw ry(e.error,t._id);t._rev=n._rev})},remove:function(){var t=this;return Ly(eC(this.parent),{previous:this._data,document:{_id:this.id,_deleted:!0,_attachments:{}}}).then(function(){XS(t.parent).delete(t.id)})}},rC=!1;function oC(t,e){var n=this;return ab(this)&&this._isInMemory?this.parentCollection.insertLocal(t,e):this.getLocal(t).then(function(r){if(r)throw vy("LD7",{id:t,data:e});return(e=Gv(e))._id=t,Ly(eC(n),{document:e}).then(function(r){return e._rev=r._rev,tC.create(t,e,n)})})}function iC(t,e){var n=this;return ab(this)&&this._isInMemory?this._parentCollection.upsertLocal(t,e):this.getLocal(t).then(function(r){return r?(e._rev=r._data._rev,r.atomicUpdate(function(){return e}).then(function(){return r})):n.insertLocal(t,e)})}function sC(t){var e=this;if(ab(this)&&this._isInMemory)return this.parentCollection.getLocal(t);var n=eC(this),r=XS(this).get(t);return r?Promise.resolve(r):Fy(n,t).then(function(n){return n?tC.create(t,n,e):null}).catch(function(){return null})}function aC(t){var e=this;return this.$.pipe((0,Sc.O)(null),(0,jc.z)(function(){var n=xy(Sy().mark(function n(r){return Sy().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=4;break}return n.abrupt("return",{changeEvent:r});case 4:return n.next=6,e.getLocal(t);case 6:return n.abrupt("return",{doc:n.sent});case 8:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()),(0,jc.z)(function(){var n=xy(Sy().mark(function n(r){var o;return Sy().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.changeEvent){n.next=12;break}if((o=r.changeEvent).isLocal&&o.documentId===t){n.next=6;break}return n.abrupt("return",{use:!1});case 6:return n.next=8,e.getLocal(t);case 8:return n.abrupt("return",{use:!0,doc:n.sent});case 10:n.next=13;break;case 12:return n.abrupt("return",{use:!0,doc:r.doc});case 13:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()),(0,Oc.h)(function(t){return t.use}),(0,_c.U)(function(t){return t.doc}))}tC.create=function(t,e,n){(function(){if(!rC){rC=!0;var t=Yy;Object.getOwnPropertyNames(t).forEach(function(e){if(!Object.getOwnPropertyDescriptor(nC,e)){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(nC,e,n)}}),["populate","update","putAttachment","getAttachment","allAttachments"].forEach(function(t){return nC[t]=function(t){return function(){throw vy("LD6",{functionName:t})}}(t)})}})(),function(t){if(!YS.has(t)){var e=t.$.pipe((0,Oc.h)(function(t){return t.isLocal})).subscribe(function(e){var n=XS(t).get(e.documentId);n&&n._handleChangeEvent(e)});t._subs.push(e),YS.set(t,e)}YS.get(t)}(n);var r=new tC(t,e,n);return r.__proto__=nC,XS(n).set(t,r),r};var uC={name:"local-documents",rxdb:!0,prototypes:{RxCollection:function(t){t.insertLocal=oC,t.upsertLocal=iC,t.getLocal=sC,t.getLocal$=aC},RxDatabase:function(t){t.insertLocal=oC,t.upsertLocal=iC,t.getLocal=sC,t.getLocal$=aC}},overwritable:{}},cC=["__proto__","constructor","prototype"];function lC(t,e){Object.keys(e).forEach(function(n){cC.includes(n)||(void 0===t[n]?t[n]=e[n]:fC(e[n])?lC(t[n],e[n]):t[n]=e[n])})}function fC(t){return"[object Object]"===t.toString()}var hC=function(){function t(t){if(this.options={},this._conditions={},this._fields={},t){var e=this;t.selector&&e.find(t.selector),t.limit&&e.limit(t.limit),t.skip&&e.skip(t.skip),t.sort&&t.sort.forEach(function(t){return e.sort(t)})}}var e=t.prototype;return e.where=function(t,e){if(!arguments.length)return this;var n=typeof arguments[0];if("string"===n)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===n&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw yy("MQ1",{path:arguments[0]})},e.equals=function(t){return this._ensurePath("equals"),this._conditions[this._path]=t,this},e.eq=function(t){return this._ensurePath("eq"),this._conditions[this._path]=t,this},e.or=function(t){var e=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},e.nor=function(t){var e=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},e.and=function(t){var e=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},e.mod=function(t,e){var n,r;1===arguments.length?(this._ensurePath("mod"),n=arguments[0],r=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(n=arguments.slice(1),r=arguments[0]):(n=arguments[1],r=arguments[0]):(this._ensurePath("mod"),n=arguments.slice(),r=this._path);var o=this._conditions[r]||(this._conditions[r]={});return o.$mod=n,this},e.exists=function(t,e){var n,r;0===arguments.length?(this._ensurePath("exists"),n=this._path,r=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),n=this._path,r=arguments[0]):(n=arguments[0],r=!0):2===arguments.length&&(n=arguments[0],r=arguments[1]);var o=this._conditions[n]||(this._conditions[n]={});return o.$exists=r,this},e.elemMatch=function(e,n){if(null===arguments[0])throw yy("MQ2");var r,o,i;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),o=this._path,r=arguments[0];else if(fC(arguments[0]))this._ensurePath("elemMatch"),o=this._path,i=arguments[0];else if("function"==typeof arguments[1])o=arguments[0],r=arguments[1];else{if(!arguments[1]||!fC(arguments[1]))throw yy("MQ2");o=arguments[0],i=arguments[1]}r&&(r(i=new t),i=i._conditions);var s=this._conditions[o]||(this._conditions[o]={});return s.$elemMatch=i,this},e.sort=function(t){var e,n=this;if(!t)return this;var r=typeof t;if(Array.isArray(t)){e=t.length;for(var o=0;o<t.length;++o)vC(this.options,t[o][0],t[o][1]);return this}if(1===arguments.length&&"string"===r){e=(t=t.split(/\s+/)).length;for(var i=0;i<e;++i){var s=t[i];if(s){var a="-"===s[0]?-1:1;-1===a&&(s=s.substring(1)),mC(this.options,s,a)}}return this}if(fC(t)){var u=Object.keys(t);return u.forEach(function(e){return mC(n.options,e,t[e])}),this}throw yy("MQ3",{args:arguments})},e.merge=function(e){if(!e)return this;if(!yC(e))throw yy("MQ4",{source:e});return e instanceof t?(e._conditions&&lC(this._conditions,e._conditions),e._fields&&(this._fields||(this._fields={}),lC(this._fields,e._fields)),e.options&&(this.options||(this.options={}),lC(this.options,e.options)),e._distinct&&(this._distinct=e._distinct),this):(lC(this._conditions,e),this)},e.find=function(t){return yC(t)&&this.merge(t),this},e._ensurePath=function(t){if(!this._path)throw vy("MQ5",{method:t})},e.toJSON=function(){var t={selector:this._conditions};return this.options.skip&&(t.skip=this.options.skip),this.options.limit&&(t.limit=this.options.limit),this.options.sort&&(t.sort=Object.entries(this.options.sort).map(function(t){var e;return(e={})[t[0]]=1===t[1]?"asc":"desc",e})),{query:t,path:this._path}},t}(),dC=["limit","skip","maxScan","batchSize","comment"];dC.forEach(function(t){hC.prototype[t]=function(e){return this.options[t]=e,this}});var pC=["gt","gte","lt","lte","ne","in","nin","all","regex","size"];function mC(t,e,n){if(Array.isArray(t.sort))throw yy("MQ6",{opts:t,field:e,value:n});if(n&&n.$meta)(t.sort||(t.sort={}))[e]={$meta:n.$meta};else{var r=String(n||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(r))throw Array.isArray(n)&&(n="["+n+"]"),yy("MQ7",{field:e,value:n});var o=t.sort||(t.sort={}),i=n.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");o[e]=parseInt(i,10)}}function vC(t,e,n){if(t.sort=t.sort||[],!Array.isArray(t.sort))throw yy("MQ8",{opts:t,field:e,value:n});t.sort.push([e,n])}function yC(t){return t instanceof hC||fC(t)}function gC(t,e){t[e]=function(t){return function(t,e,n){var r,o=(r=Kv(t.mangoQuery),new hC(r));t.other.queryBuilderPath&&(o._path=t.other.queryBuilderPath),o[e](n);var i=o.toJSON(),s=new zg(t.op,i.query,t.collection);return i.path&&(s.other.queryBuilderPath=i.path),Ug(s)}(this,e,t)}}pC.forEach(function(t){hC.prototype[t]=function(){var e,n;1===arguments.length?(this._ensurePath(t),n=arguments[0],e=this._path):(n=arguments[1],e=arguments[0]);var r=null===this._conditions[e]||"object"==typeof this._conditions[e]?this._conditions[e]:this._conditions[e]={};return r["$"+t]=n,this}});var bC={name:"query-builder",rxdb:!0,prototypes:{RxQuery:function(t){["where","equals","eq","or","nor","and","mod","exists","elemMatch","sort"].forEach(function(e){gC(t,e)}),dC.forEach(function(e){gC(t,e)}),pC.forEach(function(e){gC(t,e)})}}},wC=!1;function _C(t){return wC||(wC=!0,ew(dw),ew(bw),ew(Nw),ew(Yw),ew(v_),ew(k_),ew(A_),ew(Xk),ew(rS),ew(FS),ew(GS),ew(uC),ew(bC)),function(t){var e=t.storage,n=t.instanceCreationOptions,r=t.name,o=t.password,i=t.multiInstance,s=void 0===i||i,a=t.eventReduce,u=void 0!==a&&a,c=t.ignoreDuplicate,l=void 0!==c&&c,f=t.options,h=void 0===f?{}:f;by("preCreateRxDatabase",{storage:e,instanceCreationOptions:n,name:r,password:o,multiInstance:s,eventReduce:u,ignoreDuplicate:l,options:h}),o&&hy.validatePassword(o),l||function(t){if(zb.has(t))throw vy("DB8",{name:t,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}(r),zb.add(r);var d=new qb(r,e,n,o,s,u,h);return function(t){return Zb.apply(this,arguments)}(d).then(function(){return wy("createRxDatabase",d)}).then(function(){return d})}(t)}function xC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}class kC extends class{}{constructor(t={}){var e,n;super(),this.id=t.id||xC(),this.name=t.name,this.internalid=t.internalid,this.pplink=t.pplink,this.actors=(null===(e=t.actors)||void 0===e?void 0:e.slice().map(wv.clone))||[],this.recette_date=t.recette_date,this.prod_date=t.prod_date,this.description=t.description,this.reports=(null===(n=t.reports)||void 0===n?void 0:n.slice().map(wv.clone))||[]}toObject(){return wv.pick(this,t=>!wv.isUndefined(t))}}function SC(){return{id:xC(),internalid:"1734",name:"Affichage mode connect\xe9",pplink:"",actors:[],recette_date:"30/10/2021",prod_date:"24/11/2021",description:"description du projet",reports:[]}}const CC={title:"project schema",description:"describes a project",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string"},name:{type:"string"},internalid:{type:"string"},pplink:{type:"string"},actors:{type:"array",items:{type:"object",properties:{name:{type:"string"},dga:{type:"string"},comment:{type:"string"}}}},recette_date:{type:"string"},prod_date:{type:"string"},description:{type:"string"},reports:{type:"array",items:{type:"object",properties:{id:{type:"string"},title:{type:"string"},content:{type:"string"},date:{type:"string"}}}}},required:["id"]};let OC,EC=(()=>{class t{constructor(){}getProject(t){return OC.projects.findOne({selector:{id:t}}).exec().then(t=>new kC(t))}getProjects$(){return OC.projects.find().$.pipe((0,_c.U)(t=>t.map(t=>new kC(t))))}getProjects(){return OC.projects.find().exec().then(t=>t.map(t=>new kC(t)))}deleteProject(t){return OC.projects.findOne({selector:{id:t.id}}).remove()}saveProject(t){return OC.projects.atomicUpsert(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),AC=null;function MC(){return TC.apply(this,arguments)}function TC(){return(TC=xv(function*(){Wk(n(3169));let t=yield _C({name:"projectmanagerdb",storage:OS("indexeddb"),multiInstance:!1});OC=yield t.addCollections({projects:{schema:CC}}),0===(yield OC.projects.find().exec()).length&&(yield t.projects.insert(SC()))})).apply(this,arguments)}function jC(){return(jC=xv(function*(t){AC||(AC=MC()),yield AC,console.log("DB INIT --\x3e ok");let e=yield OC.projects.find().exec().then(t=>t.map(t=>new kC(t)));yield t.init(e)})).apply(this,arguments)}let DC=(()=>{class t{constructor(t,e,n){this.route=t,this.db=e,this.router=n}ngOnInit(){let t=this.router.url,e=t.substr(wv.lastIndexOf(t,"/")+1,t.length);localStorage.setItem("PM_PROJECT_PATH",e),this.routesub=this.route.parent.data.subscribe(t=>{this.project=t.project})}save(){console.log("Saving project",this.project),this.db.saveProject(this.project.toObject()),console.log("Done!")}ngOnDestroy(){var t;null===(t=this.routesub)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ho(Ul),Ho(EC),Ho(dh))},t.\u0275dir=ot({type:t}),t})();var PC=n(5999),IC=n(2681);let RC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(Bi),Ho($i))},t.\u0275dir=ot({type:t}),t})(),NC=(()=>{class t extends RC{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Je(t)))(n||t)}}(),t.\u0275dir=ot({type:t,features:[Do]}),t})();const LC=new Xe("NgValueAccessor"),$C={provide:LC,useExisting:p(()=>VC),multi:!0},FC=new Xe("CompositionEventMode");let VC=(()=>{class t extends RC{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=ru()?ru().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(Bi),Ho($i),Ho(FC,8))},t.\u0275dir=ot({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&ti("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[ji([$C]),Do]}),t})();const BC=new Xe("NgValidators"),zC=new Xe("NgAsyncValidators");function qC(t){return null!=t}function UC(t){const e=Xo(t)?(0,hc.D)(t):t;return Yo(e),e}function HC(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function WC(t,e){return e.map(e=>e(t))}function JC(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function QC(t){return null!=t?function(t){if(!t)return null;const e=t.filter(qC);return 0==e.length?null:function(t){return HC(WC(t,e))}}(JC(t)):null}function KC(t){return null!=t?function(t){if(!t)return null;const e=t.filter(qC);return 0==e.length?null:function(t){const n=WC(t,e).map(UC);return(0,IC.D)(n).pipe((0,_c.U)(HC))}}(JC(t)):null}function GC(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let ZC=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=QC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=KC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ot({type:t}),t})(),XC=(()=>{class t extends ZC{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Je(t)))(n||t)}}(),t.\u0275dir=ot({type:t,features:[Do]}),t})();class YC extends ZC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let tO=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(YC,2))},t.\u0275dir=ot({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&si("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[Do]}),t})();function eO(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function nO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oO="VALID",iO="INVALID",sO="PENDING",aO="DISABLED";function uO(t){return(hO(t)?t.validators:t)||null}function cO(t){return Array.isArray(t)?QC(t):t||null}function lO(t,e){return(hO(e)?e.asyncValidators:t)||null}function fO(t){return Array.isArray(t)?KC(t):t||null}function hO(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class dO{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=cO(this._rawValidators),this._composedAsyncValidatorFn=fO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===oO}get invalid(){return this.status===iO}get pending(){return this.status==sO}get disabled(){return this.status===aO}get enabled(){return this.status!==aO}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=cO(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=fO(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=sO,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=aO,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=oO,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==oO&&this.status!==sO||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aO:oO}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=sO,this._hasOwnPendingAsyncValidator=!0;const e=UC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof mO?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof vO&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Vs,this.statusChanges=new Vs}_calculateStatus(){return this._allControlsDisabled()?aO:this.errors?iO:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sO)?sO:this._anyControlsHaveStatus(iO)?iO:oO}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class pO extends dO{constructor(t=null,e,n){super(uO(e),lO(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){rO(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){rO(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class mO extends dO{constructor(t,e,n){super(uO(e),lO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof pO?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class vO extends dO{constructor(t,e,n){super(uO(e),lO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof pO?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const yO={provide:YC,useExisting:p(()=>bO)},gO=(()=>Promise.resolve(null))();let bO=(()=>{class t extends YC{constructor(t,e,n,r){super(),this.control=new pO,this._registered=!1,this.update=new Vs,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,o;return Array.isArray(e),e.forEach(t=>{t.constructor===VC?n=t:Object.getPrototypeOf(t.constructor)===NC?r=t:o=t}),o||r||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(GC(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(GC(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();eO(e._rawValidators,o),eO(e._rawAsyncValidators,o)})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&nO(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&nO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){gO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;gO.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Ho(XC,9),Ho(BC,10),Ho(zC,10),Ho(LC,10))},t.\u0275dir=ot({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ji([yO]),Do,yt]}),t})(),wO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=nt({type:t}),t.\u0275inj=x({}),t})(),_O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=nt({type:t}),t.\u0275inj=x({imports:[[wO]]}),t})(),xO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=nt({type:t}),t.\u0275inj=x({imports:[_O]}),t})(),kO=(()=>{class t{constructor(){this.textChange=new Vs,this.placeholder="",this.onFinished=new Vs,this.enterPressed=new Vs,this.saveSub=new o.x}ngOnInit(){this.saveSub.pipe((0,PC.b)(500)).subscribe(()=>{this.onFinished.emit(this.text)})}onEnter(t){this.enterPressed.emit(this.text)}onChange(t){this.textChange.emit(this.text),this.saveSub.next()}ngOnDestroy(){this.saveSub.complete(),this.saveSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=X({type:t,selectors:[["editable-text"]],inputs:{text:"text",custom:"custom",placeholder:"placeholder"},outputs:{textChange:"textChange",onFinished:"onFinished",enterPressed:"enterPressed"},decls:3,vars:3,consts:[[1,"relative","group","text-myblue","w-full"],["type","text",1,"w-full","pl-4","py-2","cursor-pointer","rounded-sm","ring-1","ring-gray-200","hover:ring-gray-300","focus:ring-primary","focus:ring-2","focus:outline-none","focus:shadow-md",3,"ngModel","placeholder","ngClass","ngModelChange","keyup","keydown.enter"],[1,"group-hover:opacity-100","text-primary","opacity-0","fas","fa-pen","absolute","top-1/2","right-4","transform","-translate-y-1/2"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"input",1),ti("ngModelChange",function(t){return e.text=t})("keyup",function(t){return e.onChange(t)})("keydown.enter",function(t){return e.onEnter(t)}),Ko(),Go(2,"i",2),Ko()),2&t&&(br(1),Wo("ngModel",e.text)("placeholder",e.placeholder)("ngClass",e.custom))},directives:[VC,tO,bO,Cu],styles:[""]}),t})();function SO(t,e){1&t&&Go(0,"i",3),2&t&&Wo("ngClass",ri().icon)}function CO(t,e){if(1&t&&(Qo(0,"span",4),fi(1),Ko()),2&t){const t=ri();br(1),hi(t.text)}}let OO=(()=>{class t{constructor(){this.onClick=new Vs}ngOnInit(){}emit(){this.onClick.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=X({type:t,selectors:[["action-button"]],inputs:{text:"text",icon:"icon",custom:"custom"},outputs:{onClick:"onClick"},decls:3,vars:3,consts:[[1,"cursor-pointer","shadow-md","bg-secondary","px-4","py-2","rounded-md","text-white","hover:bg-secondary",3,"ngClass","click"],["class","fas",3,"ngClass",4,"ngIf"],["class","ml-2",4,"ngIf"],[1,"fas",3,"ngClass"],[1,"ml-2"]],template:function(t,e){1&t&&(Qo(0,"button",0),ti("click",function(){return e.emit()}),qo(1,SO,1,1,"i",1),qo(2,CO,2,1,"span",2),Ko()),2&t&&(Wo("ngClass",e.custom),br(1),Wo("ngIf",e.icon),br(1),Wo("ngIf",e.text))},directives:[Cu,Mu],styles:[""]}),t})();function EO(t,e){if(1&t){const t=Zo();Qo(0,"tr"),Qo(1,"td",12),Qo(2,"editable-text",20),ti("textChange",function(t){return e.$implicit.name=t})("onFinished",function(){return Vt(t),ri().save()}),Ko(),Ko(),Qo(3,"td",12),Qo(4,"editable-text",20),ti("textChange",function(t){return e.$implicit.dga=t})("onFinished",function(){return Vt(t),ri().save()}),Ko(),Ko(),Qo(5,"td",12),Qo(6,"editable-text",20),ti("textChange",function(t){return e.$implicit.comment=t})("onFinished",function(){return Vt(t),ri().save()}),Ko(),Ko(),Qo(7,"td",21),Qo(8,"i",22),ti("click",function(){const e=Vt(t).index;return ri().delete(e)}),Ko(),Ko(),Ko()}if(2&t){const t=e.$implicit;br(2),Wo("text",t.name),br(2),Wo("text",t.dga),br(2),Wo("text",t.comment)}}let AO=(()=>{class t extends DC{constructor(){super(...arguments),this.sortAttribute="name",this.sortOrder=1,this.newactor={name:"",dga:"",comment:""}}add(){(this.newactor.name||this.newactor.dga)&&(this.project.actors.push({name:this.newactor.name,dga:this.newactor.dga,comment:this.newactor.comment}),this.newactor=wv.mapObject(this.newactor,()=>""),this.save())}delete(t){this.project.actors.splice(t,1),this.save()}sortBy(t,e){this.sortAttribute=t,this.sortOrder*=-1,e&&e.classList.toggle("rotate-180"),this.sort()}sort(){this.project.actors.sort((t,e)=>"name"===this.sortAttribute?t.name?e.name?t.name.localeCompare(e.name)*this.sortOrder:1*this.sortOrder:-1*this.sortOrder:"dga"===this.sortAttribute?t.dga?e.dga?t.dga.localeCompare(e.dga)*this.sortOrder:1*this.sortOrder:-1*this.sortOrder:t.name.localeCompare(e.name))}copyAll(){let t="";for(let e of this.project.actors)t+=`${e.name};`;navigator.clipboard.writeText(t).then(()=>{console.log("Written into clipbaord!")})}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Je(t)))(n||t)}}(),t.\u0275cmp=X({type:t,selectors:[["app-actors"]],features:[Do],decls:30,vars:4,consts:[[1,"p-12","w-full","h-full","bg-white"],[1,"text-4xl","font-bold","text-darker","mb-12"],[1,"w-full","mr-auto"],[1,"w-full","border-collapse","table-fixed"],[1,"font-normal","text-primary","relative","table-cell","cursor-pointer","w-96",3,"click"],[1,"fas","fa-caret-up","absolute","right-4","top-1/2","transform","-translate-y-1/2","transition-transform"],["caretname",""],[1,"font-normal","text-primary","relative","table-cell","w-64","cursor-pointer",3,"click"],["caretdga",""],[1,"font-normal","text-primary","relative","table-cell","cursor-pointer"],[1,"w-20"],[4,"ngFor","ngForOf"],[1,"table-cell","px-1","py-1"],["placeholder","Nom",3,"text","textChange","enterPressed"],["placeholder","DGA",3,"text","textChange","enterPressed"],[3,"text","textChange","enterPressed"],[1,"text-gray-400","mt-8","mb-4"],[1,"flex","flex-row","mb-2"],[1,"w-52","pl-4","flex","items-center","justify-start"],["text","Copier les noms","icon","fa-copy","custom","!bg-accent",3,"onClick"],[3,"text","textChange","onFinished"],[1,"px-4","py-1","text-center"],[1,"fas","fa-times-circle","text-xl","text-red-500","mx-2","cursor-pointer",3,"click"]],template:function(t,e){if(1&t){const t=Zo();Qo(0,"div",0),Qo(1,"h1",1),fi(2,"Acteurs"),Ko(),Qo(3,"div",2),Qo(4,"table",3),Qo(5,"thead"),Qo(6,"th",4),ti("click",function(){Vt(t);const n=Uo(9);return e.sortBy("name",n)}),fi(7," Nom "),Go(8,"i",5,6),Ko(),Qo(10,"th",7),ti("click",function(){Vt(t);const n=Uo(13);return e.sortBy("dga",n)}),fi(11," DGA "),Go(12,"i",5,8),Ko(),Qo(14,"th",9),fi(15," Commentaire "),Ko(),Go(16,"th",10),Ko(),Qo(17,"tbody"),qo(18,EO,9,3,"tr",11),Qo(19,"tr"),Qo(20,"td",12),Qo(21,"editable-text",13),ti("textChange",function(t){return e.newactor.name=t})("enterPressed",function(){return e.add()}),Ko(),Ko(),Qo(22,"td",12),Qo(23,"editable-text",14),ti("textChange",function(t){return e.newactor.dga=t})("enterPressed",function(){return e.add()}),Ko(),Ko(),Qo(24,"td",12),Qo(25,"editable-text",15),ti("textChange",function(t){return e.newactor.comment=t})("enterPressed",function(){return e.add()}),Ko(),Ko(),Ko(),Ko(),Ko(),Go(26,"h2",16),Qo(27,"div",17),Qo(28,"div",18),Qo(29,"action-button",19),ti("onClick",function(){return e.copyAll()}),Ko(),Ko(),Ko(),Ko(),Ko()}2&t&&(br(18),Wo("ngForOf",e.project.actors),br(3),Wo("text",e.newactor.name),br(2),Wo("text",e.newactor.dga),br(2),Wo("text",e.newactor.comment))},directives:[Eu,kO,OO],styles:[""]}),t})(),MO=(()=>{class t{get nativeWindow(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=_({factory:function(){return new t},token:t,providedIn:"root"}),t})(),TO=(()=>{class t{constructor(t,e,n){this.element=t,this._window=e,this._zone=n,this.onlyGrow=!1,this.useImportant=!1,this.resized=new Vs,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style.overflow="hidden",this._onTextAreaFound())}set minRows(t){this._minRows=t,this.textAreaEl&&(this.textAreaEl.rows=t)}onInput(t){this.adjust()}ngOnDestroy(){this._destroyed=!0,this._windowResizeHandler&&this._window.nativeWindow.removeEventListener("resize",this._windowResizeHandler,!1)}ngAfterContentChecked(){this.adjust()}ngOnChanges(t){this.adjust(!0)}_findNestedTextArea(){this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style.overflow="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(()=>{this._findNestedTextArea()},100))}_onTextAreaFound(){this._addWindowResizeHandler(),setTimeout(()=>{this.adjust()})}_addWindowResizeHandler(){this._windowResizeHandler=function(t,e,n=!1){let r;return function(){const o=this,i=arguments,s=function(){r=null,n||t.apply(o,i)},a=n&&!r;clearTimeout(r),r=setTimeout(s,e),a&&t.apply(o,i)}}(()=>{this._zone.run(()=>{this.adjust()})},200),this._zone.runOutsideAngular(()=>{this._window.nativeWindow.addEventListener("resize",this._windowResizeHandler,!1)})}adjust(t=!1){if(!this._destroyed&&this.textAreaEl&&this.textAreaEl.parentNode){const e=this.textAreaEl.value;if(!1===t&&e===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=e,this._oldWidth=this.textAreaEl.offsetWidth;const n=this.textAreaEl.cloneNode(!0),r=this.textAreaEl.parentNode;n.style.width=this.textAreaEl.offsetWidth+"px",n.style.visibility="hidden",n.style.position="absolute",n.textContent=e,r.appendChild(n),n.style.overflow="hidden",n.style.height="auto";let o=n.scrollHeight,i=this._window.nativeWindow.getComputedStyle(n,null);o+=parseInt(i.getPropertyValue("border-top-width")),o+=parseInt(i.getPropertyValue("border-bottom-width")),o+=parseInt(i.getPropertyValue("padding-top")),o+=parseInt(i.getPropertyValue("padding-bottom"));const s=this.textAreaEl.offsetHeight,a=o>s;if(!1===this.onlyGrow||a){const t=this._getLineHeight(),e=o/t;if(this._minRows&&this._minRows>=e)o=this._minRows*t;else if(this.maxRows&&this.maxRows<=e){const e=this.maxRows*t;o=this.onlyGrow?Math.max(e,s):e,this.textAreaEl.style.overflow="auto"}else this.textAreaEl.style.overflow="hidden";this.textAreaEl.style.setProperty("height",o+"px",this.useImportant?"important":""),this.resized.emit(o)}r.removeChild(n)}}_getLineHeight(){let t=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(t)&&this._window.nativeWindow.getComputedStyle){const e=this._window.nativeWindow.getComputedStyle(this.textAreaEl);t=parseInt(e.lineHeight,10)}if(isNaN(t)){const e=this._window.nativeWindow.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");t=Math.floor(1.5*parseInt(e.replace("px",""),10))}return t}}return t.\u0275fac=function(e){return new(e||t)(Ho($i),Ho(MO),Ho(Oa))},t.\u0275dir=ot({type:t,selectors:[["","autosize",""]],hostBindings:function(t,e){1&t&&ti("input",function(t){return e.onInput(t.target)})},inputs:{onlyGrow:"onlyGrow",useImportant:"useImportant",minRows:"minRows",maxRows:"maxRows"},outputs:{resized:"resized"},features:[yt]}),t})(),jO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=nt({type:t}),t.\u0275inj=x({providers:[MO],imports:[[]]}),t})(),DO=(()=>{class t{constructor(){this.textChange=new Vs,this.placeholder="",this.onFinished=new Vs,this.saveSub=new o.x}ngOnInit(){this.saveSub.pipe((0,PC.b)(500)).subscribe(()=>{this.onFinished.emit()})}onChange(t){this.textChange.emit(this.text),this.saveSub.next()}ngOnDestroy(){this.saveSub.complete(),this.saveSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=X({type:t,selectors:[["editable-area"]],inputs:{text:"text",custom:"custom",placeholder:"placeholder"},outputs:{textChange:"textChange",onFinished:"onFinished"},decls:3,vars:3,consts:[[1,"relative","group","text-myblue","w-full"],["type","text","autosize","",1,"w-full","pl-4","py-2","cursor-pointer","rounded-sm","ring-1","ring-gray-200","hover:ring-gray-300","focus:ring-primary","focus:ring-2","focus:outline-none","focus:shadow-md",3,"ngModel","placeholder","ngClass","ngModelChange","keyup"],[1,"group-hover:opacity-100","text-primary","opacity-0","fas","fa-pen","absolute","top-1/2","right-4","transform","-translate-y-1/2"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"textarea",1),ti("ngModelChange",function(t){return e.text=t})("keyup",function(t){return e.onChange(t)}),Ko(),Go(2,"i",2),Ko()),2&t&&(br(1),Wo("ngModel",e.text)("placeholder",e.placeholder)("ngClass",e.custom))},directives:[VC,TO,tO,bO,Cu],styles:[""]}),t})(),PO=(()=>{class t extends DC{delete(){window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce projet ?")&&this.db.deleteProject(this.project).then(()=>this.db.getProjects()).then(t=>{console.log("data ici",t),this.router.navigate(["projects",t[0].id])})}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Je(t)))(n||t)}}(),t.\u0275cmp=X({type:t,selectors:[["app-general-information"]],features:[Do],decls:44,vars:7,consts:[[1,"p-12","w-full","h-full","bg-white"],[1,"text-4xl","font-bold","text-darker","mb-12"],[1,"w-5/6","mr-auto"],[1,"flex","flex-row","mb-2"],[1,"w-52","pl-4","flex","items-center","justify-start"],[1,"w-full"],["placeholder","ID",3,"text","textChange","onFinished"],["placeholder","Nom",3,"text","textChange","onFinished"],[1,"w-[calc(100%-4rem)]"],["placeholder","Lien vers le portefeuille projet",3,"text","textChange","onFinished"],["target","_blank",1,"w-16","flex","items-center","justify-center","cursor-pointer",3,"href"],[1,"fas","fa-external-link-alt"],[1,"text-gray-400","mt-8","mb-4"],["placeholder","Date de la recette",3,"text","textChange","onFinished"],["placeholder","Date de VP",3,"text","textChange","onFinished"],[3,"text","textChange","onFinished"],["text","Supprimer",3,"onClick"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"h1",1),fi(2,"Informations G\xe9n\xe9rales"),Ko(),Qo(3,"div",2),Qo(4,"div",3),Qo(5,"div",4),fi(6,"Identifiant projet"),Ko(),Qo(7,"div",5),Qo(8,"editable-text",6),ti("textChange",function(t){return e.project.internalid=t})("onFinished",function(){return e.save()}),Ko(),Ko(),Ko(),Qo(9,"div",3),Qo(10,"div",4),fi(11,"Nom"),Ko(),Qo(12,"div",5),Qo(13,"editable-text",7),ti("textChange",function(t){return e.project.name=t})("onFinished",function(){return e.save()}),Ko(),Ko(),Ko(),Qo(14,"div",3),Qo(15,"div",4),fi(16,"Portefeuille projet"),Ko(),Qo(17,"div",8),Qo(18,"editable-text",9),ti("textChange",function(t){return e.project.pplink=t})("onFinished",function(){return e.save()}),Ko(),Ko(),Qo(19,"a",10),Go(20,"i",11),Ko(),Ko(),Qo(21,"h2",12),fi(22,"Dates"),Ko(),Qo(23,"div",3),Qo(24,"div",4),fi(25,"Date de recette"),Ko(),Qo(26,"div",5),Qo(27,"editable-text",13),ti("textChange",function(t){return e.project.recette_date=t})("onFinished",function(){return e.save()}),Ko(),Ko(),Ko(),Qo(28,"div",3),Qo(29,"div",4),fi(30,"Date de VP"),Ko(),Qo(31,"div",5),Qo(32,"editable-text",14),ti("textChange",function(t){return e.project.prod_date=t})("onFinished",function(){return e.save()}),Ko(),Ko(),Ko(),Qo(33,"h2",12),fi(34,"Contexte"),Ko(),Qo(35,"div",3),Qo(36,"div",4),fi(37,"Description"),Ko(),Qo(38,"div",5),Qo(39,"editable-area",15),ti("textChange",function(t){return e.project.description=t})("onFinished",function(){return e.save()}),Ko(),Ko(),Ko(),Go(40,"h2",12),Qo(41,"div",3),Qo(42,"div",4),Qo(43,"action-button",16),ti("onClick",function(){return e.delete()}),Ko(),Ko(),Ko(),Ko(),Ko()),2&t&&(br(8),Wo("text",e.project.internalid),br(5),Wo("text",e.project.name),br(5),Wo("text",e.project.pplink),br(1),Wo("href",e.project.pplink,En),br(8),Wo("text",e.project.recette_date),br(5),Wo("text",e.project.prod_date),br(7),Wo("text",e.project.description))},directives:[kO,DO,OO],styles:[""]}),t})(),IO=(()=>{class t{constructor(t,e){this.route=t,this.router=e}ngOnInit(){}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(Ho(Ul),Ho(dh))},t.\u0275cmp=X({type:t,selectors:[["app-project"]],decls:12,vars:0,consts:[[1,"flex","flex-row","w-full","h-full"],[1,"w-[calc(100%-20rem)]","h-full"],[1,"w-80","h-full","text-gray-400","pt-12"],["routerLinkActive","text-primary !border-primary font-semibold","routerLink","general",1,"w-full","h-8","truncate","flex","items-center","pl-4","hover:text-primary","cursor-pointer","border-l-4","border-transparent","mb-2","transition-all"],["routerLinkActive","text-primary !border-primary font-semibold","routerLink","followup",1,"w-full","h-8","truncate","flex","items-center","pl-4","hover:text-primary","cursor-pointer","border-l-4","border-transparent","mb-2","transition-all"],["routerLinkActive","text-primary !border-primary font-semibold","routerLink","actors",1,"w-full","h-8","truncate","flex","items-center","pl-4","hover:text-primary","cursor-pointer","border-l-4","border-transparent","mb-2","transition-all"],["routerLinkActive","text-primary !border-primary font-semibold","routerLink","reports",1,"w-full","h-8","truncate","flex","items-center","pl-4","hover:text-primary","cursor-pointer","border-l-4","border-transparent","mb-2","transition-all"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),Go(2,"router-outlet"),Ko(),Qo(3,"div",2),Qo(4,"div",3),fi(5,"Informations g\xe9n\xe9rales "),Ko(),Qo(6,"div",4),fi(7,"Suivi "),Ko(),Qo(8,"div",5),fi(9,"Acteurs "),Ko(),Qo(10,"div",6),fi(11,"Comptes-rendus "),Ko(),Ko(),Ko())},directives:[gh,yh,ph],styles:[""]}),t})();function RO(t,e){if(1&t&&(Qo(0,"div",15),Qo(1,"span",16),fi(2),Ko(),Qo(3,"div",17),fi(4),Ko(),Ko()),2&t){const t=e.$implicit;Wo("routerLink",t.id),br(2),hi(t.internalid),br(2),hi(t.name)}}let NO=(()=>{class t{constructor(t,e,n){this.db=t,this.router=e,this.renderer=n}ngOnInit(){this.renderer.listen(document,"keydown.control.k",t=>{document.querySelector("#searchbar").focus(),t.stopPropagation(),t.preventDefault()}),this.db.getProjects$().subscribe(t=>{this.projects=t,"/projects"===this.router.url&&this.projects.length>0&&this.router.navigate(["projects",this.projects[0].id])})}addProject(){this.db.saveProject(new kC).then(t=>{console.log("Project cr\xe9\xe9!",t),this.router.navigate(["projects",t.id])})}toggleSidebar(){console.log("ici"),document.querySelector("#chevron").classList.toggle("rotate-180"),document.querySelector("#project-label").classList.toggle("hidden"),document.querySelector("#project-list").classList.toggle("mt-16"),document.querySelectorAll(".project").forEach(t=>{t.classList.toggle("pl-4"),t.classList.toggle("justify-center")}),document.querySelectorAll(".project-name").forEach(t=>t.classList.toggle("hidden")),document.querySelectorAll(".project-id").forEach(t=>t.classList.toggle("mr-4"));let t=document.querySelector("#sidebar");t.classList.toggle("w-80"),t.classList.toggle("w-14");let e=document.querySelector("#content");e.classList.toggle("w-[calc(100%-20rem)]"),e.classList.toggle("w-[calc(100%-3.5rem)]"),document.querySelector("#button-wide").classList.toggle("hidden"),document.querySelector("#button").classList.toggle("hidden")}searchEverywhere(t){this.router.navigate(["projects","search"],{queryParams:{query:t.target.value}})}}return t.\u0275fac=function(e){return new(e||t)(Ho(EC),Ho(dh),Ho(Bi))},t.\u0275cmp=X({type:t,selectors:[["app-projects"]],decls:17,vars:1,consts:[[1,"flex","h-full"],["id","sidebar",1,"w-80","bg-darker","text-white","h-full","flex","flex-col","relative","transition-all"],["id","chevron",1,"absolute","top-5","right-5","text-2xl","text-accent","transition-all","cursor-pointer","transform",3,"click"],[1,"fas","fa-chevron-left"],["id","project-label",1,"text-gray-400","mb-8","pl-4","pt-12"],["id","project-list"],["class","project w-full h-8 truncate flex items-center pl-4 hover:bg-primary-50 hover:text-primary cursor-pointer","routerLinkActive","bg-primary-50 text-primary font-semibold",3,"routerLink",4,"ngFor","ngForOf"],["id","button-wide",1,"absolute","left-0","bottom-20","w-full","text-center"],["text","Ajouter un projet","icon","fa-plus-circle",3,"onClick"],["id","button",1,"hidden","absolute","left-0","bottom-20","w-full","text-center"],["icon","fa-plus-circle",3,"onClick"],["id","content",1,"w-[calc(100%-20rem)]","relative","transition-all"],[1,"h-14","flex","items-center","justify-start","relative","pl-10"],[1,"fas","fa-search","text-xl","text-gray-300","px-4","absolute","left-12"],["type","text","placeholder","Chercher partout","id","searchbar",1,"w-4/6","outline-none","py-2","px-3","rounded-full","ml-2","pl-12","focus:ring-2","border",3,"keydown.enter"],["routerLinkActive","bg-primary-50 text-primary font-semibold",1,"project","w-full","h-8","truncate","flex","items-center","pl-4","hover:bg-primary-50","hover:text-primary","cursor-pointer",3,"routerLink"],[1,"project-id","font-semibold","mr-4"],[1,"truncate","project-name"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),Qo(2,"div",2),ti("click",function(){return e.toggleSidebar()}),Go(3,"i",3),Ko(),Qo(4,"h1",4),fi(5,"Projets"),Ko(),Qo(6,"div",5),qo(7,RO,5,3,"div",6),Ko(),Qo(8,"div",7),Qo(9,"action-button",8),ti("onClick",function(){return e.addProject()}),Ko(),Ko(),Qo(10,"div",9),Qo(11,"action-button",10),ti("onClick",function(){return e.addProject()}),Ko(),Ko(),Ko(),Qo(12,"div",11),Qo(13,"div",12),Go(14,"i",13),Qo(15,"input",14),ti("keydown.enter",function(t){return e.searchEverywhere(t)}),Ko(),Ko(),Go(16,"router-outlet"),Ko(),Ko()),2&t&&(br(7),Wo("ngForOf",e.projects))},directives:[Eu,OO,gh,yh,ph],styles:[""]}),t})();var LO=n(1576);function $O(t){this.content=t}$O.prototype={constructor:$O,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return-1==o?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new $O(i)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new $O(n)},addToStart:function(t,e){return new $O([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new $O(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(-1==i?o.length:i,0,e,n),new $O(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=$O.from(t)).size?new $O(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=$O.from(t)).size?new $O(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=$O.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},$O.from=function(t){if(t instanceof $O)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new $O(e)};const FO=$O;function VO(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),i=e.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var a=VO(o.content,i.content,n+1);if(null!=a)return a}n+=o.nodeSize}else n+=o.nodeSize}}function BO(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var s=t.child(--o),a=e.child(--i),u=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){for(var c=0,l=Math.min(s.text.length,a.text.length);c<l&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){var f=BO(s.content,a.content,n-1,r-1);if(f)return f}n-=u,r-=u}else n-=u,r-=u}}var zO=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},qO={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};zO.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],u=s+a.nodeSize;if(u>t&&!1!==n(a,r+s,o,i)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,t-c),Math.min(a.content.size,e-c),n,r+c)}s=u}},zO.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},zO.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+=r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)},0),o},zO.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new zO(r,this.size+t.size)},zO.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var s=this.content[o],a=i+s.nodeSize;a>t&&((i<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=a}return new zO(n,r)},zO.prototype.cutByIndex=function(t,e){return t==e?zO.empty:0==t&&e==this.content.length?this:new zO(this.content.slice(t,e))},zO.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new zO(r,o)},zO.prototype.addToStart=function(t){return new zO([t].concat(this.content),this.size+t.nodeSize)},zO.prototype.addToEnd=function(t){return new zO(this.content.concat(t),this.size+t.nodeSize)},zO.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},qO.firstChild.get=function(){return this.content.length?this.content[0]:null},qO.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},qO.childCount.get=function(){return this.content.length},zO.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},zO.prototype.maybeChild=function(t){return this.content[t]},zO.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},zO.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),VO(this,t,e)},zO.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),BO(this,t,e,n)},zO.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return HO(0,t);if(t==this.size)return HO(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?HO(n+1,o):HO(n,r);r=o}},zO.prototype.toString=function(){return"<"+this.toStringInner()+">"},zO.prototype.toStringInner=function(){return this.content.join(", ")},zO.prototype.toJSON=function(){return this.content.length?this.content.map(function(t){return t.toJSON()}):null},zO.fromJSON=function(t,e){if(!e)return zO.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new zO(e.map(t.nodeFromJSON))},zO.fromArray=function(t){if(!t.length)return zO.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new zO(e||t,n)},zO.from=function(t){if(!t)return zO.empty;if(t instanceof zO)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new zO([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(zO.prototype,qO);var UO={index:0,offset:0};function HO(t,e){return UO.index=t,UO.offset=e,UO}function WO(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!WO(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!WO(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}zO.empty=new zO([],0);var JO=function(t,e){this.type=t,this.attrs=e};function QO(t){var e=Error.call(this,t);return e.__proto__=QO.prototype,e}JO.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},JO.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},JO.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},JO.prototype.eq=function(t){return this==t||this.type==t.type&&WO(this.attrs,t.attrs)},JO.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},JO.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},JO.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},JO.setFrom=function(t){if(!t||0==t.length)return JO.none;if(t instanceof JO)return[t];var e=t.slice();return e.sort(function(t,e){return t.type.rank-e.type.rank}),e},JO.none=[],(QO.prototype=Object.create(Error.prototype)).constructor=QO,QO.prototype.name="ReplaceError";var KO=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},GO={size:{configurable:!0}};function ZO(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),u=a.index;if(i==e||s.isText){if(a.offset!=n&&!t.child(u).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=u)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(ZO(s.content,e-i-1,n-i-1)))}function XO(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var u=XO(a.content,e-s-1,n);return u&&t.replaceChild(i,a.copy(u))}function YO(t,e,n){if(n.openStart>t.depth)throw new QO("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new QO("Inconsistent open depths");return tE(t,e,n,0)}function tE(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=tE(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var a=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(zO.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return iE(i,sE(t,a.start,a.end,e,r))}var u=t.parent,c=u.content;return iE(u,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}return iE(i,aE(t,e,r))}function eE(t,e){if(!e.type.compatibleContent(t.type))throw new QO("Cannot join "+e.type.name+" onto "+t.type.name)}function nE(t,e,n){var r=t.node(n);return eE(r,e.node(n)),r}function rE(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function oE(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(rE(t.nodeAfter,r),i++));for(var a=i;a<s;a++)rE(o.child(a),r);e&&e.depth==n&&e.textOffset&&rE(e.nodeBefore,r)}function iE(t,e){if(!t.type.validContent(e))throw new QO("Invalid content for node "+t.type.name);return t.copy(e)}function sE(t,e,n,r,o){var i=t.depth>o&&nE(t,e,o+1),s=r.depth>o&&nE(n,r,o+1),a=[];return oE(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(eE(i,s),rE(iE(i,sE(t,e,n,r,o+1)),a)):(i&&rE(iE(i,aE(t,e,o+1)),a),oE(e,n,o,a),s&&rE(iE(s,aE(n,r,o+1)),a)),oE(r,null,o,a),new zO(a)}function aE(t,e,n){var r=[];return oE(null,t,n,r),t.depth>n&&rE(iE(nE(t,e,n+1),aE(t,e,n+1)),r),oE(e,null,n,r),new zO(r)}GO.size.get=function(){return this.content.size-this.openStart-this.openEnd},KO.prototype.insertAt=function(t,e){var n=XO(this.content,t+this.openStart,e,null);return n&&new KO(n,this.openStart,this.openEnd)},KO.prototype.removeBetween=function(t,e){return new KO(ZO(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},KO.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},KO.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},KO.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},KO.fromJSON=function(t,e){if(!e)return KO.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new KO(zO.fromJSON(t,e.content),n,r)},KO.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new KO(t,n,r)},Object.defineProperties(KO.prototype,GO),KO.empty=new KO(zO.empty,0,0);var uE=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},cE={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};uE.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},cE.parent.get=function(){return this.node(this.depth)},cE.doc.get=function(){return this.node(0)},uE.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},uE.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},uE.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},uE.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},uE.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},uE.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},uE.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},cE.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},cE.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},cE.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},uE.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},uE.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return JO.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i},uE.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},uE.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},uE.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new dE(this,t,n)},uE.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},uE.prototype.max=function(t){return t.pos>this.pos?t:this},uE.prototype.min=function(t){return t.pos<this.pos?t:this},uE.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},uE.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,u=s.offset,c=o-u;if(n.push(i,a,r+u),!c)break;if((i=i.child(a)).isText)break;o=c-1,r+=u+1}return new uE(e,n,o)},uE.resolveCached=function(t,e){for(var n=0;n<lE.length;n++){var r=lE[n];if(r.pos==e&&r.doc==t)return r}var o=lE[fE]=uE.resolve(t,e);return fE=(fE+1)%hE,o},Object.defineProperties(uE.prototype,cE);var lE=[],fE=0,hE=12,dE=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},pE={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};pE.start.get=function(){return this.$from.before(this.depth+1)},pE.end.get=function(){return this.$to.after(this.depth+1)},pE.parent.get=function(){return this.$from.node(this.depth)},pE.startIndex.get=function(){return this.$from.index(this.depth)},pE.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(dE.prototype,pE);var mE=Object.create(null),vE=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||zO.empty,this.marks=r||JO.none},yE={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};yE.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},yE.childCount.get=function(){return this.content.childCount},vE.prototype.child=function(t){return this.content.child(t)},vE.prototype.maybeChild=function(t){return this.content.maybeChild(t)},vE.prototype.forEach=function(t){this.content.forEach(t)},vE.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},vE.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},yE.textContent.get=function(){return this.textBetween(0,this.content.size,"")},vE.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},yE.firstChild.get=function(){return this.content.firstChild},yE.lastChild.get=function(){return this.content.lastChild},vE.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},vE.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},vE.prototype.hasMarkup=function(t,e,n){return this.type==t&&WO(this.attrs,e||t.defaultAttrs||mE)&&JO.sameSet(this.marks,n||JO.none)},vE.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},vE.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},vE.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},vE.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return KO.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new KO(a,r.depth-i,o.depth-i)},vE.prototype.replace=function(t,e,n){return YO(this.resolve(t),this.resolve(e),n)},vE.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.offset;if(!(e=e.maybeChild(n.index)))return null;if(r==t||e.isText)return e;t-=r+1}},vE.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},vE.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},vE.prototype.resolve=function(t){return uE.resolveCached(this,t)},vE.prototype.resolveNoCache=function(t){return uE.resolve(this,t)},vE.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,function(t){return n.isInSet(t.marks)&&(r=!0),!r}),r},yE.isBlock.get=function(){return this.type.isBlock},yE.isTextblock.get=function(){return this.type.isTextblock},yE.inlineContent.get=function(){return this.type.inlineContent},yE.isInline.get=function(){return this.type.isInline},yE.isText.get=function(){return this.type.isText},yE.isLeaf.get=function(){return this.type.isLeaf},yE.isAtom.get=function(){return this.type.isAtom},vE.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),bE(this.marks,t)},vE.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},vE.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=zO.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},vE.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},vE.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},vE.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=JO.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!JO.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(t){return t.type.name}));this.content.forEach(function(t){return t.check()})},vE.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(function(t){return t.toJSON()})),t},vE.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=zO.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(vE.prototype,yE);var gE=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):bE(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(vE);function bE(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var wE=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},_E={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};wE.parse=function(t,e){var n=new xE(t,e);if(null==n.next)return wE.empty;var r=SE(n);n.next&&n.err("Unexpected trailing text");var o,i,s=(o=function(t){var e=[[]];return o(function t(e,i){if("choice"==e.type)return e.exprs.reduce(function(e,n){return e.concat(t(n,i))},[]);if("seq"==e.type)for(var s=0;;s++){var a=t(e.exprs[s],i);if(s==e.exprs.length-1)return a;o(a,i=n())}else{if("star"==e.type){var u=n();return r(i,u),o(t(e.expr,u),u),[r(u)]}if("plus"==e.type){var c=n();return o(t(e.expr,i),c),o(t(e.expr,c),c),[r(c)]}if("opt"==e.type)return[r(i)].concat(t(e.expr,i));if("range"==e.type){for(var l=i,f=0;f<e.min;f++){var h=n();o(t(e.expr,l),h),l=h}if(-1==e.max)o(t(e.expr,l),l);else for(var d=e.min;d<e.max;d++){var p=n();r(l,p),o(t(e.expr,l),p),l=p}return[r(l)]}if("name"==e.type)return[r(i,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach(function(t){return t.to=e})}}(r),i=Object.create(null),function t(e){var n=[];e.forEach(function(t){o[t].forEach(function(t){var e=t.term,r=t.to;if(e){var i=n.indexOf(e),s=i>-1&&n[i+1];TE(o,r).forEach(function(t){s||n.push(e,s=[]),-1==s.indexOf(t)&&s.push(t)})}})});for(var r=i[e.join(",")]=new wE(e.indexOf(o.length-1)>-1),s=0;s<n.length;s+=2){var a=n[s+1].sort(ME);r.next.push(n[s],i[a.join(",")]||t(a))}return r}(TE(o,0)));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var u=o.next[a],c=o.next[a+1];s.push(u.name),!i||u.isText||u.hasRequiredAttrs()||(i=!1),-1==r.indexOf(c)&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(s,n),s},wE.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},wE.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},_E.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},_E.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},wE.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},wE.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(i,s){var a=i.matchFragment(t,n);if(a&&(!e||a.validEnd))return zO.from(s.map(function(t){return t.createAndFill()}));for(var u=0;u<i.next.length;u+=2){var c=i.next[u],l=i.next[u+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==r.indexOf(l)){r.push(l);var f=o(l,s.concat(c));if(f)return f}}}(this,[])},wE.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},wE.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var u=o.next[a];u.isLeaf||u.hasRequiredAttrs()||u.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:u.contentMatch,type:u,via:r}),e[u.name]=!0)}}},_E.edgeCount.get=function(){return this.next.length>>1},wE.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},wE.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map(function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r}).join("\n")},Object.defineProperties(wE.prototype,_E),wE.empty=new wE(!0);var xE=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},kE={next:{configurable:!0}};function SE(t){var e=[];do{e.push(CE(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function CE(t){var e=[];do{e.push(OE(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function OE(t){for(var e=function(t){if(t.eat("(")){var e=SE(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return 0==o.length&&t.err("No node type or group '"+e+"' found"),o}(t,t.next).map(function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}});return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=AE(t,e)}return e}function EE(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function AE(t,e){var n=EE(t),r=n;return t.eat(",")&&(r="}"!=t.next?EE(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function ME(t,e){return e-t}function TE(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var s=o[i],a=s.to;s.term||-1!=n.indexOf(a)||e(a)}}(e),n.sort(ME)}function jE(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function DE(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function PE(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new NE(t[n]);return e}kE.next.get=function(){return this.tokens[this.pos]},xE.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},xE.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(xE.prototype,kE);var IE=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=PE(n.attrs),this.defaultAttrs=jE(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},RE={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};RE.isInline.get=function(){return!this.isBlock},RE.isTextblock.get=function(){return this.isBlock&&this.inlineContent},RE.isLeaf.get=function(){return this.contentMatch==wE.empty},RE.isAtom.get=function(){return this.isLeaf||this.spec.atom},IE.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},IE.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},IE.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:DE(this.attrs,t)},IE.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new vE(this,this.computeAttrs(t),zO.from(e),JO.setFrom(n))},IE.prototype.createChecked=function(t,e,n){if(e=zO.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new vE(this,this.computeAttrs(t),e,JO.setFrom(n))},IE.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=zO.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(zO.empty,!0);return o?new vE(this,t,e.append(o),JO.setFrom(n)):null},IE.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},IE.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},IE.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},IE.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:JO.empty:t},IE.compile=function(t,e){var n=Object.create(null);t.forEach(function(t,r){return n[t]=new IE(t,e,r)});var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(IE.prototype,RE);var NE=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},LE={isRequired:{configurable:!0}};LE.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(NE.prototype,LE);var $E=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=PE(r.attrs),this.rank=e,this.excluded=null;var o=jE(this.attrs);this.instance=o&&new JO(this,o)};$E.prototype.create=function(t){return!t&&this.instance?this.instance:new JO(this,DE(this.attrs,t))},$E.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach(function(t,o){return n[t]=new $E(t,r++,e,o)}),n},$E.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},$E.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},$E.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var FE=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=FO.from(t.nodes),this.spec.marks=FO.from(t.marks),this.nodes=IE.compile(this.spec.nodes,this),this.marks=$E.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],i=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[i]||(n[i]=wE.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==s?null:s?VE(this,s.split(" ")):""!=s&&o.inlineContent?null:[]}for(var a in this.marks){var u=this.marks[a],c=u.spec.excludes;u.excluded=null==c?[u]:""==c?[]:VE(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function VE(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var u=t.marks[a];("_"==o||u.spec.group&&u.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}FE.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof IE))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},FE.prototype.text=function(t,e){var n=this.nodes.text;return new gE(n,n.defaultAttrs,t,JO.setFrom(e))},FE.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},FE.prototype.nodeFromJSON=function(t){return vE.fromJSON(this,t)},FE.prototype.markFromJSON=function(t){return JO.fromJSON(this,t)},FE.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var BE=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)}),this.normalizeLists=!this.tags.some(function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)})};BE.prototype.parse=function(t,e){void 0===e&&(e={});var n=new JE(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},BE.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new JE(this,e,!0);return n.addAll(t,null,e.from,e.to),KO.maxOpen(n.finish())},BE.prototype.matchTag=function(t,e,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(KE(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(t);if(!1===i)continue;o.attrs=i}return o}}},BE.prototype.matchStyle=function(t,e,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(t)||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var s=i.getAttrs(e);if(!1===s)continue;i.attrs=s}return i}}},BE.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var o=e[r];if((null==o.priority?50:o.priority)<n)break}e.splice(r,0,t)}var r,o=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach(function(t){n(t=GE(t)),t.mark=e})};for(var i in t.marks)o(i);for(var s in t.nodes)r=void 0,(r=t.nodes[s].spec.parseDOM)&&r.forEach(function(t){n(t=GE(t)),t.node=s});return e},BE.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new BE(t,BE.schemaRules(t)))};var zE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},qE={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},UE={ol:!0,ul:!0};function HE(t){return(t?1:0)|("full"===t?2:0)}var WE=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=JO.none,this.pendingMarks=r,this.stashMarks=[]};WE.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(zO.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},WE.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=zO.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(zO.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},WE.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},WE.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):ZE(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},WE.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!zE.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var JE=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=HE(e.preserveWhitespace)|(n?4:0);r=o?new WE(o.type,o.attrs,JO.none,JO.none,!0,e.topMatch||o.type.contentMatch,i):new WE(n?null:t.schema.topNodeType,null,JO.none,JO.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},QE={top:{configurable:!0},currentPos:{configurable:!0}};function KE(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function GE(t){var e={};for(var n in t)e[n]=t[n];return e}function ZE(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.next;if(r.type==e)return!0;if(i.indexOf(o)<0&&s(o))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}QE.top.get=function(){return this.nodes[this.open]},JE.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){for(var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},JE.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},JE.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();UE.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&UE.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:qE.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,s=this.top,a=this.needsBlock;if(zE.hasOwnProperty(r))i=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,o,!1===o.consuming?n:null)},JE.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},JE.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},JE.prototype.readStyles=function(t){var e=JO.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,r);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;r=o}return e},JE.prototype.addElementByRule=function(t,e,n){var r,o,i,s=this;e.node?(o=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(function(t){return s.insertNode(t)});else{var u=e.contentElement;"string"==typeof u?u=t.querySelector(u):"function"==typeof u&&(u=u(t)),u||(u=t),this.findAround(t,u,!0),this.addAll(u,r)}r&&(this.sync(a),this.open--),i&&this.removePendingMark(i,a)},JE.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&zE.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},JE.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},JE.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},JE.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},JE.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?-5&o.options:HE(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new WE(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},JE.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},JE.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},JE.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},QE.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},JE.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},JE.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},JE.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++)null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)},JE.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},JE.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=(o?0:1)-(r?r.depth+1:0),s=function(t,a){for(;t>=0;t--){var u=n[t];if(""==u){if(t==n.length-1||0==t)continue;for(;a>=i;a--)if(s(t-1,a))return!0;return!1}var c=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!c||c.name!=u&&-1==c.groups.indexOf(u))return!1;a--}return!0};return s(n.length-1,this.open)},JE.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},JE.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},JE.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var o=r.popFromStashMark(t);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(JE.prototype,QE);var XE=function(t,e){this.nodes=t||{},this.marks=e||{}};function YE(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function tA(t){return t.document||window.document}XE.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=tA(e).createDocumentFragment());var o=n,i=null;return t.forEach(function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(i[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var u=t.marks[s++],c=r.serializeMark(u,t.isInline,e);c&&(i.push(u,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(r.serializeNodeInner(t,e))}),n},XE.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=XE.renderSpec(tA(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},XE.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},XE.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&XE.renderSpec(tA(n),r(t,e))},XE.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],u=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var c in u=2,a)if(null!=a[c]){var l=c.indexOf(" ");l>0?s.setAttributeNS(c.slice(0,l),c.slice(l+1),a[c]):s.setAttribute(c,a[c])}for(var f=u;f<e.length;f++){var h=e[f];if(0===h){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var d=XE.renderSpec(t,h,n),p=d.contentDOM;if(s.appendChild(d.dom),p){if(i)throw new RangeError("Multiple content holes");i=p}}return{dom:s,contentDOM:i}},XE.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new XE(this.nodesFromSchema(t),this.marksFromSchema(t)))},XE.nodesFromSchema=function(t){var e=YE(t.nodes);return e.text||(e.text=function(t){return t.text}),e},XE.marksFromSchema=function(t){return YE(t.marks)};var eA=Math.pow(2,16);function nA(t){return 65535&t}var rA=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},oA=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};oA.prototype.recover=function(t){var e=0,n=nA(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/eA}(t)},oA.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},oA.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},oA.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var u=this.ranges[s+o],c=this.ranges[s+i],l=a+u;if(t<=l){var f=a+r+((u?t==a?-1:t==l?1:e:e)<0?0:c);return n?f:new rA(f,e<0?t!=a:t!=l,t==(e<0?a:l)?null:s/3+(t-a)*eA)}r+=c-u}return n?t+r:new rA(t+r)},oA.prototype.touches=function(t,e){for(var n=0,r=nA(e),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var u=this.ranges[s+o];if(t<=a+u&&s==3*r)return!0;n+=this.ranges[s+i]-u}return!1},oA.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),u=this.ranges[r+e],c=this.ranges[r+n];t(s,s+u,a,a+c),o+=c-u}},oA.prototype.invert=function(){return new oA(this.ranges,!this.inverted)},oA.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},oA.offset=function(t){return 0==t?oA.empty:new oA(t<0?[0,-t,0]:[0,0,t])},oA.empty=new oA([]);var iA=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function sA(t){var e=Error.call(this,t);return e.__proto__=sA.prototype,e}iA.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new iA(this.maps,this.mirror,t,e)},iA.prototype.copy=function(){return new iA(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},iA.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},iA.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},iA.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},iA.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},iA.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},iA.prototype.invert=function(){var t=new iA;return t.appendMappingInverted(this),t},iA.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},iA.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},iA.prototype._map=function(t,e,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(t,e);if(null!=i.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,t=this.maps[s].recover(i.recover);continue}}i.deleted&&(r=!0),t=i.pos}return n?t:new rA(t,r)},(sA.prototype=Object.create(Error.prototype)).constructor=sA,sA.prototype.name="TransformError";var aA=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new iA},uA={before:{configurable:!0},docChanged:{configurable:!0}};function cA(){throw new Error("Override me")}uA.before.get=function(){return this.docs.length?this.docs[0]:this.doc},aA.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new sA(e.failed);return this},aA.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},uA.docChanged.get=function(){return this.steps.length>0},aA.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(aA.prototype,uA);var lA=Object.create(null),fA=function(){};fA.prototype.apply=function(t){return cA()},fA.prototype.getMap=function(){return oA.empty},fA.prototype.invert=function(t){return cA()},fA.prototype.map=function(t){return cA()},fA.prototype.merge=function(t){return null},fA.prototype.toJSON=function(){return cA()},fA.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=lA[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},fA.jsonID=function(t,e){if(t in lA)throw new RangeError("Duplicate use of step JSON ID "+t);return lA[t]=e,e.prototype.jsonID=t,e};var hA=function(t,e){this.doc=t,this.failed=e};hA.ok=function(t){return new hA(t,null)},hA.fail=function(t){return new hA(null,t)},hA.fromReplace=function(t,e,n,r){try{return hA.ok(t.replace(e,n,r))}catch(o){if(o instanceof QO)return hA.fail(o.message);throw o}};var dA=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.apply=function(t){return this.structure&&mA(t,this.from,this.to)?hA.fail("Structure replace would overwrite content"):hA.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new oA([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?KO.empty:new KO(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?KO.empty:new KO(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,KO.fromJSON(t,n.slice),!!n.structure)},e}(fA);fA.jsonID("replace",dA);var pA=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.apply=function(t){if(this.structure&&(mA(t,this.from,this.gapFrom)||mA(t,this.gapTo,this.to)))return hA.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return hA.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?hA.fromReplace(t,this.from,this.to,n):hA.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new oA([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,KO.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(fA);function mA(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function vA(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function yA(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),o=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(o,i,e))return n;if(0==n||r.type.spec.isolating||!vA(r,o,i))break}}function gA(t,e,n,r){void 0===r&&(r=t);var o=function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);return i&&n.canReplaceWith(r,o,i.length?i[0]:e)?i:null}(t,e),i=o&&function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,u=r;a&&u<o;u++)a=a.matchType(n.child(u).type);return a&&a.validEnd?s:null}(r,e);return i?o.map(bA).concat({type:e,attrs:n}).concat(i.map(bA)):null}function bA(t){return{type:t,attrs:null}}function wA(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,u=n-2;a>i;a--,u--){var c=o.node(a),l=o.index(a);if(c.type.spec.isolating)return!1;var f=c.content.cutByIndex(l,c.childCount),h=r&&r[u]||c;if(h!=c&&(f=f.replaceChild(0,h.type.create(h.attrs))),!c.canReplace(l+1,c.childCount)||!h.type.validContent(f))return!1}var d=o.indexAfter(i),p=r&&r[0];return o.node(i).canReplaceWith(d,d,p?p.type:o.node(i+1).type)}function _A(t,e){var n,r,o=t.resolve(e),i=o.index();return r=o.nodeAfter,(n=o.nodeBefore)&&r&&!n.isLeaf&&n.canAppend(r)&&o.parent.canReplace(i,i+1)}function xA(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(u>0?1:0),l=r.node(a),f=!1;if(1==s)f=l.canReplace(c,c,o);else{var h=l.contentMatchAt(c).findWrapping(o.firstChild.type);f=h&&l.canReplaceWith(c,c,h[0])}if(f)return 0==u?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function kA(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(kA(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return zO.fromArray(r)}fA.jsonID("replaceAround",pA),aA.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,u=s,c=zO.empty,l=0,f=o,h=!1;f>e;f--)h||n.index(f)>0?(h=!0,c=zO.from(n.node(f).copy(c)),l++):a--;for(var d=zO.empty,p=0,m=o,v=!1;m>e;m--)v||r.after(m+1)<r.end(m)?(v=!0,d=zO.from(r.node(m).copy(d)),p++):u++;return this.step(new pA(a,u,i,s,new KO(c.append(d),l,p),c.size-l,!0))},aA.prototype.wrap=function(t,e){for(var n=zO.empty,r=e.length-1;r>=0;r--)n=zO.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new pA(o,i,o,i,new KO(n,0,0),e.length,!0))},aA.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(e),n)){o.clearIncompatible(o.mapping.slice(i).map(e,1),n);var s=o.mapping.slice(i),a=s.map(e,1),u=s.map(e+t.nodeSize,1);return o.step(new pA(a,u,a+1,u-1,new KO(zO.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}}),this},aA.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new pA(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new KO(zO.from(i),0,0),1,!0))},aA.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=zO.empty,i=zO.empty,s=r.depth,a=r.depth-e,u=e-1;s>a;s--,u--){o=zO.from(r.node(s).copy(o));var c=n&&n[u];i=zO.from(c?c.type.create(c.attrs,i):r.node(s).copy(i))}return this.step(new dA(t,t,new KO(o.append(i),e,e),!0))},aA.prototype.join=function(t,e){void 0===e&&(e=1);var n=new dA(t-e,t+e,KO.empty,!0);return this.step(n)};var SA=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new KO(kA(n.content,function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t},o),n.openStart,n.openEnd);return hA.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new CA(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(fA);fA.jsonID("addMark",SA);var CA=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new KO(kA(n.content,function(t){return t.mark(e.mark.removeFromSet(t.marks))}),n.openStart,n.openEnd);return hA.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new SA(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(fA);function OA(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}fA.jsonID("removeMark",CA),aA.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,function(r,u,c){if(r.isInline){var l=r.marks;if(!n.isInSet(l)&&c.type.allowsMarkType(n.type)){for(var f=Math.max(u,t),h=Math.min(u+r.nodeSize,e),d=n.addToSet(l),p=0;p<l.length;p++)l[p].isInSet(d)||(s&&s.to==f&&s.mark.eq(l[p])?s.to=h:o.push(s=new CA(f,h,l[p])));a&&a.to==f?a.to=h:i.push(a=new SA(f,h,n))}}}),o.forEach(function(t){return r.step(t)}),i.forEach(function(t){return r.step(t)}),this},aA.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,function(r,s){if(r.isInline){i++;var a=null;if(n instanceof $E)for(var u,c=r.marks;u=n.isInSet(c);)(a||(a=[])).push(u),c=u.removeFromSet(c);else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var l=Math.min(s+r.nodeSize,e),f=0;f<a.length;f++){for(var h=a[f],d=void 0,p=0;p<o.length;p++){var m=o[p];m.step==i-1&&h.eq(o[p].style)&&(d=m)}d?(d.to=l,d.step=i):o.push({style:h,from:Math.max(s,t),to:l,step:i})}}}),o.forEach(function(t){return r.step(new CA(t.from,t.to,t.style))}),this},aA.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),u=i+a.nodeSize,c=n.matchType(a.type,a.attrs);if(c){n=c;for(var l=0;l<a.marks.length;l++)e.allowsMarkType(a.marks[l].type)||this.step(new CA(i,u,a.marks[l]))}else o.push(new dA(i,u,KO.empty));i=u}if(!n.validEnd){var f=n.fillBefore(zO.empty,!0);this.replace(i,i,new KO(f,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},aA.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=KO.empty);var r=function(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=KO.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return OA(o,i,r)?new dA(e,n,r):new EA(o,i,r).fit()}(this.doc,t,e,n);return r&&this.step(r),this},aA.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new KO(zO.from(n),0,0))},aA.prototype.delete=function(t,e){return this.replace(t,e,KO.empty)},aA.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var EA=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}this.placed=zO.empty;for(var i=t.depth;i>0;i--)this.placed=zO.from(t.node(i).copy(this.placed))},AA={depth:{configurable:!0}};function MA(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(MA(t.firstChild.content,e-1,n)))}function TA(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(TA(t.lastChild.content,e-1,n)))}function jA(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function DA(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,DA(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(zO.empty,!0)))),t.copy(r)}function PA(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,i.content,s)?a:null}function IA(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(IA(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(zO.empty,!0))}return t}function RA(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(o==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==o-1)&&n.push(r)}return n}AA.depth.get=function(){return this.frontier.length-1},EA.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;for(var i=this.placed,s=r.depth,a=o.depth;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;var u=new KO(i,s,a);return e>-1?new pA(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new dA(r.pos,o.pos,u):void 0},EA.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,r=(e?(n=jA(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var i=this.frontier[o],s=i.type,a=i.match,u=void 0,c=void 0;if(1==t&&(r?a.matchType(r.type)||(c=a.fillBefore(zO.from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:o,parent:n,inject:c};if(2==t&&r&&(u=a.findWrapping(r.type)))return{sliceDepth:e,frontierDepth:o,parent:n,wrap:u};if(n&&a.matchType(n.type))break}},EA.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=jA(e,n);return!(!o.childCount||o.firstChild.isLeaf||(this.unplaced=new KO(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),0))},EA.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=jA(e,n);if(o.childCount<=1&&n>0){var i=e.size-n<=n+o.size;this.unplaced=new KO(MA(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new KO(MA(e,n,1),n,r)},EA.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,o=t.inject,i=t.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var s=0;s<i.length;s++)this.openFrontierNode(i[s]);var a=this.unplaced,u=r?r.content:a.content,c=a.openStart-e,l=0,f=[],h=this.frontier[n],d=h.match,p=h.type;if(o){for(var m=0;m<o.childCount;m++)f.push(o.child(m));d=d.matchFragment(o)}for(var v=u.size+e-(a.content.size-a.openEnd);l<u.childCount;){var y=u.child(l),g=d.matchType(y.type);if(!g)break;(++l>1||0==c||y.content.size)&&(d=g,f.push(DA(y.mark(p.allowedMarks(y.marks)),1==l?c:0,l==u.childCount?v:-1)))}var b=l==u.childCount;b||(v=-1),this.placed=TA(this.placed,n,zO.from(f)),this.frontier[n].match=d,b&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,_=u;w<v;w++){var x=_.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),_=x.content}this.unplaced=b?0==e?KO.empty:new KO(MA(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new KO(MA(a.content,e,l),a.openStart,a.openEnd)},EA.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!PA(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},EA.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,o=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=PA(t,e,o,r,i);if(s){for(var a=e-1;a>=0;a--){var u=this.frontier[a],c=PA(t,a,u.type,u.match,!0);if(!c||c.childCount)continue t}return{depth:e,fit:s,move:i?t.doc.resolve(t.after(e+1)):t}}}},EA.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=TA(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t},EA.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=TA(this.placed,this.depth,zO.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},EA.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(zO.empty,!0);t.childCount&&(this.placed=TA(this.placed,this.frontier.length,t))},Object.defineProperties(EA.prototype,AA),aA.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(OA(r,o,n))return this.step(new dA(t,e,n));var i=RA(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,u=r.pos-1;a>0;a--,u--){var c=r.node(a).type.spec;if(c.defining||c.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==u&&i.splice(1,0,-a)}for(var l=i.indexOf(s),f=[],h=n.openStart,d=n.content,p=0;;p++){var m=d.firstChild;if(f.push(m),p==n.openStart)break;d=m.content}h>0&&f[h-1].type.spec.defining&&r.node(l).type!=f[h-1].type?h-=1:h>=2&&f[h-1].isTextblock&&f[h-2].type.spec.defining&&r.node(l).type!=f[h-2].type&&(h-=2);for(var v=n.openStart;v>=0;v--){var y=(v+h+1)%(n.openStart+1),g=f[y];if(g)for(var b=0;b<i.length;b++){var w=i[(b+l)%i.length],_=!0;w<0&&(_=!1,w=-w);var x=r.node(w-1),k=r.index(w-1);if(x.canReplaceWith(k,k,g.type,g.marks))return this.replace(r.before(w),_?o.after(w):e,new KO(IA(n.content,0,n.openStart,y),y,n.openEnd))}}for(var S=this.steps.length,C=i.length-1;C>=0&&(this.replace(t,e,n),!(this.steps.length>S));C--){var O=i[C];O<0||(t=r.before(O),e=o.after(O))}return this},aA.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new KO(zO.from(n),0,0))},aA.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=RA(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var u=1;u<=n.depth&&u<=r.depth;u++)if(t-n.start(u)==n.depth-u&&e>n.end(u)&&r.end(u)-e!=r.depth-u)return this.delete(n.before(u),e);return this.delete(t,e)};var NA=Object.create(null),LA=function(t,e,n){this.ranges=n||[new FA(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},$A={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};$A.anchor.get=function(){return this.$anchor.pos},$A.head.get=function(){return this.$head.pos},$A.from.get=function(){return this.$from.pos},$A.to.get=function(){return this.$to.pos},$A.$from.get=function(){return this.ranges[0].$from},$A.$to.get=function(){return this.ranges[0].$to},$A.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},LA.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},LA.prototype.replace=function(t,e){void 0===e&&(e=KO.empty);for(var n=e.content.lastChild,r=null,o=0;o<e.openEnd;o++)r=n,n=n.lastChild;for(var i=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var u=s[a],c=u.$from,l=u.$to,f=t.mapping.slice(i);t.replaceRange(f.map(c.pos),f.map(l.pos),a?KO.empty:e),0==a&&JA(t,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},LA.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],s=i.$from,a=i.$to,u=t.mapping.slice(n),c=u.map(s.pos),l=u.map(a.pos);o?t.deleteRange(c,l):(t.replaceRangeWith(c,l,e),JA(t,n,e.isInline?-1:1))}},LA.findFrom=function(t,e,n){var r=t.parent.inlineContent?new VA(t):WA(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var o=t.depth-1;o>=0;o--){var i=e<0?WA(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):WA(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(i)return i}},LA.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new UA(t.node(0))},LA.atStart=function(t){return WA(t,t,0,0,1)||new UA(t)},LA.atEnd=function(t){return WA(t,t,t.content.size,t.childCount,-1)||new UA(t)},LA.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=NA[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},LA.jsonID=function(t,e){if(t in NA)throw new RangeError("Duplicate use of selection JSON ID "+t);return NA[t]=e,e.prototype.jsonID=t,e},LA.prototype.getBookmark=function(){return VA.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(LA.prototype,$A),LA.prototype.visible=!0;var FA=function(t,e){this.$from=t,this.$to=e},VA=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=KO.empty),t.prototype.replace.call(this,e,n),n==KO.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new BA(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i||(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new e(n,r)},Object.defineProperties(e.prototype,n),e}(LA);LA.jsonID("text",VA);var BA=function(t,e){this.anchor=t,this.head=e};BA.prototype.map=function(t){return new BA(t.map(this.anchor),t.map(this.head))},BA.prototype.resolve=function(t){return VA.between(t.resolve(this.anchor),t.resolve(this.head))};var zA=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=n.resolve(o.pos);return i?t.near(s):new e(s)},e.prototype.content=function(){return new KO(zO.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new qA(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(LA);zA.prototype.visible=!1,LA.jsonID("node",zA);var qA=function(t){this.anchor=t};qA.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.pos;return e.deleted?new BA(n,n):new qA(n)},qA.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&zA.isSelectable(n)?new zA(e):LA.near(e)};var UA=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=KO.empty),n==KO.empty){e.delete(0,e.doc.content.size);var r=t.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return HA},e}(LA);LA.jsonID("all",UA);var HA={map:function(){return this},resolve:function(t){return new UA(t)}};function WA(t,e,n,r,o,i){if(e.inlineContent)return VA.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&zA.isSelectable(a))return zA.create(t,n-(o<0?a.nodeSize:0))}else{var u=WA(t,a,n+o,o<0?a.childCount:0,o,i);if(u)return u}n+=a.nodeSize*o}}function JA(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o,i=t.steps[r];(i instanceof dA||i instanceof pA)&&(t.mapping.maps[r].forEach(function(t,e,n,r){null==o&&(o=r)}),t.setSelection(LA.near(t.doc.resolve(o),n)))}}var QA=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return JO.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||JO.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(LA.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(aA);function KA(t,e){return e&&t?t.bind(e):t}var GA=function(t,e,n){this.name=t,this.init=KA(e.init,n),this.apply=KA(e.apply,n)},ZA=[new GA("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new GA("selection",{init:function(t,e){return t.selection||LA.atStart(e.doc)},apply:function(t){return t.selection}}),new GA("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new GA("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],XA=function(t,e){var n=this;this.schema=t,this.fields=ZA.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach(function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new GA(t.key,t.spec.state,t))})},YA=function(t){this.config=t},tM={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};tM.schema.get=function(){return this.config.schema},tM.plugins.get=function(){return this.config.plugins},YA.prototype.apply=function(t){return this.applyTransaction(t).state},YA.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},YA.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,u=r?r[i].state:this,c=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,u,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<i?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},YA.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new YA(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<eM.length;i++)eM[i](this,t,e);return e},tM.tr.get=function(){return new QA(this)},YA.create=function(t){for(var e=new XA(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new YA(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},YA.prototype.reconfigure=function(t){for(var e=new XA(this.schema,t.plugins),n=e.fields,r=new YA(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},YA.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(function(t){return t.toJSON()})),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},YA.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new XA(t.schema,t.plugins),o=new YA(r);return r.fields.forEach(function(r){if("doc"==r.name)o.doc=vE.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=LA.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=a.fromJSON.call(s,t,e[i],o))}o[r.name]=r.init(t,o)}}),o},YA.addApplyListener=function(t){eM.push(t)},YA.removeApplyListener=function(t){var e=eM.indexOf(t);e>-1&&eM.splice(e,1)},Object.defineProperties(YA.prototype,tM);var eM=[];function nM(t,e,n){for(var r in t){var o=t[r];o instanceof Function?o=o.bind(e):"handleDOMEvents"==r&&(o=nM(o,e,{})),n[r]=o}return n}var rM=function(t){this.props={},t.props&&nM(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:iM("plugin")};rM.prototype.getState=function(t){return t[this.key]};var oM=Object.create(null);function iM(t){return t in oM?t+"$"+ ++oM[t]:(oM[t]=0,t+"$")}var sM=function(t){void 0===t&&(t="key"),this.key=iM(t)};function aM(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function uM(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var o=fM(r);if(!o){var i=r.blockRange(),s=i&&yA(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}var a=o.nodeBefore;if(!a.type.spec.isolating&&_M(t,o,e))return!0;if(0==r.parent.content.size&&(cM(a,"end")||zA.isSelectable(a))){if(e){var u=t.tr.deleteRange(r.before(),r.after());u.setSelection(cM(a,"end")?LA.findFrom(u.doc.resolve(u.mapping.map(o.pos,-1)),-1):zA.create(u.doc,o.pos-a.nodeSize)),e(u.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1||(e&&e(t.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),0))}function cM(t,e,n){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(n&&1!=t.childCount)return!1}return!1}function lM(t,e,n){var r=t.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;i=fM(o)}var s=i&&i.nodeBefore;return!(!s||!zA.isSelectable(s)||(e&&e(t.tr.setSelection(zA.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),0))}function fM(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function hM(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=pM(r);if(!o)return!1;var i=o.nodeAfter;if(_M(t,o,e))return!0;if(0==r.parent.content.size&&(cM(i,"start")||zA.isSelectable(i))){if(e){var s=t.tr.deleteRange(r.before(),r.after());s.setSelection(cM(i,"start")?LA.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):zA.create(s.doc,s.mapping.map(o.pos))),e(s.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1||(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),0))}function dM(t,e,n){var r=t.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;i=pM(o)}var s=i&&i.nodeAfter;return!(!s||!zA.isSelectable(s)||(e&&e(t.tr.setSelection(zA.create(t.doc,i.pos)).scrollIntoView()),0))}function pM(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function mM(t,e){var n=t.selection,r=n.$from.blockRange(n.$to),o=r&&yA(r);return null!=o&&(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)}function vM(t,e){var n=t.selection,r=n.$head;return!(!r.parent.type.spec.code||!r.sameParent(n.$anchor)||(e&&e(t.tr.insertText("\n").scrollIntoView()),0))}function yM(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function gM(t,e){var n=t.selection,r=n.$head;if(!r.parent.type.spec.code||!r.sameParent(n.$anchor))return!1;var o=r.node(-1),i=r.indexAfter(-1),s=yM(o.contentMatchAt(i));if(!o.canReplaceWith(i,i,s))return!1;if(e){var a=r.after(),u=t.tr.replaceWith(a,a,s.createAndFill());u.setSelection(LA.near(u.doc.resolve(a),1)),e(u.scrollIntoView())}return!0}function bM(t,e){var n=t.selection,r=n.$from,o=n.$to;if(n instanceof UA||r.parent.inlineContent||o.parent.inlineContent)return!1;var i=yM(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(VA.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}function wM(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(wA(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&yA(o);return null!=i&&(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)}function _M(t,e,n){var r,o,i=e.nodeBefore,s=e.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!(!(r&&o&&r.type.compatibleContent(o.type))||(!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(i,i+1)||!o.isTextblock&&!_A(t.doc,e.pos)||(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,n))return!0;var a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){for(var u=e.pos+s.nodeSize,c=zO.empty,l=r.length-1;l>=0;l--)c=zO.from(r[l].create(null,c));c=zO.from(i.copy(c));var f=t.tr.step(new pA(e.pos-1,u,e.pos,u,new KO(c,1,0),r.length,!0)),h=u+2*r.length;_A(f.doc,h)&&f.join(h),n(f.scrollIntoView())}return!0}var d=LA.findFrom(e,1),p=d&&d.$from.blockRange(d.$to),m=p&&yA(p);if(null!=m&&m>=e.depth)return n&&n(t.tr.lift(p,m).scrollIntoView()),!0;if(a&&cM(s,"start",!0)&&cM(i,"end")){for(var v=i,y=[];y.push(v),!v.isTextblock;)v=v.lastChild;for(var g=s,b=1;!g.isTextblock;g=g.firstChild)b++;if(v.canReplace(v.childCount,v.childCount,g.content)){if(n){for(var w=zO.empty,_=y.length-1;_>=0;_--)w=zO.from(y[_].copy(w));n(t.tr.step(new pA(e.pos-y.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new KO(w,y.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function xM(t,e){return function(n,r){var o=n.selection,i=o.$from.blockRange(o.$to),s=i&&gA(i,t,e);return!!s&&(r&&r(n.tr.wrap(i,s).scrollIntoView()),!0)}}function kM(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}sM.prototype.get=function(t){return t.config.pluginsByKey[this.key]},sM.prototype.getState=function(t){return t[this.key]};var SM=kM(aM,uM,lM),CM=kM(aM,hM,dM),OM={Enter:kM(vM,bM,wM,function(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof zA&&t.selection.node.isBlock)return!(!r.parentOffset||!wA(t.doc,r.pos)||(e&&e(t.tr.split(r.pos).scrollIntoView()),0));if(!r.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,s=t.tr;(t.selection instanceof VA||t.selection instanceof UA)&&s.deleteSelection();var a=0==r.depth?null:yM(r.node(-1).contentMatchAt(r.indexAfter(-1))),u=i&&a?[{type:a}]:null,c=wA(s.doc,s.mapping.map(r.pos),1,u);if(u||c||!wA(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(u=[{type:a}],c=!0),c&&(s.split(s.mapping.map(r.pos),1,u),!i&&!r.parentOffset&&r.parent.type!=a)){var l=s.mapping.map(r.before()),f=s.doc.resolve(l);r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}e(s.scrollIntoView())}return!0}),"Mod-Enter":gM,Backspace:SM,"Mod-Backspace":SM,"Shift-Backspace":SM,Delete:CM,"Mod-Delete":CM,"Mod-a":function(t,e){return e&&e(t.tr.setSelection(new UA(t.doc))),!0}},EM={"Ctrl-h":OM.Backspace,"Alt-Backspace":OM["Mod-Backspace"],"Ctrl-d":OM.Delete,"Ctrl-Alt-Backspace":OM["Mod-Delete"],"Alt-Delete":OM["Mod-Delete"],"Alt-d":OM["Mod-Delete"]};for(var AM in OM)EM[AM]=OM[AM];"undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&os.platform();var MM={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var TM=/Edge\/(\d+)/.exec(navigator.userAgent),jM=/MSIE \d/.test(navigator.userAgent),DM=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);MM.mac=/Mac/.test(navigator.platform);var PM=MM.ie=!!(jM||DM||TM);MM.ie_version=jM?document.documentMode||6:DM?+DM[1]:TM?+TM[1]:null,MM.gecko=!PM&&/gecko\/(\d+)/i.test(navigator.userAgent),MM.gecko_version=MM.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var IM=!PM&&/Chrome\/(\d+)/.exec(navigator.userAgent);MM.chrome=!!IM,MM.chrome_version=IM&&+IM[1],MM.safari=!PM&&/Apple Computer/.test(navigator.vendor),MM.ios=MM.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),MM.android=/Android \d/.test(navigator.userAgent),MM.webkit="webkitFontSmoothing"in document.documentElement.style,MM.webkit_version=MM.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var RM=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},NM=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},LM=null,$M=function(t,e,n){var r=LM||(LM=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},FM=function(t,e,n,r){return n&&(BM(t,e,n,r,-1)||BM(t,e,n,r,1))},VM=/^(img|br|input|textarea|hr)$/i;function BM(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:zM(t))){var i=t.parentNode;if(1!=i.nodeType||qM(t)||VM.test(t.nodeName)||"false"==t.contentEditable)return!1;e=RM(t)+(o<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(o<0?-1:0)]).contentEditable)return!1;e=o<0?zM(t):0}}}function zM(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function qM(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var UM=function(t){var e=t.isCollapsed;return e&&MM.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function HM(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function WM(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function JM(t,e){return"number"==typeof t?t:t[e]}function QM(t){var e=t.getBoundingClientRect();return{left:e.left,right:e.left+t.clientWidth*(e.width/t.offsetWidth||1),top:e.top,bottom:e.top+t.clientHeight*(e.height/t.offsetHeight||1)}}function KM(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=NM(t));return e}function GM(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,s=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}var ZM=null;function XM(t,e){for(var n,r,o=2e8,i=0,s=e.top,a=e.top,u=t.firstChild,c=0;u;u=u.nextSibling,c++){var l=void 0;if(1==u.nodeType)l=u.getClientRects();else{if(3!=u.nodeType)continue;l=$M(u).getClientRects()}for(var f=0;f<l.length;f++){var h=l[f];if(h.top<=s&&h.bottom>=a){s=Math.max(h.bottom,s),a=Math.min(h.top,a);var d=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(d<o){n=u,o=d,r=d&&3==n.nodeType?{left:h.right<e.left?h.right:h.left,top:e.top}:e,1==u.nodeType&&d&&(i=c+(e.left>=(h.left+h.right)/2?1:0));continue}}!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(i=c+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=nT(r,1);if(i.top!=i.bottom&&YM(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:t,offset:i}:XM(n,r)}function YM(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function tT(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var s=t.childNodes[i];if(1==s.nodeType)for(var a=s.getClientRects(),u=0;u<a.length;u++){var c=a[u];if(YM(e,c))return tT(s,e,c)}if((i=(i+1)%r)==o)break}return t}function eT(t,e){var n,r,o,i,s=t.dom.ownerDocument;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(o=(n=a).offsetNode,i=n.offset)}catch(zd){}if(!o&&s.caretRangeFromPoint){var u=s.caretRangeFromPoint(e.left,e.top);u&&(o=(r=u).startContainer,i=r.startOffset)}var c,l=(t.root.elementFromPoint?t.root:s).elementFromPoint(e.left,e.top+1);if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){var f=t.dom.getBoundingClientRect();if(!YM(e,f))return null;if(!(l=tT(t.dom,e,f)))return null}if(MM.safari)for(var h=l;o&&h;h=NM(h))h.draggable&&(o=i=null);if(l=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(l,e),o){if(MM.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var d,p=o.childNodes[i];"IMG"==p.nodeName&&(d=p.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}o==t.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(c=function(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;o=s.posAfter}}i=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}(t,o,i,e))}null==c&&(c=function(t,e,n){var r=XM(e,n),o=r.node,i=r.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,i,s)}(t,l,e));var m=t.docView.nearestDesc(l,!0);return{pos:c,inside:m?m.posAtStart-m.border:-1}}function nT(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var rT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function oT(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),o=r.node,i=r.offset,s=MM.webkit||MM.gecko;if(3==o.nodeType){if(!s||!rT.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==o.nodeValue.length?(a--,c=1):n<0?a--:u++,iT(nT($M(o,a,u),c),c<0)}var l=nT($M(o,i,i),n);if(MM.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var f=nT($M(o,i-1,i-1),-1);if(f.top==l.top){var h=nT($M(o,i,i+1),-1);if(h.top!=l.top)return iT(h,h.left<f.left)}}return l}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==zM(o))){var d=o.childNodes[i-1];if(1==d.nodeType)return sT(d.getBoundingClientRect(),!1)}if(i<zM(o)){var p=o.childNodes[i];if(1==p.nodeType)return sT(p.getBoundingClientRect(),!0)}return sT(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==zM(o))){var m=o.childNodes[i-1],v=3==m.nodeType?$M(m,zM(m)-(s?0:1)):1!=m.nodeType||"BR"==m.nodeName&&m.nextSibling?null:m;if(v)return iT(nT(v,1),!1)}if(i<zM(o)){for(var y=o.childNodes[i];y.pmViewDesc&&y.pmViewDesc.ignoreForCoords;)y=y.nextSibling;var g=y?3==y.nodeType?$M(y,0,s?0:1):1==y.nodeType?y:null:null;if(g)return iT(nT(g,-1),!0)}return iT(nT(3==o.nodeType?$M(o):o,-n),n>=0)}function iT(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function sT(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function aT(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}var uT=/[\u0590-\u08ac]/,cT=null,lT=null,fT=!1,hT=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},dT={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};hT.prototype.matchesWidget=function(){return!1},hT.prototype.matchesMark=function(){return!1},hT.prototype.matchesNode=function(){return!1},hT.prototype.matchesHack=function(t){return!1},hT.prototype.parseRule=function(){return null},hT.prototype.stopEvent=function(){return!1},dT.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},dT.border.get=function(){return 0},hT.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},hT.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},dT.posBefore.get=function(){return this.parent.posBeforeChild(this)},dT.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},dT.posAfter.get=function(){return this.posBefore+this.size},dT.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},hT.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,o;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,s;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(t==this.dom&&this.contentDOM)a=e>RM(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var u=t;;u=u.parentNode){if(u==this.dom){a=!1;break}if(u.parentNode.firstChild!=u)break}if(null==a&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},hT.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==t.nodeType?t:t.parentNode):o.nodeDOM==t))return o;n=!1}}},hT.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},hT.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1},hT.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<o)return r.descAt(t-n-r.border);n=o}},hT.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,o=0;n<this.children.length;n++){var i=this.children[n],s=o+i.size;if(s>t||i instanceof _T){r=t-o;break}o=s}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(var a=void 0;n&&!(a=this.children[n-1]).size&&a instanceof mT&&a.widget.type.side>=0;n--);if(e<=0){for(var u,c=!0;(u=n?this.children[n-1]:null)&&u.dom.parentNode!=this.contentDOM;n--,c=!1);return u&&e&&c&&!u.border&&!u.domAtom?u.domFromPos(u.size,e):{node:this.contentDOM,offset:u?RM(u.dom)+1:0}}for(var l,f=!0;(l=n<this.children.length?this.children[n]:null)&&l.dom.parentNode!=this.contentDOM;n++,f=!1);return l&&f&&!l.border&&!l.domAtom?l.domFromPos(0,e):{node:this.contentDOM,offset:l?RM(l.dom):this.contentDOM.childNodes.length}},hT.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,s=0;;s++){var a=this.children[s],u=i+a.size;if(-1==r&&t<=u){var c=i+a.border;if(t>=c&&e<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,c);t=i;for(var l=s;l>0;l--){var f=this.children[l-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=RM(f.dom)+1;break}t-=f.size}-1==r&&(r=0)}if(r>-1&&(u>e||s==this.children.length-1)){e=u;for(var h=s+1;h<this.children.length;h++){var d=this.children[h];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=RM(d.dom);break}e+=d.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=u}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}},hT.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},hT.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},hT.prototype.setSelection=function(t,e,n,r){for(var o=Math.min(t,e),i=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var u=this.children[s],c=a+u.size;if(o>a&&i<c)return u.setSelection(t-a-u.border,e-a-u.border,n,r);a=c}var l=this.domFromPos(t,t?-1:1),f=e==t?l:this.domFromPos(e,e?-1:1),h=n.getSelection(),d=!1;if((MM.gecko||MM.safari)&&t==e){var p=l.node,m=l.offset;if(3==p.nodeType){if((d=m&&"\n"==p.nodeValue[m-1])&&m==p.nodeValue.length)for(var v=p,y=void 0;v;v=v.parentNode){if(y=v.nextSibling){"BR"==y.nodeName&&(l=f={node:y.parentNode,offset:RM(y)+1});break}var g=v.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{var b=p.childNodes[m-1];d=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(MM.gecko&&h.focusNode&&h.focusNode!=f.node&&1==h.focusNode.nodeType){var w=h.focusNode.childNodes[h.focusOffset];w&&"false"==w.contentEditable&&(r=!0)}if(r||d&&MM.safari||!FM(l.node,l.offset,h.anchorNode,h.anchorOffset)||!FM(f.node,f.offset,h.focusNode,h.focusOffset)){var _=!1;if((h.extend||t==e)&&!d){h.collapse(l.node,l.offset);try{t!=e&&h.extend(f.node,f.offset),_=!0}catch(S){if(!(S instanceof DOMException))throw S}}if(!_){if(t>e){var x=l;l=f,f=x}var k=document.createRange();k.setEnd(f.node,f.offset),k.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(k)}}},hT.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},dT.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},hT.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var s=n+o.border,a=i-o.border;if(t>=s&&e<=a)return this.dirty=t==n||e==i?2:1,void(t!=s||e!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-s,e-s):o.dirty=3);o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM?2:3}n=i}this.dirty=2},hT.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?2:1;e.dirty<n&&(e.dirty=n)}},dT.domAtom.get=function(){return!1},dT.ignoreForCoords.get=function(){return!1},Object.defineProperties(hT.prototype,dT);var pT=[],mT=function(t){function e(e,n,r,o){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o})),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,pT,s,null),this.widget=n,i=this}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(hT),vT=function(t){function e(e,n,r,o){t.call(this,e,pT,n,null),this.textDOM=r,this.text=o}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(hT),yT=function(t){function e(e,n,r,o){t.call(this,e,[],r,o),this.mark=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.create=function(t,n,r,o){var i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return s&&s.dom||(s=XE.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,r){var o=e.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=IT(i,n,s,r)),t>0&&(i=IT(i,0,t,r));for(var a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o},e}(hT),gT=function(t){function e(e,n,r,o,i,s,a,u,c){t.call(this,e,n.isLeaf?pT:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=o,s&&this.updateChildren(u,c)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,n,r,o,i,s){var a,u,c=i.nodeViews[n.type.name],l=c&&c(n,i,function(){return u?u.parent?u.parent.posBeforeChild(u):void 0:s},r,o),f=l&&l.dom,h=l&&l.contentDOM;if(n.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(n.text);else f||(f=(a=XE.renderSpec(document,n.type.spec.toDOM(n))).dom,h=a.contentDOM);h||n.isText||"BR"==f.nodeName||(f.hasAttribute("contenteditable")||(f.contentEditable=!1),n.type.spec.draggable&&(f.draggable=!0));var d=f;return f=MT(f,r,n),l?u=new xT(t,n,r,o,f,h,d,l,i,s+1):n.isText?new wT(t,n,r,o,f,d,i):new e(t,n,r,o,f,h,d,i,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?zO.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&TT(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,i=t.composing&&this.localCompositionInfo(t,e),s=i&&i.pos>-1?i:null,a=i&&i.pos<0,u=new DT(this,s&&s.node);!function(t,e,n,r){var o=e.locals(t),i=0;if(0!=o.length)for(var s=0,a=[],u=null,c=0;;){if(s<o.length&&o[s].to==i){for(var l=o[s++],f=void 0;s<o.length&&o[s].to==i;)(f||(f=[l])).push(o[s++]);if(f){f.sort(PT);for(var h=0;h<f.length;h++)n(f[h],c,!!u)}else n(l,c,!!u)}var d=void 0,p=void 0;if(u)p=-1,d=u,u=null;else{if(!(c<t.childCount))break;p=c,d=t.child(c++)}for(var m=0;m<a.length;m++)a[m].to<=i&&a.splice(m--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);var v=i+d.nodeSize;if(d.isText){var y=v;s<o.length&&o[s].from<y&&(y=o[s].from);for(var g=0;g<a.length;g++)a[g].to<y&&(y=a[g].to);y<v&&(u=d.cut(y-i),d=d.cut(0,y-i),v=y,p=-1)}r(d,a.length?d.isInline&&!d.isLeaf?a.filter(function(t){return!t.inline}):a.slice():pT,e.forChild(i,d),p),i=v}else for(var b=0;b<t.childCount;b++){var w=t.child(b);r(w,o,e.forChild(i,w),b),i+=w.nodeSize}}(this.node,this.innerDeco,function(e,i,s){e.spec.marks?u.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!s&&u.syncToMarks(i==n.node.childCount?JO.none:n.node.child(i).marks,r,t),u.placeWidget(e,t,o)},function(e,n,s,c){var l;u.syncToMarks(e.marks,r,t),u.findNodeMatch(e,n,s,c)||a&&t.state.selection.from>o&&t.state.selection.to<o+e.nodeSize&&(l=u.findIndexWithChild(i.node))>-1&&u.updateNodeAt(e,n,s,l,t)||u.updateNextNode(e,n,s,t,c)||u.addNode(e,n,s,t,o),o+=e.nodeSize}),u.syncToMarks(pT,r,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||2==this.dirty)&&(s&&this.protectLocalComposition(t,s),kT(this.contentDOM,this.children,t),MM.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t),t.style.cssText=e}}(this.dom))},e.prototype.localCompositionInfo=function(t,e){var n=t.state.selection,r=n.from,o=n.to;if(!(!(t.state.selection instanceof VA)||r<e||o>e+this.node.content.size)){var i=t.root.getSelection(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=zM(t=t.childNodes[e-1])}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(i.focusNode,i.focusOffset);if(s&&this.dom.contains(s.parentNode)){if(this.node.inlineContent){var a=s.nodeValue,u=function(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var s=t.child(o++),a=i;if(i+=s.nodeSize,s.isText){for(var u=s.text;o<t.childCount;){var c=t.child(o++);if(i+=c.nodeSize,!c.isText)break;u+=c.text}if(i>=n){var l=u.lastIndexOf(e,r-a);if(l>=0&&l+e.length+a>=n)return a+l}}}return-1}(this.node.content,a,r-e,o-e);return u<0?null:{node:s,pos:u,text:a}}return{node:s,pos:-1}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,o=e.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new vT(this,i,n,o);t.compositionNodes.push(s),this.children=IT(this.children,r,r+o.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node)||(this.updateInner(t,e,n,r),0))},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!TT(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=ET(this.dom,this.nodeDOM,OT(this.outerDeco,this.node,e),OT(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(hT);function bT(t,e,n,r,o){return MT(r,e,t),new gT(null,t,e,n,r,r,r,o,0)}var wT=function(t){function e(e,n,r,o,i,s,a){t.call(this,e,n,r,o,i,null,s,a)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node)||(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,0))},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var o=this.node.cut(t,n),i=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},e.prototype.markDirty=function(e,n){t.prototype.markDirty.call(this,e,n),this.dom==this.nodeDOM||0!=e&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(gT),_T=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(t){return 0==this.dirty&&this.dom.nodeName==t},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(e.prototype,n),e}(hT),xT=function(t){function e(e,n,r,o,i,s,a,u,c,l){t.call(this,e,n,r,o,i,s,a,c,l),this.spec=u}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.update=function(e,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(gT);function kT(t,e,n){for(var r=t.firstChild,o=!1,i=0;i<e.length;i++){var s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=jT(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(s instanceof yT){var u=r?r.previousSibling:t.lastChild;kT(s.contentDOM,s.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=jT(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}function ST(t){t&&(this.nodeName=t)}ST.prototype=Object.create(null);var CT=[new ST];function OT(t,e,n){if(0==t.length)return CT;for(var r=n?CT[0]:new ST,o=[r],i=0;i<t.length;i++){var s=t[i].type.attrs;if(s)for(var a in s.nodeName&&o.push(r=new ST(s.nodeName)),s){var u=s[a];null!=u&&(n&&1==o.length&&o.push(r=new ST(e.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+u:"style"==a?r.style=(r.style?r.style+";":"")+u:"nodeName"!=a&&(r[a]=u))}}return o}function ET(t,e,n,r){if(n==CT&&r==CT)return e;for(var o=e,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var u=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(u=o.parentNode)&&u.tagName.toLowerCase()==s.nodeName||((u=document.createElement(s.nodeName)).pmIsDeco=!0,u.appendChild(o),a=CT[0]),o=u}AT(o,a||CT[0],s)}return o}function AT(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" ").filter(Boolean):pT,s=n.class?n.class.split(" ").filter(Boolean):pT,a=0;a<i.length;a++)-1==s.indexOf(i[a])&&t.classList.remove(i[a]);for(var u=0;u<s.length;u++)-1==i.indexOf(s[u])&&t.classList.add(s[u])}if(e.style!=n.style){if(e.style)for(var c,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=l.exec(e.style);)t.style.removeProperty(c[1]);n.style&&(t.style.cssText+=n.style)}}function MT(t,e,n){return ET(t,t,CT,OT(e,n,1!=t.nodeType))}function TT(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function jT(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var DT=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(t,e){for(var n=t.childCount,r=e.length,o=new Map;n>0&&r>0;r--){var i=e[r-1],s=i.node;if(s){if(s!=t.child(n-1))break;--n,o.set(i,n)}}return{index:n,matched:o}}(t.node.content,t.children)};function PT(t,e){return t.type.side-e.type.side}function IT(t,e,n,r,o){for(var i=[],s=0,a=0;s<t.length;s++){var u=t[s],c=a,l=a+=u.size;c>=n||l<=e?i.push(u):(c<e&&i.push(u.slice(0,e-c,r)),o&&(i.push(o),o=null),l>n&&i.push(u.slice(n-c,u.size,r)))}return i}function RT(t,e){var n=t.root.getSelection(),r=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),i=o&&0==o.size,s=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var a,u,c=r.resolve(s);if(UM(n)){for(a=c;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&zA.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(t,e,n){for(var r=0==e,o=e==zM(t);r||o;){if(t==n)return!0;var i=RM(t);if(!(t=t.parentNode))return!1;r=r&&0==i,o=o&&i==zM(t)}}(n.focusNode,n.focusOffset,o.dom))){var l=o.posBefore;u=new zA(s==l?c:r.resolve(l))}}else{var f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(f<0)return null;a=r.resolve(f)}return u||(u=UT(t,a,c,"pointer"==e||t.state.selection.head<c.pos&&!i?1:-1)),u}function NT(t){return t.editable?t.hasFocus():HT(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function LT(t,e){var n=t.state.selection;if(zT(t,n),NT(t)){if(!e&&t.mouseDown&&t.mouseDown.allowDefault)return t.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection();if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,RM(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&MM.ie&&MM.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{var r,o,i=n.anchor,s=n.head;!$T||n instanceof VA||(n.$from.parent.inlineContent||(r=FT(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=FT(t,n.to))),t.docView.setSelection(i,s,t.root,e),$T&&(r&&BT(r),o&&BT(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout(function(){NT(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")},20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}DT.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},DT.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},DT.prototype.syncToMarks=function(t,e,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,t.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[o])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var u=yT.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,o++}},DT.prototype.findNodeMatch=function(t,e,n,r){var o=this.top.children,i=-1;if(r>=this.preMatch.index){for(var s=this.index;s<o.length;s++)if(o[s].matchesNode(t,e,n)){i=s;break}}else for(var a=this.index,u=Math.min(o.length,a+1);a<u;a++){var c=o[a];if(c.matchesNode(t,e,n)&&!this.preMatch.matched.has(c)){i=a;break}}return!(i<0||(this.destroyBetween(this.index,i),this.index++,0))},DT.prototype.updateNodeAt=function(t,e,n,r,o){return!!this.top.children[r].update(t,e,n,o)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},DT.prototype.findIndexWithChild=function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var n=t.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}t=e}},DT.prototype.updateNextNode=function(t,e,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var s=this.top.children[i];if(s instanceof gT){var a=this.preMatch.matched.get(s);if(null!=a&&a!=o)return!1;var u=s.dom;if((!this.lock||!(u==this.lock||1==u.nodeType&&u.contains(this.lock.parentNode))||t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&TT(e,s.outerDeco))&&s.update(t,e,n,r))return this.destroyBetween(this.index,i),s.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1},DT.prototype.addNode=function(t,e,n,r,o){this.top.children.splice(this.index++,0,gT.create(this.top,t,e,n,r,o)),this.changed=!0},DT.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var o=new mT(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},DT.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof yT;)t=t.children[t.children.length-1];t&&t instanceof wT&&!/\n$/.test(t.node.text)||((MM.safari||MM.chrome)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},DT.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);"IMG"==t&&(e.className="ProseMirror-separator"),"BR"==t&&(e.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new _T(this.top,pT,e,null)),this.changed=!0}};var $T=MM.safari||MM.chrome&&MM.chrome_version<63;function FT(t,e){var n=t.docView.domFromPos(e,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if(MM.safari&&i&&"false"==i.contentEditable)return VT(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return VT(i);if(s)return VT(s)}}function VT(t){return t.contentEditable="true",MM.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function BT(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function zT(t,e){if(e instanceof zA){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(qT(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else qT(t)}function qT(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function UT(t,e,n,r){return t.someProp("createSelectionBetween",function(r){return r(t,e,n)})||VA.between(e,n,r)}function HT(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(zd){return!1}}function WT(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&LA.findFrom(s,e)}function JT(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function QT(t,e,n){var r=t.state.selection;if(!(r instanceof VA)){if(r instanceof zA&&r.node.isInline)return JT(t,new VA(e>0?r.$to:r.$from));var o=WT(t.state,e);return!!o&&JT(t,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var i=WT(t.state,e);return!!(i&&i instanceof zA)&&JT(t,i)}if(!(MM.mac&&n.indexOf("m")>-1)){var s,a=r.$head,u=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!u||u.isText)return!1;var c=e<0?a.pos-u.nodeSize:a.pos;return!!(u.isAtom||(s=t.docView.descAt(c))&&!s.contentDOM)&&(zA.isSelectable(u)?JT(t,new zA(e<0?t.state.doc.resolve(a.pos-u.nodeSize):a)):!!MM.webkit&&JT(t,new VA(t.state.doc.resolve(e<0?c:c+u.nodeSize))))}}function KT(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function GT(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function ZT(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var o,i,s=!1;for(MM.gecko&&1==n.nodeType&&r<KT(n)&&GT(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if(GT(a))o=n,i=--r;else{if(3!=a.nodeType)break;r=(n=a).nodeValue.length}}else{if(YT(n))break;for(var u=n.previousSibling;u&&GT(u);)o=n.parentNode,i=RM(u),u=u.previousSibling;if(u)r=KT(n=u);else{if((n=n.parentNode)==t.dom)break;r=0}}s?tj(t,e,n,r):o&&tj(t,e,o,i)}}function XT(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var o,i,s=KT(n);;)if(r<s){if(1!=n.nodeType)break;if(!GT(n.childNodes[r]))break;o=n,i=++r}else{if(YT(n))break;for(var a=n.nextSibling;a&&GT(a);)o=a.parentNode,i=RM(a)+1,a=a.nextSibling;if(a)r=0,s=KT(n=a);else{if((n=n.parentNode)==t.dom)break;r=s=0}}o&&tj(t,e,o,i)}}function YT(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function tj(t,e,n,r){if(UM(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var i=t.state;setTimeout(function(){t.state==i&&LT(t)},50)}function ej(t,e,n){var r=t.state.selection;if(r instanceof VA&&!r.empty||n.indexOf("s")>-1)return!1;if(MM.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=WT(t.state,e);if(s&&s instanceof zA)return JT(t,s)}if(!o.parent.inlineContent){var a=e<0?o:i,u=r instanceof UA?LA.near(a,e):LA.findFrom(a,e);return!!u&&JT(t,u)}return!1}function nj(t,e){if(!(t.state.selection instanceof VA))return!0;var n=t.state.selection,r=n.$head,o=n.empty;if(!r.sameParent(n.$anchor))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){var s=t.state.tr;return e<0?s.delete(r.pos-i.nodeSize,r.pos):s.delete(r.pos,r.pos+i.nodeSize),t.dispatch(s),!0}return!1}function rj(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function oj(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(MM.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||MM.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function ij(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:UT(t,e.resolve(n.anchor),e.resolve(n.head))}function sj(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function aj(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||XE.fromSchema(t.state.schema),u=vj(),c=u.createElement("div");c.appendChild(a.serializeFragment(r,{document:u}));for(var l,f=c.firstChild;f&&1==f.nodeType&&(l=pj[f.nodeName.toLowerCase()]);){for(var h=l.length-1;h>=0;h--){for(var d=u.createElement(l[h]);c.firstChild;)d.appendChild(c.firstChild);c.appendChild(d),"tbody"!=l[h]&&(o++,i++)}f=c.firstChild}return f&&1==f.nodeType&&f.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n)),{dom:c,text:t.someProp("clipboardTextSerializer",function(t){return t(e)})||e.content.textBetween(0,e.content.size,"\n\n")}}function uj(t,e,n,r,o){var i,s,a=o.parent.type.spec.code;if(!n&&!e)return null;var u=e&&(r||a||!n);if(u){if(t.someProp("transformPastedText",function(t){e=t(e,a||r)}),a)return e?new KO(zO.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):KO.empty;var c=t.someProp("clipboardTextParser",function(t){return t(e,o,r)});if(c)s=c;else{var l=o.marks(),f=t.state.schema,h=XE.fromSchema(f);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(function(t){var e=i.appendChild(document.createElement("p"));t&&e.appendChild(h.serializeNode(f.text(t,l)))})}}else t.someProp("transformPastedHTML",function(t){n=t(n)}),i=function(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=vj().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t);if((n=o&&pj[o[1].toLowerCase()])&&(t=n.map(function(t){return"<"+t+">"}).join("")+t+n.map(function(t){return"</"+t+">"}).reverse().join("")),r.innerHTML=t,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),MM.webkit&&function(t){for(var e=t.querySelectorAll(MM.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<e.length;n++){var r=e[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(i);var d=i&&i.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!s){var m=t.someProp("clipboardParser")||t.someProp("domParser")||BE.fromSchema(t.state.schema);s=m.parseSlice(i,{preserveWhitespace:!(!u&&!p),context:o})}if(p)s=function(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(c){return t}for(var o=t.content,i=t.openStart,s=t.openEnd,a=n.length-2;a>=0;a-=2){var u=r.nodes[n[a]];if(!u||u.hasRequiredAttrs())break;o=zO.from(u.create(n[a+1],o)),i++,s++}return new KO(o,i,s)}(dj(s,+p[1],+p[2]),p[3]);else if((s=KO.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n).contentMatchAt(e.index(n)),o=void 0,i=[];if(t.forEach(function(t){if(i){var e,n=r.findWrapping(t.type);if(!n)return i=null;if(e=i.length&&o.length&&lj(n,o,t,i[i.length-1],0))i[i.length-1]=e;else{i.length&&(i[i.length-1]=fj(i[i.length-1],o.length));var s=cj(t,n);i.push(s),r=r.matchType(s.type,s.attrs),o=n}}}),i)return{v:zO.from(i)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}(s.content,o),!0)).openStart||s.openEnd){for(var v=0,y=0,g=s.content.firstChild;v<s.openStart&&!g.type.spec.isolating;v++,g=g.firstChild);for(var b=s.content.lastChild;y<s.openEnd&&!b.type.spec.isolating;y++,b=b.lastChild);s=dj(s,v,y)}return t.someProp("transformPasted",function(t){s=t(s)}),s}function cj(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,zO.from(t));return t}function lj(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){var i=lj(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(zO.from(cj(n,t,o+1))))}}function fj(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,fj(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(zO.empty,!0);return t.copy(n.append(r))}function hj(t,e,n,r,o,i){var s=e<0?t.firstChild:t.lastChild,a=s.content;return o<r-1&&(a=hj(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(zO.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function dj(t,e,n){return e<t.openStart&&(t=new KO(hj(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new KO(hj(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}var pj={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},mj=null;function vj(){return mj||(mj=document.implementation.createHTMLDocument("title"))}var yj={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},gj=MM.ie&&MM.ie_version<=11,bj=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};bj.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},bj.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var wj=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);MM.ie&&MM.ie_version<=11&&t.some(function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length})?n.flushSoon():n.flush()}),this.currentSelection=new bj,gj&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};wj.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){t.flushingSoon=-1,t.flush()},20))},wj.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},wj.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,yj),gj&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},wj.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(function(){return t.flush()},20)}this.observer.disconnect()}gj&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},wj.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},wj.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},wj.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return t.suppressingSelectionUpdates=!1},50)},wj.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&HT(t)){var t;if(this.suppressingSelectionUpdates)return LT(this.view);if(MM.ie&&MM.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&FM(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},wj.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},wj.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},wj.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&HT(this.view)&&!this.ignoreSelectionChange(e),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var u=this.registerMutation(t[a],s);u&&(r=r<0?u.from:Math.min(u.from,r),o=o<0?u.to:Math.max(u.to,o),u.typeOver&&(i=!0))}if(MM.gecko&&s.length>1){var c=s.filter(function(t){return"BR"==t.nodeName});if(2==c.length){var l=c[0],f=c[1];l.parentNode&&l.parentNode.parentNode==f.parentNode?f.remove():l.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),_j||(_j=!0,"normal"==getComputedStyle(this.view.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))),this.handleDOMChange(r,o,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||LT(this.view),this.currentSelection.set(e))}},wj.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(var r=0;r<t.addedNodes.length;r++)e.push(t.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var o=t.previousSibling,i=t.nextSibling;if(MM.ie&&MM.ie_version<=11&&t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++){var a=t.addedNodes[s],u=a.previousSibling,c=a.nextSibling;(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(o=u),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(i=c)}var l=o&&o.parentNode==t.target?RM(o)+1:0,f=n.localPosFromDOM(t.target,l,-1),h=i&&i.parentNode==t.target?RM(i):t.target.childNodes.length;return{from:f,to:n.localPosFromDOM(t.target,h,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var _j=!1,xj={},kj={};function Sj(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function Cj(t){t.someProp("handleDOMEvents",function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Oj(t,e)})})}function Oj(t,e){return t.someProp("handleDOMEvents",function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)})}function Ej(t){return{left:t.clientX,top:t.clientY}}function Aj(t,e,n,r,o){if(-1==r)return!1;for(var i=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,function(e){return r>i.depth?e(t,n,i.nodeAfter,i.before(r),o,!0):e(t,n,i.node(r),i.before(r),o,!1)}))return{v:!0}},a=i.depth+1;a>0;a--){var u=s(a);if(u)return u.v}return!1}function Mj(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function Tj(t,e,n,r){return Aj(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",function(n){return n(t,e,r)})}function jj(t,e,n,r){return Aj(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",function(n){return n(t,e,r)})||function(t,e,n){if(0!=n.button)return!1;var r=t.state.doc;if(-1==e)return!!r.inlineContent&&(Mj(t,VA.create(r,0,r.content.size),"pointer"),!0);for(var o=r.resolve(e),i=o.depth+1;i>0;i--){var s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)Mj(t,VA.create(r,a+1,a+1+s.content.size),"pointer");else{if(!zA.isSelectable(s))continue;Mj(t,zA.create(r,a),"pointer")}return!0}}(t,n,r)}function Dj(t){return Fj(t)}kj.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!Rj(t,e))if(229!=e.keyCode&&t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!MM.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",function(n){return n(t,e)})||function(t,e){var n=e.keyCode,r=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||MM.mac&&72==n&&"c"==r?nj(t,-1)||ZT(t):46==n||MM.mac&&68==n&&"c"==r?nj(t,1)||XT(t):13==n||27==n||(37==n?QT(t,-1,r)||ZT(t):39==n?QT(t,1,r)||XT(t):38==n?ej(t,-1,r)||ZT(t):40==n?function(t){if(MM.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode;if(n&&1==n.nodeType&&0==e.focusOffset&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;rj(t,r,!0),setTimeout(function(){return rj(t,r,!1)},20)}}}(t)||ej(t,1,r)||XT(t):r==(MM.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}(t,e)?e.preventDefault():Sj(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout(function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",function(e){return e(t,HM(13,"Enter"))}),t.lastIOSEnter=0)},200)}},kj.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},kj.keypress=function(t,e){if(!(Rj(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||MM.mac&&e.metaKey))if(t.someProp("handleKeyPress",function(n){return n(t,e)}))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof VA&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",function(e){return e(t,n.$from.pos,n.$to.pos,r)})||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var Pj=MM.mac?"metaKey":"ctrlKey";xj.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Dj(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(e,t.lastClick)&&!e[Pj]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(Ej(e));i&&("singleClick"==o?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new Ij(t,i,e,n)):("doubleClick"==o?Tj:jj)(t,i.pos,i.inside,e)?e.preventDefault():Sj(t,"pointer"))};var Ij=function(t,e,n,r){var o,i,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[Pj],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,e.inside>-1)o=t.state.doc.nodeAt(e.inside),i=e.inside;else{var a=t.state.doc.resolve(e.pos);o=a.parent,i=a.depth?a.before():0}this.mightDrag=null;var u=r?null:n.target,c=u?t.docView.nearestDesc(u,!0):null;this.target=c?c.dom:null;var l=t.state.selection;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof zA&&l.from<=i&&l.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&MM.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Sj(t,"pointer")};function Rj(t,e){return!!t.composing||!!(MM.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}Ij.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return LT(t.view)}),this.view.mouseDown=null},Ij.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ej(t))),this.allowDefault||!e?Sj(this.view,"pointer"):function(t,e,n,r,o){return Aj(t,"handleClickOn",e,n,r)||t.someProp("handleClick",function(n){return n(t,e,r)})||(o?function(t,e){if(-1==e)return!1;var n,r,o=t.state.selection;o instanceof zA&&(n=o.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(zA.isSelectable(a)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(Mj(t,zA.create(t.state.doc,r),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&zA.isSelectable(r))&&(Mj(t,new zA(n),"pointer"),!0)}(t,n))}(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||MM.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||MM.chrome&&!(this.view.state.selection instanceof VA)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Mj(this.view,LA.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Sj(this.view,"pointer")}},Ij.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Sj(this.view,"pointer"),0==t.buttons&&this.done()},xj.touchdown=function(t){Dj(t),Sj(t,"pointer")},xj.contextmenu=function(t){return Dj(t)};var Nj=MM.android?5e3:-1;function Lj(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout(function(){return Fj(t)},e))}function $j(t){var e;for(t.composing&&(t.composing=!1,t.compositionEndedAt=((e=document.createEvent("Event")).initEvent("event",!0,!0),e.timeStamp));t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function Fj(t,e){if(t.domObserver.forceFlush(),$j(t),e||t.docView.dirty){var n=RT(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}kj.compositionstart=kj.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(function(t){return!1===t.type.spec.inclusive})))t.markCursor=t.state.storedMarks||n.marks(),Fj(t,!0),t.markCursor=null;else if(Fj(t),MM.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}o=s,i=-1}t.composing=!0}Lj(t,Nj)},kj.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,Lj(t,20))};var Vj=MM.ie&&MM.ie_version<15||MM.ios&&MM.webkit_version<604;function Bj(t,e,n,r){var o=uj(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",function(e){return e(t,r,o||KO.empty)}))return!0;if(!o)return!1;var i=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}xj.copy=kj.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var o=Vj?null:e.clipboardData,i=aj(t,n.content()),s=i.dom,a=i.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",a)):function(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}}(t,s),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},kj.paste=function(t,e){var n=Vj?null:e.clipboardData;n&&Bj(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():function(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Bj(t,r.value,null,e):Bj(t,r.textContent,r.innerHTML,e)},50)}}(t,e)};var zj=function(t,e){this.slice=t,this.move=e},qj=MM.mac?"altKey":"ctrlKey";for(var Uj in xj.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(Ej(e));if(o&&o.pos>=r.from&&o.pos<=(r instanceof zA?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(zA.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var i=t.docView.nearestDesc(e.target,!0);i&&i.node.type.spec.draggable&&i!=t.docView&&t.dispatch(t.state.tr.setSelection(zA.create(t.state.doc,i.posBefore)))}var s=t.state.selection.content(),a=aj(t,s),u=a.dom,c=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Vj?"Text":"text/html",u.innerHTML),e.dataTransfer.effectAllowed="copyMove",Vj||e.dataTransfer.setData("text/plain",c),t.dragging=new zj(s,!e[qj])}},xj.dragend=function(t){var e=t.dragging;window.setTimeout(function(){t.dragging==e&&(t.dragging=null)},50)},kj.dragover=kj.dragenter=function(t,e){return e.preventDefault()},kj.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(Ej(e));if(r){var o=t.state.doc.resolve(r.pos);if(o){var i=n&&n.slice;i?t.someProp("transformPasted",function(t){i=t(i)}):i=uj(t,e.dataTransfer.getData(Vj?"Text":"text/plain"),Vj?null:e.dataTransfer.getData("text/html"),!1,o);var s=n&&!e[qj];if(t.someProp("handleDrop",function(n){return n(t,e,i||KO.empty,s)}))e.preventDefault();else if(i){e.preventDefault();var a=i?xA(t.state.doc,o.pos,i):o.pos;null==a&&(a=o.pos);var u=t.state.tr;s&&u.deleteSelection();var c=u.mapping.map(a),l=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,f=u.doc;if(l?u.replaceRangeWith(c,c,i.content.firstChild):u.replaceRange(c,c,i),!u.doc.eq(f)){var h=u.doc.resolve(c);if(l&&zA.isSelectable(i.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(i.content.firstChild))u.setSelection(new zA(h));else{var d=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach(function(t,e,n,r){return d=r}),u.setSelection(UT(t,h,u.doc.resolve(d)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))}}}}}},xj.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&LT(t)},20))},xj.blur=function(t,e){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),e.relatedTarget&&t.dom.contains(e.relatedTarget)&&t.domObserver.currentSelection.set({}),t.focused=!1)},xj.beforeinput=function(t,e){if(MM.chrome&&MM.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout(function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",function(e){return e(t,HM(8,"Backspace"))}))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}},50)}},kj)xj[Uj]=kj[Uj];function Hj(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var Wj=function(t,e){this.spec=e||Xj,this.side=this.spec.side||0,this.toDOM=t};Wj.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new Kj(i-n,i-n,this)},Wj.prototype.valid=function(){return!0},Wj.prototype.eq=function(t){return this==t||t instanceof Wj&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Hj(this.spec,t.spec))};var Jj=function(t,e){this.spec=e||Xj,this.attrs=t};Jj.prototype.map=function(t,e,n,r){var o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Kj(o,i,this)},Jj.prototype.valid=function(t,e){return e.from<e.to},Jj.prototype.eq=function(t){return this==t||t instanceof Jj&&Hj(this.attrs,t.attrs)&&Hj(this.spec,t.spec)},Jj.is=function(t){return t.type instanceof Jj};var Qj=function(t,e){this.spec=e||Xj,this.attrs=t};Qj.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,1);if(o.deleted)return null;var i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Kj(o.pos-n,i.pos-n,this)},Qj.prototype.valid=function(t,e){var n,r=t.content.findIndex(e.from),o=r.offset;return o==e.from&&!(n=t.child(r.index)).isText&&o+n.nodeSize==e.to},Qj.prototype.eq=function(t){return this==t||t instanceof Qj&&Hj(this.attrs,t.attrs)&&Hj(this.spec,t.spec)};var Kj=function(t,e,n){this.from=t,this.to=e,this.type=n},Gj={spec:{configurable:!0},inline:{configurable:!0}};Kj.prototype.copy=function(t,e){return new Kj(t,e,this.type)},Kj.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},Kj.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},Kj.widget=function(t,e,n){return new Kj(t,t,new Wj(e,n))},Kj.inline=function(t,e,n,r){return new Kj(t,e,new Jj(n,r))},Kj.node=function(t,e,n,r){return new Kj(t,e,new Qj(n,r))},Gj.spec.get=function(){return this.type.spec},Gj.inline.get=function(){return this.type instanceof Jj},Object.defineProperties(Kj.prototype,Gj);var Zj=[],Xj={},Yj=function(t,e){this.local=t&&t.length?t:Zj,this.children=e&&e.length?e:Zj};Yj.create=function(t,e){return e.length?iD(e,t,0,Xj):tD},Yj.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},Yj.prototype.findInner=function(t,e,n,r,o){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var u=this.children[a]+1;this.children[a+2].findInner(t-u,e-u,n,r+u,o)}},Yj.prototype.map=function(t,e,n){return this==tD||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Xj)},Yj.prototype.mapInner=function(t,e,n,r,o){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,r,o,i,s){for(var a=t.slice(),u=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var u=a[s+1],c=void 0;-1==u||t>u+i||(e>=a[s]+i?a[s+1]=-1:n>=o&&(c=r-n-(e-t))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(u);for(var l=!1,f=0;f<a.length;f+=3)if(-1==a[f+1]){var h=n.map(t[f]+i),d=h-o;if(d<0||d>=r.content.size){l=!0;continue}var p=n.map(t[f+1]+i,-1)-o,m=r.content.findIndex(d),v=m.offset,y=r.maybeChild(m.index);if(y&&v==d&&v+y.nodeSize==p){var g=a[f+2].mapInner(n,y,h+1,t[f]+i+1,s);g!=tD?(a[f]=d,a[f+1]=p,a[f+2]=g):(a[f+1]=-2,l=!0)}else l=!0}if(l){var b=iD(function(t,e,n,r,o,i,s){function a(t,e){for(var i=0;i<t.local.length;i++){var u=t.local[i].map(r,o,e);u?n.push(u):s.onRemove&&s.onRemove(t.local[i].spec)}for(var c=0;c<t.children.length;c+=3)a(t.children[c+2],t.children[c]+e+1)}for(var u=0;u<t.length;u+=3)-1==t[u+1]&&a(t[u+2],e[u]+i+1);return n}(a,t,e||[],n,o,i,s),r,0,s);e=b.local;for(var w=0;w<a.length;w+=3)a[w+1]<0&&(a.splice(w,3),w-=3);for(var _=0,x=0;_<b.children.length;_+=3){for(var k=b.children[_];x<a.length&&a[x]<k;)x+=3;a.splice(x,0,b.children[_],b.children[_+1],b.children[_+2])}}return new Yj(e&&e.sort(sD),a)}(this.children,i,t,e,n,r,o):i?new Yj(i.sort(sD)):tD},Yj.prototype.add=function(t,e){return e.length?this==tD?Yj.create(t,e):this.addInner(t,e,0):this},Yj.prototype.addInner=function(t,e,n){var r,o=this,i=0;t.forEach(function(t,s){var a,u=s+n;if(a=rD(e,t,u)){for(r||(r=o.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(t,a,u+1):r.splice(i,0,s,s+t.nodeSize,iD(a,t,u+1,Xj)),i+=3}});for(var s=nD(i?oD(e):e,-n),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new Yj(s.length?this.local.concat(s).sort(sD):this.local,r||this.children)},Yj.prototype.remove=function(t){return 0==t.length||this==tD?this:this.removeInner(t,0)},Yj.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,s=n[o]+e,a=n[o+1]+e,u=0,c=void 0;u<t.length;u++)(c=t[u])&&c.from>s&&c.to<a&&(t[u]=null,(i||(i=[])).push(c));if(i){n==this.children&&(n=this.children.slice());var l=n[o+2].removeInner(i,s+1);l!=tD?n[o+2]=l:(n.splice(o,3),o-=3)}}if(r.length)for(var f=0,h=void 0;f<t.length;f++)if(h=t[f])for(var d=0;d<r.length;d++)r[d].eq(h,e)&&(r==this.local&&(r=this.local.slice()),r.splice(d--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Yj(r,n):tD},Yj.prototype.forChild=function(t,e){if(this==tD)return this;if(e.isLeaf)return Yj.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var i=t+1,s=i+e.content.size,a=0;a<this.local.length;a++){var u=this.local[a];if(u.from<s&&u.to>i&&u.type instanceof Jj){var c=Math.max(i,u.from)-i,l=Math.min(s,u.to)-i;c<l&&(r||(r=[])).push(u.copy(c,l))}}if(r){var f=new Yj(r.sort(sD));return n?new eD([f,n]):f}return n||tD},Yj.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Yj)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},Yj.prototype.locals=function(t){return aD(this.localsInner(t))},Yj.prototype.localsInner=function(t){if(this==tD)return Zj;if(t.inlineContent||!this.local.some(Jj.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Jj||e.push(this.local[n]);return e};var tD=new Yj;Yj.empty=tD,Yj.removeOverlap=aD;var eD=function(t){this.members=t};function nD(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new Kj(o.from+e,o.to+e,o.type))}return n}function rD(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function oD(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function iD(t,e,n,r){var o=[],i=!1;e.forEach(function(e,s){var a=rD(t,e,s+n);if(a){i=!0;var u=iD(a,e,n+s+1,r);u!=tD&&o.push(s,s+e.nodeSize,u)}});for(var s=nD(i?oD(t):t,-n).sort(sD),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Yj(s,o):tD}function sD(t,e){return t.from-e.from||t.to-e.to}function aD(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),uD(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),uD(e,o+1,i.copy(r.to,i.to)))}}return e}function uD(t,e,n){for(;e<t.length&&sD(n,t[e])>0;)e++;t.splice(e,0,n)}function cD(t){var e=[];return t.someProp("decorations",function(n){var r=n(t.state);r&&r!=tD&&e.push(r)}),t.cursorWrapper&&e.push(Yj.create(t.state.doc,[t.cursorWrapper.deco])),eD.from(e)}eD.prototype.map=function(t,e){var n=this.members.map(function(n){return n.map(t,e,Xj)});return eD.from(n)},eD.prototype.forChild=function(t,e){if(e.isLeaf)return Yj.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(t,e);o!=tD&&(o instanceof eD?n=n.concat(o.members):n.push(o))}return eD.from(n)},eD.prototype.eq=function(t){if(!(t instanceof eD)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},eD.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(t);if(o.length)if(e){n&&(e=e.slice(),n=!1);for(var i=0;i<o.length;i++)e.push(o[i])}else e=o}return e?aD(n?e:e.sort(sD)):Zj},eD.from=function(t){switch(t.length){case 0:return tD;case 1:return t[0];default:return new eD(t)}};var lD=function(t,e){this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(vD),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=pD(this),this.markCursor=null,this.cursorWrapper=null,dD(this),this.nodeViews=mD(this),this.docView=bT(this.state.doc,hD(this),cD(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new wj(t,function(e,n,r,o){return function(t,e,n,r,o){if(e<0){var i=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=RT(t,i);if(s&&!t.state.selection.eq(s)){var a=t.state.tr.setSelection(s);"pointer"==i?a.setMeta("pointer",!0):"key"==i&&a.scrollIntoView(),t.dispatch(a)}}else{var u=t.state.doc.resolve(e),c=u.sharedDepth(n);e=u.before(c+1),n=t.state.doc.resolve(n).after(c+1);var l=t.state.selection,f=function(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,i=r.fromOffset,s=r.toOffset,a=r.from,u=r.to,c=t.root.getSelection(),l=null,f=c.anchorNode;if(f&&t.dom.contains(1==f.nodeType?f:f.parentNode)&&(l=[{node:f,offset:c.anchorOffset}],UM(c)||l.push({node:c.focusNode,offset:c.focusOffset})),MM.chrome&&8===t.lastKeyCode)for(var h=s;h>i;h--){var d=o.childNodes[h-1],p=d.pmViewDesc;if("BR"==d.nodeName&&!p){s=h;break}if(!p||p.size)break}var m=t.state.doc,v=t.someProp("domParser")||BE.fromSchema(t.state.schema),y=m.resolve(a),g=null,b=v.parse(o,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:s,preserveWhitespace:!y.parent.type.spec.code||"full",editableContent:!0,findPositions:l,ruleFromNode:oj,context:y});if(l&&null!=l[0].pos){var w=l[0].pos,_=l[1]&&l[1].pos;null==_&&(_=w),g={anchor:w+a,head:_+a}}return{doc:b,sel:g,from:a,to:u}}(t,e,n);if(MM.chrome&&t.cursorWrapper&&f.sel&&f.sel.anchor==t.cursorWrapper.deco.from){var h=t.cursorWrapper.deco.type.toDOM.nextSibling,d=h&&h.nodeValue?h.nodeValue.length:1;f.sel={anchor:f.sel.anchor+d,head:f.sel.anchor+d}}var p,m,v=t.state.doc,y=v.slice(f.from,f.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(p=t.state.selection.to,m="end"):(p=t.state.selection.from,m="start"),t.lastKeyCode=null;var g=function(t,e,n,r,o){var i=t.findDiffStart(e,n);if(null==i)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,u=s.b;return"end"==o&&(r-=a+Math.max(0,i-Math.min(a,u))-i),a<i&&t.size<e.size?(u=(i-=r<=i&&r>=a?i-r:0)+(u-a),a=i):u<i&&(a=(i-=r<=i&&r>=u?i-r:0)+(a-u),u=i),{start:i,endA:a,endB:u}}(y.content,f.doc.content,f.from,p,m);if(!g){if(!(r&&l instanceof VA&&!l.empty&&l.$head.sameParent(l.$anchor))||t.composing||f.sel&&f.sel.anchor!=f.sel.head){if((MM.ios&&t.lastIOSEnter>Date.now()-225||MM.android)&&o.some(function(t){return"DIV"==t.nodeName||"P"==t.nodeName})&&t.someProp("handleKeyDown",function(e){return e(t,HM(13,"Enter"))}))return void(t.lastIOSEnter=0);if(f.sel){var b=ij(t,t.state.doc,f.sel);b&&!b.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(b))}return}g={start:l.from,endA:l.to,endB:l.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof VA&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),MM.ie&&MM.ie_version<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>f.from&&" \xa0"==f.doc.textBetween(g.start-f.from-1,g.start-f.from+1)&&(g.start--,g.endA--,g.endB--);var w,_=f.doc.resolveNoCache(g.start-f.from),x=f.doc.resolveNoCache(g.endB-f.from),k=_.sameParent(x)&&_.parent.inlineContent;if((MM.ios&&t.lastIOSEnter>Date.now()-225&&(!k||o.some(function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))||!k&&_.pos<f.doc.content.size&&(w=LA.findFrom(f.doc.resolve(_.pos+1),1,!0))&&w.head==x.pos)&&t.someProp("handleKeyDown",function(e){return e(t,HM(13,"Enter"))}))t.lastIOSEnter=0;else if(t.state.selection.anchor>g.start&&function(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||sj(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(sj(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||sj(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(v,g.start,g.endA,_,x)&&t.someProp("handleKeyDown",function(e){return e(t,HM(8,"Backspace"))}))MM.android&&MM.chrome&&t.domObserver.suppressSelectionUpdates();else{MM.chrome&&MM.android&&g.toB==g.from&&(t.lastAndroidDelete=Date.now()),MM.android&&!k&&_.start()!=x.start()&&0==x.parentOffset&&_.depth==x.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==g.endA&&(g.endB-=2,x=f.doc.resolveNoCache(g.endB-f.from),setTimeout(function(){t.someProp("handleKeyDown",function(e){return e(t,HM(13,"Enter"))})},20));var S,C,O,E,A=g.start,M=g.endA;if(k)if(_.pos==x.pos)MM.ie&&MM.ie_version<=11&&0==_.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(function(){return LT(t)},20)),S=t.state.tr.delete(A,M),C=v.resolve(g.start).marksAcross(v.resolve(g.endA));else if(g.endA==g.endB&&(E=v.resolve(g.start))&&(O=function(t,e){for(var n,r,o,i=t.firstChild.marks,s=e.firstChild.marks,a=i,u=s,c=0;c<s.length;c++)a=s[c].removeFromSet(a);for(var l=0;l<i.length;l++)u=i[l].removeFromSet(u);if(1==a.length&&0==u.length)r=a[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=a.length||1!=u.length)return null;r=u[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var f=[],h=0;h<e.childCount;h++)f.push(o(e.child(h)));if(zO.from(f).eq(t))return{mark:r,type:n}}(_.parent.content.cut(_.parentOffset,x.parentOffset),E.parent.content.cut(E.parentOffset,g.endA-E.start()))))S=t.state.tr,"add"==O.type?S.addMark(A,M,O.mark):S.removeMark(A,M,O.mark);else if(_.parent.child(_.index()).isText&&_.index()==x.index()-(x.textOffset?0:1)){var T=_.parent.textBetween(_.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",function(e){return e(t,A,M,T)}))return;S=t.state.tr.insertText(T,A,M)}if(S||(S=t.state.tr.replace(A,M,f.doc.slice(g.start-f.from,g.endB-f.from))),f.sel){var j=ij(t,S.doc,f.sel);j&&!(MM.chrome&&MM.android&&t.composing&&j.empty&&(g.start!=g.endB||t.lastAndroidDelete<Date.now()-100)&&(j.head==A||j.head==S.mapping.map(M)-1)||MM.ie&&j.empty&&j.head==A)&&S.setSelection(j)}C&&S.ensureMarks(C),t.dispatch(S.scrollIntoView())}}}(t,e,n,r,o)}),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=xj[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||Oj(t,e)||!t.editable&&e.type in kj||n(t,e)})};for(var n in xj)e(n);MM.safari&&t.dom.addEventListener("input",function(){return null}),Cj(t)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},fD={props:{configurable:!0},root:{configurable:!0}};function hD(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))}),[Kj.node(0,t.state.doc.content.size,e)]}function dD(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:Kj.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function pD(t){return!t.someProp("editable",function(e){return!1===e(t.state)})}function mD(t){var e={};return t.someProp("nodeViews",function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}),e}function vD(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}fD.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},lD.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Cj(this),this._props=t,t.plugins&&(t.plugins.forEach(vD),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)},lD.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},lD.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},lD.prototype.updateStateInner=function(t,e){var n=this,r=this.state,o=!1,i=!1;if(t.storedMarks&&this.composing&&($j(this),i=!0),this.state=t,e){var s=mD(this);(function(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r})(s,this.nodeViews)&&(this.nodeViews=s,o=!0),Cj(this)}this.editable=pD(this),dD(this);var a=cD(this),u=hD(this),c=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",l=o||!this.docView.matchesNode(t.doc,u,a);!l&&t.selection.eq(r.selection)||(i=!0);var f,h,d,p,m,v,y,g,b,w,_="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(a!=t.dom&&t.dom.contains(a)){var u=a.getBoundingClientRect();if(u.top>=o-20){e=a,n=u.top;break}}}return{refDOM:e,refTop:n,stack:KM(t.dom)}}(this);if(i){this.domObserver.stop();var x=l&&(MM.ie||MM.chrome)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&(p=r.selection,m=t.selection,v=Math.min(p.$anchor.sharedDepth(p.head),m.$anchor.sharedDepth(m.head)),p.$anchor.start(v)!=m.$anchor.start(v));if(l){var k=MM.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,u,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=bT(t.doc,u,a,this.dom,this)),k&&!this.trackWrites&&(x=!0)}x||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(f=this,h=f.docView.domFromPos(f.state.selection.anchor,0),d=f.root.getSelection(),FM(h.node,h.offset,d.anchorNode,d.anchorOffset)))?LT(this,x):(zT(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var S=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(t){return t(n)})||function(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=n||t.dom;s;s=NM(s))if(1==s.nodeType){var a=s==i.body||1!=s.nodeType,u=a?WM(i):QM(s),c=0,l=0;if(e.top<u.top+JM(r,"top")?l=-(u.top-e.top+JM(o,"top")):e.bottom>u.bottom-JM(r,"bottom")&&(l=e.bottom-u.bottom+JM(o,"bottom")),e.left<u.left+JM(r,"left")?c=-(u.left-e.left+JM(o,"left")):e.right>u.right-JM(r,"right")&&(c=e.right-u.right+JM(o,"right")),c||l)if(a)i.defaultView.scrollBy(c,l);else{var f=s.scrollLeft,h=s.scrollTop;l&&(s.scrollTop+=l),c&&(s.scrollLeft+=c);var d=s.scrollLeft-f,p=s.scrollTop-h;e={left:e.left-d,top:e.top-p,right:e.right-d,bottom:e.bottom-p}}if(a)break}}(this,t.selection instanceof zA?this.docView.domAfterPos(t.selection.from).getBoundingClientRect():this.coordsAtPos(t.selection.head,1),S)}else _&&(b=(y=_).refTop,GM(y.stack,0==(w=(g=y.refDOM)?g.getBoundingClientRect().top:0)?0:w-b))},lD.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},lD.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var o=this.directPlugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var s=this.state.plugins[i];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}},lD.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(var o=0;o<this.directPlugins.length;o++){var i=this.directPlugins[o].props[t];if(null!=i&&(n=e?e(i):i))return n}var s=this.state.plugins;if(s)for(var a=0;a<s.length;a++){var u=s[a].props[t];if(null!=u&&(n=e?e(u):u))return n}},lD.prototype.hasFocus=function(){return this.root.activeElement==this.dom},lD.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(ZM)return t.focus(ZM);var e=KM(t);t.focus(null==ZM?{get preventScroll(){return ZM={preventScroll:!0},!0}}:void 0),ZM||(ZM=!1,GM(e,0))}(this.dom),LT(this),this.domObserver.start()},fD.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},lD.prototype.posAtCoords=function(t){return eT(this,t)},lD.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),oT(this,t,e)},lD.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},lD.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},lD.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},lD.prototype.endOfTextblock=function(t,e){return function(t,e,n){return cT==e&&lT==n?fT:(cT=e,lT=n,fT="up"==n||"down"==n?function(t,e,n){var r=e.selection,o="up"==n?r.$from:r.$to;return aT(t,e,function(){for(var e=t.docView.domFromPos(o.pos,"up"==n?-1:1).node;;){var r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.dom;break}e=r.dom.parentNode}for(var i=oT(t,o.pos,1),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=$M(s,0,s.nodeValue.length).getClientRects()}for(var u=0;u<a.length;u++){var c=a[u];if(c.bottom>c.top+1&&("up"==n?i.top-c.top>2*(c.bottom-i.top):c.bottom-i.bottom>2*(i.bottom-c.top)))return!1}}return!0})}(t,e,n):function(t,e,n){var r=e.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=t.root.getSelection();return uT.test(r.parent.textContent)&&a.modify?aT(t,e,function(){var e=a.getRangeAt(0),o=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var u=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||o==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),u}):"left"==n||"backward"==n?i:s}(t,e,n))}(this,e||this.state,t)},lD.prototype.destroy=function(){this.docView&&(function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],cD(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},lD.prototype.dispatchEvent=function(t){return function(t,e){Oj(t,e)||!xj[e.type]||!t.editable&&e.type in kj||xj[e.type](t,e)}(this,t)},lD.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(lD.prototype,fD);for(var yD={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},gD={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},bD="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),wD="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),_D="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),xD="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),kD="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),SD=bD&&(xD||+bD[1]<57)||_D&&xD,CD=0;CD<10;CD++)yD[48+CD]=yD[96+CD]=String(CD);for(CD=1;CD<=24;CD++)yD[CD+111]="F"+CD;for(CD=65;CD<=90;CD++)yD[CD]=String.fromCharCode(CD+32),gD[CD]=String.fromCharCode(CD);for(var OD in yD)gD.hasOwnProperty(OD)||(gD[OD]=yD[OD]);var ED="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function AD(t){var e,n,r,o,i=t.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var a=0;a<i.length-1;a++){var u=i[a];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))e=!0;else if(/^(c|ctrl|control)$/i.test(u))n=!0;else if(/^s(hift)?$/i.test(u))r=!0;else{if(!/^mod$/i.test(u))throw new Error("Unrecognized modifier name: "+u);ED?o=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function MD(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function TD(t){var e=function(t){var e=Object.create(null);for(var n in t)e[AD(n)]=t[n];return e}(t);return function(t,n){var r,o=function(t){var e=!(SD&&(t.ctrlKey||t.altKey||t.metaKey)||(wD||kD)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?gD:yD)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),i=1==o.length&&" "!=o,s=e[MD(o,n,!i)];if(s&&s(t.state,t.dispatch,t))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=yD[n.keyCode])&&r!=o){var a=e[MD(r,n,!0)];if(a&&a(t.state,t.dispatch,t))return!0}else if(i&&n.shiftKey){var u=e[MD(o,n,!0)];if(u&&u(t.state,t.dispatch,t))return!0}return!1}}function jD(t){return"Object"===function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)&&t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function DD(t,e){const n={...t};return jD(t)&&jD(e)&&Object.keys(e).forEach(r=>{jD(e[r])?r in t?n[r]=DD(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}function PD(t){return"function"==typeof t}function ID(t,e,...n){return PD(t)?e?t.bind(e)(...n):t(...n):t}function RD(t,e,n){return void 0===t.config[e]&&t.parent?RD(t.parent,e,n):"function"==typeof t.config[e]?t.config[e].bind({...n,parent:t.parent?RD(t.parent,e,n):null}):t.config[e]}class ND{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions,this.storage=ID(RD(this,"addStorage",{name:this.name,options:this.options}))}static create(t={}){return new ND(t)}configure(t={}){const e=this.extend();return e.options=DD(this.options,t),e}extend(t={}){const e=new ND(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e.storage=ID(RD(e,"addStorage",{name:e.name,options:e.options})),e}}function LD(t,e,n){const{from:r,to:o}=e,{blockSeparator:i="\n\n",textSerializers:s={}}=n||{};let a="",u=!0;return t.nodesBetween(r,o,(t,e,n,c)=>{var l;const f=null==s?void 0:s[t.type.name];f?(t.isBlock&&!u&&(a+=i,u=!0),a+=f({node:t,pos:e,parent:n,index:c})):t.isText?(a+=null===(l=null==t?void 0:t.text)||void 0===l?void 0:l.slice(Math.max(r,e)-e,o-e),u=!1):t.isBlock&&!u&&(a+=i,u=!0)}),a}function $D(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,t])=>t.spec.toText).map(([t,e])=>[t,e.spec.toText]))}const FD=ND.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new rM({key:new sM("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{from:i,to:s}=o;return LD(r,{from:i,to:s},{textSerializers:$D(n)})}}})]}});var VD=Object.freeze({__proto__:null,blur:()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{t.isDestroyed||e.dom.blur()}),!0)}),BD=Object.freeze({__proto__:null,clearContent:(t=!1)=>({commands:e})=>e.setContent("",t)}),zD=Object.freeze({__proto__:null,clearNodes:()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return o.forEach(r=>{t.doc.nodesBetween(r.$from.pos,r.$to.pos,(t,r)=>{if(t.type.isText)return;const o=e.doc.resolve(e.mapping.map(r)),i=e.doc.resolve(e.mapping.map(r+t.nodeSize)),s=o.blockRange(i);if(!s)return;const a=yA(s);if(t.type.isTextblock&&n){const{defaultType:t}=o.parent.contentMatchAt(o.index());e.setNodeMarkup(s.start,t)}(a||0===a)&&n&&e.lift(s,a)})}),!0}}),qD=Object.freeze({__proto__:null,command:t=>e=>t(e)}),UD=Object.freeze({__proto__:null,createParagraphNear:()=>({state:t,dispatch:e})=>bM(t,e)});function HD(t,e){if("string"==typeof t){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var WD=Object.freeze({__proto__:null,deleteNode:t=>({tr:e,state:n,dispatch:r})=>{const o=HD(t,n.schema),i=e.selection.$anchor;for(let t=i.depth;t>0;t-=1)if(i.node(t).type===o){if(r){const n=i.before(t),r=i.after(t);e.delete(n,r).scrollIntoView()}return!0}return!1}}),JD=Object.freeze({__proto__:null,deleteRange:t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0}}),QD=Object.freeze({__proto__:null,deleteSelection:()=>({state:t,dispatch:e})=>aM(t,e)}),KD=Object.freeze({__proto__:null,enter:()=>({commands:t})=>t.keyboardShortcut("Enter")}),GD=Object.freeze({__proto__:null,exitCode:()=>({state:t,dispatch:e})=>gM(t,e)});function ZD(t,e){if("string"==typeof t){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function XD(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function YD(t,e,n={strict:!0}){const r=Object.keys(e);return!r.length||r.every(r=>n.strict?e[r]===t[r]:XD(e[r])?e[r].test(t[r]):e[r]===t[r])}function tP(t,e,n={}){return t.find(t=>t.type===e&&YD(t.attrs,n))}function eP(t,e,n={}){return!!tP(t,e,n)}function nP(t,e,n={}){if(!t||!e)return;const r=t.parent.childAfter(t.parentOffset);if(!r.node)return;const o=tP(r.node.marks,e,n);if(!o)return;let i=t.index(),s=t.start()+r.offset,a=i+1,u=s+r.node.nodeSize;for(tP(r.node.marks,e,n);i>0&&o.isInSet(t.parent.child(i-1).marks);)i-=1,s-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&eP(t.parent.child(a).marks,e,n);)u+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:u}}var rP=Object.freeze({__proto__:null,extendMarkRange:(t,e={})=>({tr:n,state:r,dispatch:o})=>{const i=ZD(t,r.schema),{doc:s,selection:a}=n,{$from:u,from:c,to:l}=a;if(o){const t=nP(u,i,e);if(t&&t.from<=c&&t.to>=l){const e=VA.create(s,t.from,t.to);n.setSelection(e)}}return!0}}),oP=Object.freeze({__proto__:null,first:t=>e=>{const n="function"==typeof t?t(e):t;for(let t=0;t<n.length;t+=1)if(n[t](e))return!0;return!1}});function iP(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function sP(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!function(t){var e;return"class"===(null===(e=t.constructor)||void 0===e?void 0:e.toString().substring(0,5))}(t)}var aP=Object.freeze({__proto__:null,focus:(t=null)=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=()=>{(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)&&n.dom.focus(),requestAnimationFrame(()=>{e.isDestroyed||(n.focus(),e.commands.scrollIntoView())})};if(n.hasFocus()&&null===t||!1===t)return!0;if(o&&null===t&&!(sP(s=e.state.selection)&&s instanceof VA))return i(),!0;var s;const{from:a,to:u}=function(t,e=null){if(!e)return null;if("start"===e||!0===e)return{from:0,to:0};if("end"===e){const{size:e}=t.doc.content;return{from:e,to:e}}return{from:e,to:e}}(e.state,t)||e.state.selection,{doc:c,storedMarks:l}=r,f=LA.atStart(c).from,h=LA.atEnd(c).to,d=iP(a,f,h),p=iP(u,f,h),m=VA.create(c,d,p),v=e.state.selection.eq(m);return o&&(v||r.setSelection(m),v&&l&&r.setStoredMarks(l),i()),!0}}),uP=Object.freeze({__proto__:null,forEach:(t,e)=>n=>t.every((t,r)=>e(t,{...n,index:r}))}),cP=Object.freeze({__proto__:null,insertContent:(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e)});function lP(t){const e=`<body>${t}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}function fP(t,e,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof t&&null!==t)try{return Array.isArray(t)?zO.fromArray(t.map(t=>e.nodeFromJSON(t))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),fP("",e,n)}if("string"==typeof t){const r=BE.fromSchema(e);return n.slice?r.parseSlice(lP(t),n.parseOptions).content:r.parse(lP(t),n.parseOptions)}return fP("",e,n)}var hP=Object.freeze({__proto__:null,insertContentAt:(t,e,n)=>({tr:r,dispatch:o,editor:i})=>{if(o){n={parseOptions:{},updateSelection:!0,...n};const o=fP(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===o.toString())return!0;const{from:s,to:a}="number"==typeof t?{from:t,to:t}:t;r.replaceWith(s,a,o),n.updateSelection&&function(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof dA||o instanceof pA))return;let i=0;t.mapping.maps[r].forEach((t,e,n,r)=>{0===i&&(i=r)}),t.setSelection(LA.near(t.doc.resolve(i),1))}(r,r.steps.length-1)}return!0}}),dP=Object.freeze({__proto__:null,joinBackward:()=>({state:t,dispatch:e})=>uM(t,e)}),pP=Object.freeze({__proto__:null,joinForward:()=>({state:t,dispatch:e})=>hM(t,e)});const mP="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var vP=Object.freeze({__proto__:null,keyboardShortcut:t=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=function(t){const e=t.split(/-(?!$)/);let n,r,o,i,s=e[e.length-1];"Space"===s&&(s=" ");for(let a=0;a<e.length-1;a+=1){const t=e[a];if(/^(cmd|meta|m)$/i.test(t))i=!0;else if(/^a(lt)?$/i.test(t))n=!0;else if(/^(c|ctrl|control)$/i.test(t))r=!0;else if(/^s(hift)?$/i.test(t))o=!0;else{if(!/^mod$/i.test(t))throw new Error(`Unrecognized modifier name: ${t}`);mP?i=!0:r=!0}}return n&&(s=`Alt-${s}`),r&&(s=`Ctrl-${s}`),i&&(s=`Meta-${s}`),o&&(s=`Shift-${s}`),s}(t).split(/-(?!$)/),s=i.find(t=>!["Alt","Ctrl","Meta","Shift"].includes(t)),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",t=>t(n,a))});return null==u||u.steps.forEach(t=>{const e=t.map(r.mapping);e&&o&&r.maybeStep(e)}),!0}});function yP(t,e,n={}){const{from:r,to:o,empty:i}=t.selection,s=e?HD(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(t,e)=>{if(t.isText)return;const n=Math.max(r,e),i=Math.min(o,e+t.nodeSize);a.push({node:t,from:n,to:i})});const u=o-r,c=a.filter(t=>!s||s.name===t.node.type.name).filter(t=>YD(t.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((t,e)=>t+e.to-e.from,0)>=u}var gP=Object.freeze({__proto__:null,lift:(t,e={})=>({state:n,dispatch:r})=>!!yP(n,HD(t,n.schema),e)&&mM(n,r)}),bP=Object.freeze({__proto__:null,liftEmptyBlock:()=>({state:t,dispatch:e})=>wM(t,e)}),wP=Object.freeze({__proto__:null,liftListItem:t=>({state:e,dispatch:n})=>{return(r=HD(t,e.schema),function(t,e){var n=t.selection,o=n.$from,i=o.blockRange(n.$to,function(t){return t.childCount&&t.firstChild.type==r});return!!i&&(!e||(o.node(i.depth-1).type==r?function(t,e,n,r){var o=t.tr,i=r.end,s=r.$to.end(r.depth);return i<s&&(o.step(new pA(i-1,s,i,s,new KO(zO.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new dE(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth)),e(o.lift(r,yA(r)).scrollIntoView()),!0}(t,e,r,i):function(t,e,n){for(var r=t.tr,o=n.parent,i=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)i-=o.child(s).nodeSize,r.delete(i-1,i+1);var u=r.doc.resolve(n.start),c=u.nodeAfter;if(r.mapping.map(n.end)!=n.start+u.nodeAfter.nodeSize)return!1;var l=0==n.startIndex,f=n.endIndex==o.childCount,h=u.node(-1),d=u.index(-1);if(!h.canReplace(d+(l?0:1),d+1,c.content.append(f?zO.empty:zO.from(o))))return!1;var p=u.pos,m=p+c.nodeSize;return r.step(new pA(p-(l?1:0),m+(f?1:0),p+1,m-1,new KO((l?zO.empty:zO.from(o.copy(zO.empty))).append(f?zO.empty:zO.from(o.copy(zO.empty))),l?0:1,f?0:1),l?0:1)),e(r.scrollIntoView()),!0}(t,e,i)))})(e,n);var r}}),_P=Object.freeze({__proto__:null,newlineInCode:()=>({state:t,dispatch:e})=>vM(t,e)});function xP(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function kP(t,e){const n="string"==typeof e?[e]:e;return Object.keys(t).reduce((e,r)=>(n.includes(r)||(e[r]=t[r]),e),{})}var SP=Object.freeze({__proto__:null,resetAttributes:(t,e)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=xP("string"==typeof t?t:t.name,r.schema);return!!a&&("node"===a&&(i=HD(t,r.schema)),"mark"===a&&(s=ZD(t,r.schema)),o&&n.selection.ranges.forEach(t=>{r.doc.nodesBetween(t.$from.pos,t.$to.pos,(t,r)=>{i&&i===t.type&&n.setNodeMarkup(r,void 0,kP(t.attrs,e)),s&&t.marks.length&&t.marks.forEach(o=>{s===o.type&&n.addMark(r,r+t.nodeSize,s.create(kP(o.attrs,e)))})})}),!0)}}),CP=Object.freeze({__proto__:null,scrollIntoView:()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0)}),OP=Object.freeze({__proto__:null,selectAll:()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size})}),EP=Object.freeze({__proto__:null,selectNodeBackward:()=>({state:t,dispatch:e})=>lM(t,e)}),AP=Object.freeze({__proto__:null,selectNodeForward:()=>({state:t,dispatch:e})=>dM(t,e)}),MP=Object.freeze({__proto__:null,selectParentNode:()=>({state:t,dispatch:e})=>function(t,e){var n,r=t.selection,o=r.$from,i=o.sharedDepth(r.to);return 0!=i&&(n=o.before(i),e&&e(t.tr.setSelection(zA.create(t.doc,n))),!0)}(t,e)});function TP(t,e,n={}){return fP(t,e,{slice:!1,parseOptions:n})}var jP=Object.freeze({__proto__:null,setContent:(t,e=!1,n={})=>({tr:r,editor:o,dispatch:i})=>{const{doc:s}=r,a=TP(t,o.schema,n),u=VA.create(s,0,s.content.size);return i&&r.setSelection(u).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e),!0}});function DP(t,e){const n=ZD(e,t.schema),{from:r,to:o,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,t=>{s.push(...t.marks)});const a=s.find(t=>t.type.name===n.name);return a?{...a.attrs}:{}}var PP=Object.freeze({__proto__:null,setMark:(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:a}=i,u=ZD(t,r.schema);if(o)if(s){const t=DP(r,u);n.addStoredMark(u.create({...t,...e}))}else a.forEach(t=>{const o=t.$from.pos,i=t.$to.pos;r.doc.nodesBetween(o,i,(t,r)=>{const s=Math.max(r,o),a=Math.min(r+t.nodeSize,i);t.marks.find(t=>t.type===u)?t.marks.forEach(t=>{u===t.type&&n.addMark(s,a,u.create({...t.attrs,...e}))}):n.addMark(s,a,u.create(e))})});return!0}}),IP=Object.freeze({__proto__:null,setMeta:(t,e)=>({tr:n})=>(n.setMeta(t,e),!0)}),RP=Object.freeze({__proto__:null,setNode:(t,e={})=>({state:n,dispatch:r})=>{const o=HD(t,n.schema);return(i=o,s=e,function(t,e){var n=t.selection,r=n.from,o=n.to,a=!1;return t.doc.nodesBetween(r,o,function(e,n){if(a)return!1;if(e.isTextblock&&!e.hasMarkup(i,s))if(e.type==i)a=!0;else{var r=t.doc.resolve(n),o=r.index();a=r.parent.canReplaceWith(o,o+1,i)}}),!!a&&(e&&e(t.tr.setBlockType(r,o,i,s).scrollIntoView()),!0)})(n,r);var i,s}}),NP=Object.freeze({__proto__:null,setNodeSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,r=LA.atStart(n).from,o=LA.atEnd(n).to,i=iP(t,r,o),s=zA.create(n,i);e.setSelection(s)}return!0}}),LP=Object.freeze({__proto__:null,setTextSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,{from:r,to:o}="number"==typeof t?{from:t,to:t}:t,i=LA.atStart(n).from,s=LA.atEnd(n).to,a=iP(r,i,s),u=iP(o,i,s),c=VA.create(n,a,u);e.setSelection(c)}return!0}}),$P=Object.freeze({__proto__:null,sinkListItem:t=>({state:e,dispatch:n})=>{const r=HD(t,e.schema);return(o=r,function(t,e){var n=t.selection,r=n.$from.blockRange(n.$to,function(t){return t.childCount&&t.firstChild.type==o});if(!r)return!1;var i=r.startIndex;if(0==i)return!1;var s=r.parent,a=s.child(i-1);if(a.type!=o)return!1;if(e){var u=a.lastChild&&a.lastChild.type==s.type,c=zO.from(u?o.create():null),l=new KO(zO.from(o.create(null,zO.from(s.type.create(null,c)))),u?3:1,0),f=r.start,h=r.end;e(t.tr.step(new pA(f-(u?3:1),h,f,h,l,1,!0)).scrollIntoView())}return!0})(e,n);var o}});function FP(t,e,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const r=t.find(t=>t.type===e&&t.name===n);return!!r&&r.attribute.keepOnSplit}))}function VP(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(t=>null==e?void 0:e.includes(t.type.name));t.tr.ensureMarks(r)}}var BP=Object.freeze({__proto__:null,splitBlock:({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=e,{$from:a,$to:u}=i,c=FP(o.extensionManager.attributes,a.node().type.name,a.node().attrs);if(i instanceof zA&&i.node.isBlock)return!(!a.parentOffset||!wA(s,a.pos)||(r&&(t&&VP(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),0));if(!a.parent.isBlock)return!1;if(r){const r=u.parentOffset===u.parent.content.size;i instanceof VA&&e.deleteSelection();const s=0===a.depth?void 0:function(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(a.node(-1).contentMatchAt(a.indexAfter(-1)));let l=r&&s?[{type:s,attrs:c}]:void 0,f=wA(e.doc,e.mapping.map(a.pos),1,l);if(l||f||!wA(e.doc,e.mapping.map(a.pos),1,s?[{type:s}]:void 0)||(f=!0,l=s?[{type:s,attrs:c}]:void 0),f&&(e.split(e.mapping.map(a.pos),1,l),s&&!r&&!a.parentOffset&&a.parent.type!==s)){const t=e.mapping.map(a.before()),n=e.doc.resolve(t);a.node(-1).canReplaceWith(n.index(),n.index()+1,s)&&e.setNodeMarkup(e.mapping.map(a.before()),s)}t&&VP(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return!0}}),zP=Object.freeze({__proto__:null,splitListItem:t=>({tr:e,state:n,dispatch:r,editor:o})=>{var i;const s=HD(t,n.schema),{$from:a,$to:u}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(u))return!1;const l=a.node(-1);if(l.type!==s)return!1;const f=o.extensionManager.attributes;if(0===a.parent.content.size&&a.node(-1).childCount===a.indexAfter(-1)){if(2===a.depth||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let t=zO.empty;const n=a.index(-1)?1:a.index(-2)?2:3;for(let e=a.depth-n;e>=a.depth-3;e-=1)t=zO.from(a.node(e).copy(t));const r=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,o=FP(f,a.node().type.name,a.node().attrs),u=(null===(i=s.contentMatch.defaultType)||void 0===i?void 0:i.createAndFill(o))||void 0;t=t.append(zO.from(s.createAndFill(null,u)||void 0));const c=a.before(a.depth-(n-1));e.replace(c,a.after(-r),new KO(t,4-n,0));let l=-1;e.doc.nodesBetween(c,e.doc.content.size,(t,e)=>{if(l>-1)return!1;t.isTextblock&&0===t.content.size&&(l=e+1)}),l>-1&&e.setSelection(VA.near(e.doc.resolve(l))),e.scrollIntoView()}return!0}const h=u.pos===a.end()?l.contentMatchAt(0).defaultType:null,d=FP(f,l.type.name,l.attrs),p=FP(f,a.node().type.name,a.node().attrs);e.delete(a.pos,u.pos);const m=h?[{type:s,attrs:d},{type:h,attrs:p}]:[{type:s,attrs:d}];return!!wA(e.doc,a.pos,2)&&(r&&e.split(a.pos,2,m).scrollIntoView(),!0)}});function qP(t){return{baseExtensions:t.filter(t=>"extension"===t.type),nodeExtensions:t.filter(t=>"node"===t.type),markExtensions:t.filter(t=>"mark"===t.type)}}function UP(t,e){const{nodeExtensions:n}=qP(e),r=n.find(e=>e.name===t);if(!r)return!1;const o=ID(RD(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof o&&o.split(" ").includes("list")}var HP=Object.freeze({__proto__:null,toggleList:(t,e)=>({editor:n,tr:r,state:o,dispatch:i,chain:s,commands:a,can:u})=>{const{extensions:c}=n.extensionManager,l=HD(t,o.schema),f=HD(e,o.schema),{selection:h}=o,{$from:d,$to:p}=h,m=d.blockRange(p);if(!m)return!1;const v=(y=t=>UP(t.type.name,c),t=>function(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}(t.$from,y))(h);var y;if(m.depth>=1&&v&&m.depth-v.depth<=1){if(v.node.type===l)return a.liftListItem(f);if(UP(v.node.type.name,c)&&l.validContent(v.node.content)&&i)return r.setNodeMarkup(v.pos,l),!0}return u().wrapInList(l)?a.wrapInList(l):s().clearNodes().wrapInList(l).run()}});function WP(t,e,n={}){const{empty:r,ranges:o}=t.selection,i=e?ZD(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(t=>!i||i.name===t.type.name).find(t=>YD(t.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(({$from:e,$to:n})=>{const r=e.pos,o=n.pos;t.doc.nodesBetween(r,o,(t,e)=>{if(!t.isText&&!t.marks.length)return;const n=Math.max(r,e),i=Math.min(o,e+t.nodeSize);s+=i-n,a.push(...t.marks.map(t=>({mark:t,from:n,to:i})))})}),0===s)return!1;const u=a.filter(t=>!i||i.name===t.mark.type.name).filter(t=>YD(t.mark.attrs,n,{strict:!1})).reduce((t,e)=>t+e.to-e.from,0),c=a.filter(t=>!i||t.mark.type!==i&&t.mark.type.excludes(i)).reduce((t,e)=>t+e.to-e.from,0);return(u>0?u+c:u)>=s}var JP=Object.freeze({__proto__:null,toggleMark:(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,s=ZD(t,r.schema);return WP(r,s,e)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,e)}}),QP=Object.freeze({__proto__:null,toggleNode:(t,e,n={})=>({state:r,commands:o})=>{const i=HD(t,r.schema),s=HD(e,r.schema);return yP(r,i,n)?o.setNode(s):o.setNode(i,n)}}),KP=Object.freeze({__proto__:null,toggleWrap:(t,e={})=>({state:n,dispatch:r})=>{const o=HD(t,n.schema);return yP(n,o,e)?mM(n,r):xM(o,e)(n,r)}}),GP=Object.freeze({__proto__:null,undoInputRule:()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){const e=t.tr,n=i.transform;for(let t=n.steps.length-1;t>=0;t-=1)e.step(n.steps[t].invert(n.docs[t]));if(i.text){const n=e.doc.resolve(i.from).marks();e.replaceWith(i.from,i.to,t.schema.text(i.text,n))}else e.delete(i.from,i.to)}return!0}}return!1}}),ZP=Object.freeze({__proto__:null,unsetAllMarks:()=>({tr:t,state:e,dispatch:n})=>{const{selection:r}=t,{empty:o,ranges:i}=r;return o||n&&Object.entries(e.schema.marks).forEach(([,e])=>{i.forEach(n=>{t.removeMark(n.$from.pos,n.$to.pos,e)})}),!0}}),XP=Object.freeze({__proto__:null,unsetMark:(t,e={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,u=ZD(t,r.schema),{$from:c,empty:l,ranges:f}=a;if(!o)return!0;if(l&&s){let{from:t,to:e}=a;const r=null===(i=c.marks().find(t=>t.type===u))||void 0===i?void 0:i.attrs,o=nP(c,u,r);o&&(t=o.from,e=o.to),n.removeMark(t,e,u)}else f.forEach(t=>{n.removeMark(t.$from.pos,t.$to.pos,u)});return n.removeStoredMark(u),!0}}),YP=Object.freeze({__proto__:null,updateAttributes:(t,e={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=xP("string"==typeof t?t:t.name,r.schema);return!!a&&("node"===a&&(i=HD(t,r.schema)),"mark"===a&&(s=ZD(t,r.schema)),o&&n.selection.ranges.forEach(t=>{const o=t.$from.pos,a=t.$to.pos;r.doc.nodesBetween(o,a,(t,r)=>{i&&i===t.type&&n.setNodeMarkup(r,void 0,{...t.attrs,...e}),s&&t.marks.length&&t.marks.forEach(i=>{if(s===i.type){const u=Math.max(r,o),c=Math.min(r+t.nodeSize,a);n.addMark(u,c,s.create({...i.attrs,...e}))}})})}),!0)}}),tI=Object.freeze({__proto__:null,wrapIn:(t,e={})=>({state:n,dispatch:r})=>{const o=HD(t,n.schema);return!yP(n,o,e)&&xM(o,e)(n,r)}}),eI=Object.freeze({__proto__:null,wrapInList:(t,e={})=>({state:n,dispatch:r})=>{return(o=HD(t,n.schema),i=e,function(t,e){var n=t.selection,r=n.$from,s=n.$to,a=r.blockRange(s),u=!1,c=a;if(!a)return!1;if(a.depth>=2&&r.node(a.depth-1).type.compatibleContent(o)&&0==a.startIndex){if(0==r.index(a.depth-1))return!1;var l=t.doc.resolve(a.start-2);c=new dE(l,l,a.depth),a.endIndex<a.parent.childCount&&(a=new dE(r,t.doc.resolve(s.end(a.depth)),a.depth)),u=!0}var f=gA(c,o,i,a);return!!f&&(e&&e(function(t,e,n,r,o){for(var i=zO.empty,s=n.length-1;s>=0;s--)i=zO.from(n[s].type.create(n[s].attrs,i));t.step(new pA(e.start-(r?2:0),e.end,e.start,e.end,new KO(i,0,0),n.length,!0));for(var a=0,u=0;u<n.length;u++)n[u].type==o&&(a=u+1);for(var c=n.length-a,l=e.start+n.length-(r?2:0),f=e.parent,h=e.startIndex,d=e.endIndex,p=!0;h<d;h++,p=!1)!p&&wA(t.doc,l,c)&&(t.split(l,c),l+=2*c),l+=f.child(h).nodeSize;return t}(t.tr,a,f,u,o).scrollIntoView()),!0)})(n,r);var o,i}});const nI=ND.create({name:"commands",addCommands:()=>({...VD,...BD,...zD,...qD,...UD,...WD,...JD,...QD,...KD,...GD,...rP,...oP,...aP,...uP,...cP,...hP,...dP,...pP,...vP,...gP,...bP,...wP,..._P,...SP,...CP,...OP,...EP,...AP,...MP,...jP,...PP,...IP,...RP,...NP,...LP,...$P,...BP,...zP,...HP,...JP,...QP,...KP,...GP,...ZP,...XP,...YP,...tI,...eI})}),rI=ND.create({name:"editable",addProseMirrorPlugins(){return[new rM({key:new sM("editable"),props:{editable:()=>this.editor.options.editable}})]}}),oI=ND.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new rM({key:new sM("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),iI=ND.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:t})=>[()=>t.undoInputRule(),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:t})=>[()=>t.deleteSelection(),()=>t.joinForward(),()=>t.selectNodeForward()]);return{Enter:()=>this.editor.commands.first(({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()}}}),sI=ND.create({name:"tabindex",addProseMirrorPlugins:()=>[new rM({key:new sM("tabindex"),props:{attributes:{tabindex:"0"}}})]});var aI=Object.freeze({__proto__:null,ClipboardTextSerializer:FD,Commands:nI,Editable:rI,FocusEvents:oI,Keymap:iI,Tabindex:sI});function uI(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...e,schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}class cI{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,(...t)=>{const n=e(...t)(i);return o.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(o),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,s=[],a=!!t,u=t||o.tr,c={...Object.fromEntries(Object.entries(n).map(([t,n])=>[t,(...t)=>{const r=this.buildProps(u,e),o=n(...t)(r);return s.push(o),c}])),run:()=>(a||!e||u.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(u),s.every(t=>!0===t))};return c}createCan(t){const{rawCommands:e,state:n}=this,r=void 0,o=t||n.tr,i=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(e).map(([t,e])=>[t,(...t)=>e(...t)({...i,dispatch:r})])),chain:()=>this.createChain(o,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r;o.storedMarks&&t.setStoredMarks(o.storedMarks);const s={tr:t,editor:r,view:i,state:uI({state:o,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([t,e])=>[t,(...t)=>e(...t)(s)]))}};return s}}class lI{constructor(t){this.find=t.find,this.handler=t.handler}}function fI(t){var e;const{editor:n,from:r,to:o,text:i,rules:s,plugin:a}=t,{view:u}=n;if(u.composing)return!1;const c=u.state.doc.resolve(r);if(c.parent.type.spec.code||(null===(e=c.nodeBefore||c.nodeAfter)||void 0===e?void 0:e.marks.find(t=>t.type.spec.code)))return!1;let l=!1;const f=c.parent.textBetween(Math.max(0,c.parentOffset-500),c.parentOffset,void 0,"\ufffc")+i;return s.forEach(t=>{if(l)return;const e=((t,e)=>{if(XD(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(f,t.find);if(!e)return;const s=u.state.tr,c=uI({state:u.state,transaction:s}),h={from:r-(e[0].length-i.length),to:o},{commands:d,chain:p,can:m}=new cI({editor:n,state:c});t.handler({state:c,range:h,match:e,commands:d,chain:p,can:m}),s.steps.length&&(s.setMeta(a,{transform:s,from:r,to:o,text:i}),u.dispatch(s),l=!0)}),l}function hI(t){const{editor:e,rules:n}=t,r=new rM({state:{init:()=>null,apply(t,e){return t.getMeta(this)||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:(t,o,i,s)=>fI({editor:e,from:o,to:i,text:s,rules:n,plugin:r}),handleDOMEvents:{compositionend:t=>(setTimeout(()=>{const{$cursor:o}=t.state.selection;o&&fI({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(t,o){if("Enter"!==o.key)return!1;const{$cursor:i}=t.state.selection;return!!i&&fI({editor:e,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}class dI{constructor(t){this.find=t.find,this.handler=t.handler}}function pI(t){const{editor:e,rules:n}=t;let r=!1;const o=new rM({props:{handlePaste:(t,e)=>{var n;const o=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/html");return r=!!(null==o?void 0:o.includes("data-pm-slice")),!1}},appendTransaction:(t,i,s)=>{const a=t[0];if(!a.getMeta("paste")||r)return;const{doc:u,before:c}=a,l=c.content.findDiffStart(u.content),f=c.content.findDiffEnd(u.content);if("number"!=typeof l||!f||l===f.b)return;const h=s.tr,d=uI({state:s,transaction:h});return function(t){const{editor:e,state:n,from:r,to:o,rules:i}=t,{commands:s,chain:a,can:u}=new cI({editor:e,state:n});n.doc.nodesBetween(r,o,(t,e)=>{if(!t.isTextblock||t.type.spec.code)return;const c=Math.max(r,e),l=Math.min(o,e+t.content.size),f=t.textBetween(c-e,l-e,void 0,"\ufffc");i.forEach(t=>{((t,e)=>{if(XD(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(e=>{const n=[];return n.push(e.text),n.index=e.index,n.input=t,n.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(e.replaceWith)),n}):[]})(f,t.find).forEach(e=>{if(void 0===e.index)return;const r=c+e.index+1,o=r+e[0].length,i={from:n.tr.mapping.map(r),to:n.tr.mapping.map(o)};t.handler({state:n,range:i,match:e,commands:s,chain:a,can:u})})})})}({editor:e,state:d,from:Math.max(l-1,0),to:f.b,rules:n,plugin:o}),h.steps.length?h:void 0},isPasteRules:!0});return o}function mI(t){const e=[],{nodeExtensions:n,markExtensions:r}=qP(t),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return t.forEach(t=>{const n=RD(t,"addGlobalAttributes",{name:t.name,options:t.options,storage:t.storage});n&&n().forEach(t=>{t.types.forEach(n=>{Object.entries(t.attributes).forEach(([t,r])=>{e.push({type:n,name:t,attribute:{...i,...r}})})})})}),o.forEach(t=>{const n=RD(t,"addAttributes",{name:t.name,options:t.options,storage:t.storage});if(!n)return;const r=n();Object.entries(r).forEach(([n,r])=>{e.push({type:t.name,name:n,attribute:{...i,...r}})})}),e}function vI(...t){return t.filter(t=>!!t).reduce((t,e)=>{const n={...t};return Object.entries(e).forEach(([t,e])=>{n[t]=n[t]?"class"===t?[n[t],e].join(" "):"style"===t?[n[t],e].join("; "):e:e}),n},{})}function yI(t,e){return e.filter(t=>t.attribute.rendered).map(e=>e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:{[e.name]:t.attrs[e.name]}).reduce((t,e)=>vI(t,e),{})}function gI(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(!1===r)return!1;const o=e.filter(t=>t.attribute.rendered).reduce((t,e)=>{const r=e.attribute.parseHTML?e.attribute.parseHTML(n):function(t){return"string"!=typeof t?t:t.match(/^\d*(\.\d+)?$/)?Number(t):"true"===t||"false"!==t&&t}(n.getAttribute(e.name));return sP(r)&&console.warn(`[tiptap warn]: BREAKING CHANGE: "parseHTML" for your attribute "${e.name}" returns an object but should return the value itself. If this is expected you can ignore this message. This warning will be removed in one of the next releases. Further information: https://github.com/ueberdosis/tiptap/issues/1863`),null==r?t:{...t,[e.name]:r}},{});return{...r,...o}}}}function bI(t){return Object.fromEntries(Object.entries(t).filter(([t,e])=>("attrs"!==t||!function(t={}){return 0===Object.keys(t).length&&t.constructor===Object}(e))&&null!=e))}function wI(t,e){return e.nodes[t]||e.marks[t]||null}class _I{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=_I.resolve(t),this.schema=function(t){var e;const n=mI(t),{nodeExtensions:r,markExtensions:o}=qP(t),i=null===(e=r.find(t=>RD(t,"topNode")))||void 0===e?void 0:e.name,s=Object.fromEntries(r.map(e=>{const r=n.filter(t=>t.type===e.name),o={name:e.name,options:e.options,storage:e.storage},i=bI({...t.reduce((t,n)=>{const r=RD(n,"extendNodeSchema",o);return{...t,...r?r(e):{}}},{}),content:ID(RD(e,"content",o)),marks:ID(RD(e,"marks",o)),group:ID(RD(e,"group",o)),inline:ID(RD(e,"inline",o)),atom:ID(RD(e,"atom",o)),selectable:ID(RD(e,"selectable",o)),draggable:ID(RD(e,"draggable",o)),code:ID(RD(e,"code",o)),defining:ID(RD(e,"defining",o)),isolating:ID(RD(e,"isolating",o)),attrs:Object.fromEntries(r.map(t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]}))}),s=ID(RD(e,"parseHTML",o));s&&(i.parseDOM=s.map(t=>gI(t,r)));const a=RD(e,"renderHTML",o);a&&(i.toDOM=t=>a({node:t,HTMLAttributes:yI(t,r)}));const u=RD(e,"renderText",o);return u&&(i.toText=u),[e.name,i]})),a=Object.fromEntries(o.map(e=>{const r=n.filter(t=>t.type===e.name),o={name:e.name,options:e.options,storage:e.storage},i=bI({...t.reduce((t,n)=>{const r=RD(n,"extendMarkSchema",o);return{...t,...r?r(e):{}}},{}),inclusive:ID(RD(e,"inclusive",o)),excludes:ID(RD(e,"excludes",o)),group:ID(RD(e,"group",o)),spanning:ID(RD(e,"spanning",o)),code:ID(RD(e,"code",o)),attrs:Object.fromEntries(r.map(t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]}))}),s=ID(RD(e,"parseHTML",o));s&&(i.parseDOM=s.map(t=>gI(t,r)));const a=RD(e,"renderHTML",o);return a&&(i.toDOM=t=>a({mark:t,HTMLAttributes:yI(t,r)})),[e.name,i]}));return new FE({topNode:i,nodes:s,marks:a})}(this.extensions),this.extensions.forEach(t=>{var e;this.editor.extensionStorage[t.name]=t.storage;const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:wI(t.name,this.schema)};"mark"===t.type&&(null===(e=ID(RD(t,"keepOnSplit",n)))||void 0===e||e)&&this.splittableMarks.push(t.name);const r=RD(t,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const o=RD(t,"onCreate",n);o&&this.editor.on("create",o);const i=RD(t,"onUpdate",n);i&&this.editor.on("update",i);const s=RD(t,"onSelectionUpdate",n);s&&this.editor.on("selectionUpdate",s);const a=RD(t,"onTransaction",n);a&&this.editor.on("transaction",a);const u=RD(t,"onFocus",n);u&&this.editor.on("focus",u);const c=RD(t,"onBlur",n);c&&this.editor.on("blur",c);const l=RD(t,"onDestroy",n);l&&this.editor.on("destroy",l)})}static resolve(t){const e=_I.sort(_I.flatten(t)),n=function(t){const e=t.filter((e,n)=>t.indexOf(e)!==n);return[...new Set(e)]}(e.map(t=>t.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(t=>`'${t}'`).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map(t=>{const e=RD(t,"addExtensions",{name:t.name,options:t.options,storage:t.storage});return e?[t,...this.flatten(e())]:t}).flat(10)}static sort(t){return t.sort((t,e)=>{const n=RD(t,"priority")||100,r=RD(e,"priority")||100;return n>r?-1:n<r?1:0})}get commands(){return this.extensions.reduce((t,e)=>{const n=RD(e,"addCommands",{name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:wI(e.name,this.schema)});return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this,e=_I.sort([...this.extensions].reverse()),n=[],r=[],o=e.map(e=>{const o={name:e.name,options:e.options,storage:e.storage,editor:t,type:wI(e.name,this.schema)},i=[],s=RD(e,"addKeyboardShortcuts",o);if(s){const e=(a=Object.fromEntries(Object.entries(s()).map(([e,n])=>[e,()=>n({editor:t})])),new rM({props:{handleKeyDown:TD(a)}}));i.push(e)}var a;const u=RD(e,"addInputRules",o);t.options.enableInputRules&&u&&n.push(...u());const c=RD(e,"addPasteRules",o);t.options.enablePasteRules&&c&&r.push(...c());const l=RD(e,"addProseMirrorPlugins",o);if(l){const t=l();i.push(...t)}return i}).flat();return[hI({editor:t,rules:n}),pI({editor:t,rules:r}),...o]}get attributes(){return mI(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=qP(this.extensions);return Object.fromEntries(e.filter(t=>!!RD(t,"addNodeView")).map(e=>{const n=this.attributes.filter(t=>t.type===e.name),r={name:e.name,options:e.options,storage:e.storage,editor:t,type:HD(e.name,this.schema)},o=RD(e,"addNodeView",r);return o?[e.name,(r,i,s,a)=>{const u=yI(r,n);return o()({editor:t,node:r,getPos:s,decorations:a,HTMLAttributes:u,extension:e})}]:[]}))}}class xI extends class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(t=>t.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(t=>t!==e):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(t){const e=document.querySelector("style[data-tiptap-style]");if(null!==e)return e;const n=document.createElement("style");return n.setAttribute("data-tiptap-style",""),n.innerHTML='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',document.getElementsByTagName("head")[0].appendChild(n),n}())}setOptions(t={}){this.options={...this.options,...t},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t){this.setOptions({editable:t})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n=PD(e)?e(t,this.state.plugins):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(t){if(this.isDestroyed)return;const e="string"==typeof t?`${t}$`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(t=>!t.key.startsWith(e))});this.view.updateState(n)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values(aI):[],...this.options.extensions].filter(t=>["extension","node","mark"].includes(null==t?void 0:t.type));this.extensionManager=new _I(t,this)}createCommandManager(){this.commandManager=new cI({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){this.view=new lD(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:YA.create({doc:TP(this.options.content,this.schema,this.options.parseOptions)})});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.createNodeViews(),this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.isCapturingTransaction)return this.capturedTransaction?void t.steps.forEach(t=>{var e;return null===(e=this.capturedTransaction)||void 0===e?void 0:e.step(t)}):void(this.capturedTransaction=t);const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const r=t.getMeta("focus"),o=t.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return function(t,e){const n=xP("string"==typeof e?e:e.name,t.schema);return"node"===n?function(t,e){const n=HD(e,t.schema),{from:r,to:o}=t.selection,i=[];t.doc.nodesBetween(r,o,t=>{i.push(t)});const s=i.reverse().find(t=>t.type.name===n.name);return s?{...s.attrs}:{}}(t,e):"mark"===n?DP(t,e):{}}(this.state,t)}isActive(t,e){return function(t,e,n={}){if(!e)return yP(t,null,n)||WP(t,null,n);const r=xP(e,t.schema);return"node"===r?yP(t,e,n):"mark"===r&&WP(t,e,n)}(this.state,"string"==typeof t?t:null,"string"==typeof t?e:t)}getJSON(){return this.state.doc.toJSON()}getHTML(){return function(t,e){const n=XE.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e="\n\n",textSerializers:n={}}=t||{};return function(t,e){return LD(t,{from:0,to:t.content.size},e)}(this.state.doc,{blockSeparator:e,textSerializers:{...n,...$D(this.schema)}})}get isEmpty(){return function(t){var e;const n=null===(e=t.type.createAndFill())||void 0===e?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}(this.state.doc)}getCharacterCount(){return this.state.doc.content.size-2}destroy(){var t;this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners(),(null==(t=this.css)?void 0:t.parentNode)&&t.parentNode.removeChild(t)}get isDestroyed(){var t;return!(null===(t=this.view)||void 0===t?void 0:t.docView)}}class kI{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions,this.storage=ID(RD(this,"addStorage",{name:this.name,options:this.options}))}static create(t={}){return new kI(t)}configure(t={}){const e=this.extend();return e.options=DD(this.options,t),e}extend(t={}){const e=new kI(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e.storage=ID(RD(e,"addStorage",{name:e.name,options:e.options})),e}}class SI{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions,this.storage=ID(RD(this,"addStorage",{name:this.name,options:this.options}))}static create(t={}){return new SI(t)}configure(t={}){const e=this.extend();return e.options=DD(this.options,t),e}extend(t={}){const e=new SI(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e.storage=ID(RD(e,"addStorage",{name:e.name,options:e.options})),e}}function CI(t,e,n){const r=[];return n.doc.nodesBetween(t,e,(t,e)=>{r.push(...t.marks.map(n=>({from:e,to:e+t.nodeSize,mark:n})))}),r}function OI(t){return new lI({find:t.find,handler:({state:e,range:n,match:r})=>{const o=ID(t.getAttributes,void 0,r);if(!1===o||null===o)return;const{tr:i}=e,s=r[r.length-1],a=r[0];let u=n.to;if(s){const r=a.search(/\S/),c=n.from+a.indexOf(s),l=c+s.length;if(CI(n.from,n.to,e).filter(e=>e.mark.type.excluded.find(n=>n===t.type&&n!==e.mark.type)).filter(t=>t.to>c).length)return null;l<n.to&&i.delete(l,n.to),c>n.from&&i.delete(n.from+r,c),u=n.from+r+s.length,i.addMark(n.from+r,u,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}function EI(t){return new lI({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),i=ID(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function AI(t){return new lI({find:t.find,handler:({state:e,range:n,match:r})=>{const o=ID(t.getAttributes,void 0,r)||{},i=e.tr.delete(n.from,n.to),s=i.doc.resolve(n.from).blockRange(),a=s&&gA(s,t.type,o);if(!a)return null;i.wrap(s,a);const u=i.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&_A(i.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&i.join(n.from-1)}})}function MI(t){return new dI({find:t.find,handler:({state:e,range:n,match:r})=>{const o=ID(t.getAttributes,void 0,r);if(!1===o||null===o)return;const{tr:i}=e,s=r[r.length-1],a=r[0];let u=n.to;if(s){const r=a.search(/\S/),c=n.from+a.indexOf(s),l=c+s.length;if(CI(n.from,n.to,e).filter(e=>e.mark.type.excluded.find(n=>n===t.type&&n!==e.mark.type)).filter(t=>t.to>c).length)return null;l<n.to&&i.delete(l,n.to),c>n.from&&i.delete(n.from+r,c),u=n.from+r+s.length,i.addMark(n.from+r,u,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}const TI=/(?:^|\s)((?:==)((?:[^~]+))(?:==))$/,jI=/(?:^|\s)((?:==)((?:[^~]+))(?:==))/g,DI=SI.create({name:"highlight",defaultOptions:{multicolor:!1,HTMLAttributes:{}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:t}){return["mark",vI(this.options.HTMLAttributes,t),0]},addCommands:()=>({setHighlight:t=>({commands:e})=>e.setMark("highlight",t),toggleHighlight:t=>({commands:e})=>e.toggleMark("highlight",t),unsetHighlight:()=>({commands:t})=>t.unsetMark("highlight")}),addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[OI({find:TI,type:this.type})]},addPasteRules(){return[MI({find:jI,type:this.type})]}}),PI=kI.create({name:"horizontalRule",defaultOptions:{HTMLAttributes:{}},group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",vI(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().command(({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,$anchor:o}=n;if(!r||!o.parent.isTextblock||o.parent.type.spec.code||o.parent.textContent||!e)return!0;const i=o.before(),s=o.start();return t.deleteRange(i,s),t.setSelection(VA.create(t.doc,i)),!0}).insertContent({type:this.name}).command(({tr:t,dispatch:e})=>{var n;if(e){const{parent:e,pos:r}=t.selection.$from,o=r+1;if(!t.doc.nodeAt(o)){const r=null===(n=e.type.contentMatch.defaultType)||void 0===n?void 0:n.create();r&&(t.insert(o,r),t.setSelection(VA.create(t.doc,o)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[(t={find:/^(?:---|\u2014-|___\s|\*\*\*\s)$/,type:this.type},new lI({find:t.find,handler:({state:e,range:n,match:r})=>{const o=ID(t.getAttributes,void 0,r)||{},{tr:i}=e,s=n.from;let a=n.to;if(r[1]){let e=s+r[0].lastIndexOf(r[1]);e>a?e=a:a=e+r[1].length,i.insertText(r[0][r[0].length-1],s+r[0].length-1),i.replaceWith(e,a,t.type.create(o))}else r[0]&&i.replaceWith(s,a,t.type.create(o))}}))];var t}}),II=/^\s*(\[([ |x])\])\s$/,RI=kI.create({name:"taskItem",defaultOptions:{nested:!1,HTMLAttributes:{}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:t=>"true"===t.getAttribute("data-checked"),renderHTML:t=>({"data-checked":t.checked})}}),parseHTML:()=>[{tag:'li[data-type="taskItem"]',priority:51}],renderHTML({HTMLAttributes:t}){return["li",vI(this.options.HTMLAttributes,t,{"data-type":"taskItem"}),0]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem("taskItem"),"Shift-Tab":()=>this.editor.commands.liftListItem("taskItem")};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem("taskItem")}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),u=document.createElement("div");return i.contentEditable="false",a.type="checkbox",a.addEventListener("change",t=>{if(!r.isEditable)return void(a.checked=!a.checked);const{checked:e}=t.target;r.isEditable&&"function"==typeof n&&r.chain().focus().command(({tr:t})=>(t.setNodeMarkup(n(),void 0,{checked:e}),!0)).run()}),Object.entries(this.options.HTMLAttributes).forEach(([t,e])=>{o.setAttribute(t,e)}),o.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),i.append(a,s),o.append(i,u),Object.entries(e).forEach(([t,e])=>{o.setAttribute(t,e)}),{dom:o,contentDOM:u,update:t=>t.type===this.type&&(o.dataset.checked=t.attrs.checked,t.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[AI({find:II,type:this.type,getAttributes:t=>({checked:"x"===t[t.length-1]})})]}}),NI=kI.create({name:"taskList",defaultOptions:{HTMLAttributes:{}},group:"block list",content:"taskItem+",parseHTML:()=>[{tag:'ul[data-type="taskList"]',priority:51}],renderHTML({HTMLAttributes:t}){return["ul",vI(this.options.HTMLAttributes,t,{"data-type":"taskList"}),0]},addCommands:()=>({toggleTaskList:()=>({commands:t})=>t.toggleList("taskList","taskItem")}),addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),LI=/^\s*>\s$/,$I=kI.create({name:"blockquote",defaultOptions:{HTMLAttributes:{}},content:"block*",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return["blockquote",vI(this.options.HTMLAttributes,t),0]},addCommands:()=>({setBlockquote:()=>({commands:t})=>t.wrapIn("blockquote"),toggleBlockquote:()=>({commands:t})=>t.toggleWrap("blockquote"),unsetBlockquote:()=>({commands:t})=>t.lift("blockquote")}),addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[AI({find:LI,type:this.type})]}}),FI=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,VI=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,BI=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,zI=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,qI=SI.create({name:"bold",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",vI(this.options.HTMLAttributes,t),0]},addCommands:()=>({setBold:()=>({commands:t})=>t.setMark("bold"),toggleBold:()=>({commands:t})=>t.toggleMark("bold"),unsetBold:()=>({commands:t})=>t.unsetMark("bold")}),addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold()}},addInputRules(){return[OI({find:FI,type:this.type}),OI({find:BI,type:this.type})]},addPasteRules(){return[MI({find:VI,type:this.type}),MI({find:zI,type:this.type})]}}),UI=/^\s*([-+*])\s$/,HI=kI.create({name:"bulletList",defaultOptions:{HTMLAttributes:{}},group:"block list",content:"listItem+",parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",vI(this.options.HTMLAttributes,t),0]},addCommands:()=>({toggleBulletList:()=>({commands:t})=>t.toggleList("bulletList","listItem")}),addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[AI({find:UI,type:this.type})]}}),WI=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,JI=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,QI=SI.create({name:"code",defaultOptions:{HTMLAttributes:{}},excludes:"_",code:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",vI(this.options.HTMLAttributes,t),0]},addCommands:()=>({setCode:()=>({commands:t})=>t.setMark("code"),toggleCode:()=>({commands:t})=>t.toggleMark("code"),unsetCode:()=>({commands:t})=>t.unsetMark("code")}),addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[OI({find:WI,type:this.type})]},addPasteRules(){return[MI({find:JI,type:this.type})]}}),KI=/^```(?<language>[a-z]*)?[\s\n]$/,GI=/^~~~(?<language>[a-z]*)?[\s\n]$/,ZI=kI.create({name:"codeBlock",defaultOptions:{languageClassPrefix:"language-",HTMLAttributes:{}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;return[...(null===(e=t.firstElementChild)||void 0===e?void 0:e.classList)||[]].filter(t=>t.startsWith(n)).map(t=>t.replace(n,""))[0]||null},renderHTML:t=>t.language?{class:this.options.languageClassPrefix+t.language}:null}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({HTMLAttributes:t}){return["pre",this.options.HTMLAttributes,["code",t,0]]},addCommands:()=>({setCodeBlock:t=>({commands:e})=>e.setNode("codeBlock",t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode("codeBlock","paragraph",t)}),addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection;return!(!t||e.parent.type.name!==this.name)&&!(1!==e.pos&&e.parent.textContent.length)&&this.editor.commands.clearNodes()}}},addInputRules(){return[EI({find:KI,type:this.type,getAttributes:({groups:t})=>t}),EI({find:GI,type:this.type,getAttributes:({groups:t})=>t})]},addProseMirrorPlugins(){return[new rM({key:new sM("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=null==o?void 0:o.mode;if(!n||!i)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:i})),s.setSelection(VA.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,"\n")),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),XI=kI.create({name:"doc",topNode:!0,content:"block+"});var YI=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(e){var r=function(t){return n[e](t)};return t.dom.addEventListener(e,r),{name:e,handler:r}})};YI.prototype.destroy=function(){var t=this;this.handlers.forEach(function(e){return t.editorView.dom.removeEventListener(e.name,e.handler)})},YI.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())},YI.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},YI.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,r=e.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!t){var s=this.editorView.coordsAtPos(this.cursorPos);t={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a,u,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)a=-pageXOffset,u=-pageYOffset;else{var l=c.getBoundingClientRect();a=l.left-c.scrollLeft,u=l.top-c.scrollTop}this.element.style.left=t.left-a+"px",this.element.style.top=t.top-u+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},YI.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return e.setCursor(null)},t)},YI.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY});if(e){var n=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=xA(this.editorView.state.doc,n,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(n),this.scheduleRemoval(5e3)}}},YI.prototype.dragend=function(){this.scheduleRemoval(20)},YI.prototype.drop=function(){this.scheduleRemoval(20)},YI.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)};const tR=ND.create({name:"dropCursor",defaultOptions:{color:"currentColor",width:1,class:null},addProseMirrorPlugins(){return[(t=this.options,void 0===t&&(t={}),new rM({view:function(e){return new YI(e,t)}}))];var t}});var eR=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return e.valid(o)?new e(o):t.near(o)},e.prototype.content=function(){return KO.empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new nR(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!function(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(0!=n)for(var r=t.node(e).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(t)||!function(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock},e.findFrom=function(t,n,r){t:for(;;){if(!r&&e.valid(t))return t;for(var o=t.pos,i=null,s=t.depth;;s--){var a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){i=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}if(0==s)return null;var u=t.doc.resolve(o+=n);if(e.valid(u))return u}for(;;){var c=n>0?i.firstChild:i.lastChild;if(!c){if(i.isAtom&&!i.isText&&!zA.isSelectable(i)){t=t.doc.resolve(o+i.nodeSize*n),r=!1;continue t}break}i=c;var l=t.doc.resolve(o+=n);if(e.valid(l))return l}return null}},e}(LA);eR.prototype.visible=!1,LA.jsonID("gapcursor",eR);var nR=function(t){this.pos=t};nR.prototype.map=function(t){return new nR(t.map(this.pos))},nR.prototype.resolve=function(t){var e=t.resolve(this.pos);return eR.valid(e)?new eR(e):LA.near(e)};var rR=TD({ArrowLeft:oR("horiz",-1),ArrowRight:oR("horiz",1),ArrowUp:oR("vert",-1),ArrowDown:oR("vert",1)});function oR(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,o){var i=t.selection,s=e>0?i.$to:i.$from,a=i.empty;if(i instanceof VA){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=t.doc.resolve(e>0?s.after():s.before())}var u=eR.findFrom(s,e,a);return!!u&&(r&&r(t.tr.setSelection(new eR(u))),!0)}}function iR(t,e,n){if(!t.editable)return!1;var r=t.state.doc.resolve(e);if(!eR.valid(r))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&zA.isSelectable(t.state.doc.nodeAt(o))||(t.dispatch(t.state.tr.setSelection(new eR(r))),0))}function sR(t){if(!(t.selection instanceof eR))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",Yj.create(t.doc,[Kj.widget(t.selection.head,e,{key:"gapcursor"})])}const aR=ND.create({name:"gapCursor",addProseMirrorPlugins:()=>[new rM({props:{decorations:sR,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&eR.valid(n))return new eR(n)},handleClick:iR,handleKeyDown:rR}})],extendNodeSchema(t){var e;return{allowGapCursor:null!==(e=ID(RD(t,"allowGapCursor",{name:t.name,options:t.options,storage:t.storage})))&&void 0!==e?e:null}}}),uR=kI.create({name:"hardBreak",defaultOptions:{keepMarks:!0,HTMLAttributes:{}},inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",vI(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{keepMarks:t}=this.options,{splittableMarks:o}=r.extensionManager,i=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();return e().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{if(n&&i&&t){const t=i.filter(t=>o.includes(t.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),cR=kI.create({name:"heading",defaultOptions:{levels:[1,2,3,4,5,6],HTMLAttributes:{}},content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,vI(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode("heading",t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode("heading","paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>EI({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var lR=200,fR=function(){};fR.prototype.append=function(t){return t.length?(t=fR.from(t),!this.length&&t||t.length<lR&&this.leafAppend(t)||this.length<lR&&t.leafPrepend(this)||this.appendInner(t)):this},fR.prototype.prepend=function(t){return t.length?fR.from(t).append(this):this},fR.prototype.appendInner=function(t){return new dR(this,t)},fR.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?fR.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},fR.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},fR.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},fR.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(e,n){return r.push(t(e,n))},e,n),r},fR.from=function(t){return t instanceof fR?t:t&&t.length?new hR(t):fR.empty};var hR=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=lR)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=lR)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(fR);fR.empty=new hR([]);var dR=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(fR);const pR=fR;var mR=function(t,e){this.items=t,this.eventCount=e};mR.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--)if(this.items.get(i-1).selection){--i;break}e&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,a,u=t.tr,c=[],l=[];return this.items.forEach(function(t,e){if(!t.step)return r||(r=n.remapping(i,e+1),o=r.maps.length),o--,void l.push(t);if(r){l.push(new vR(t.map));var f,h=t.step.map(r.slice(o));h&&u.maybeStep(h).doc&&c.push(new vR(f=u.mapping.maps[u.mapping.maps.length-1],null,null,c.length+l.length)),o--,f&&r.appendMap(f,o)}else u.maybeStep(t.step);return t.selection?(s=r?t.selection.map(r.slice(o)):t.selection,a=new mR(n.items.slice(0,i).append(l.reverse().concat(c)),n.eventCount-1),!1):void 0},this.items.length,0),{remaining:a,transform:u,selection:s}},mR.prototype.addTransform=function(t,e,n,r){for(var o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,u=0;u<t.steps.length;u++){var c,l=t.steps[u].invert(t.docs[u]),f=new vR(t.mapping.maps[u],l,e);(c=a&&a.merge(f))&&(f=c,u?o.pop():s=s.slice(0,s.length-1)),o.push(f),e&&(i++,e=null),r||(a=f)}var h,d,p,m=i-n.depth;return m>gR&&(d=m,(h=s).forEach(function(t,e){if(t.selection&&0==d--)return p=e,!1}),s=h.slice(p),i-=m),new mR(s.append(o),i)},mR.prototype.remapping=function(t,e){var n=new iA;return this.items.forEach(function(e,r){n.appendMap(e.map,null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null)},t,e),n},mR.prototype.addMaps=function(t){return 0==this.eventCount?this:new mR(this.items.append(t.map(function(t){return new vR(t)})),this.eventCount)},mR.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach(function(t){t.selection&&s--},r);var a=e;this.items.forEach(function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var u=o.maps[r];if(e.step){var c=t.steps[r].invert(t.docs[r]),l=e.selection&&e.selection.map(o.slice(a+1,r));l&&s++,n.push(new vR(u,c,l))}else n.push(new vR(u))}},r);for(var u=[],c=e;c<i;c++)u.push(new vR(o.maps[c]));var l=this.items.slice(0,r).append(u).append(n),f=new mR(l,s);return f.emptyItemCount()>500&&(f=f.compress(this.items.length-n.length)),f},mR.prototype.emptyItemCount=function(){var t=0;return this.items.forEach(function(e){e.step||t++}),t},mR.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach(function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),u=a&&a.getMap();if(n--,u&&e.appendMap(u,n),a){var c=i.selection&&i.selection.map(e.slice(n));c&&o++;var l,f=new vR(u.invert(),a,c),h=r.length-1;(l=r.length&&r[h].merge(f))?r[h]=l:r.push(f)}}else i.map&&n--},this.items.length,0),new mR(pR.from(r.reverse()),o)},mR.empty=new mR(pR.empty,0);var vR=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};vR.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new vR(e.getMap().invert(),e,this.selection)}};var yR=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},gR=20;function bR(t){var e=[];return t.forEach(function(t,n,r,o){return e.push(r,o)}),e}function wR(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function _R(t,e,n,r){var o=SR(e),i=CR.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),u=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),c=new yR(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(a).setMeta(CR,{redo:r,historyState:c}).scrollIntoView())}}var xR=!1,kR=null;function SR(t){var e=t.plugins;if(kR!=e){xR=!1,kR=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){xR=!0;break}}return xR}var CR=new sM("history"),OR=new sM("closeHistory");function ER(t,e){var n=CR.getState(t);return!(!n||0==n.done.eventCount||(e&&_R(n,t,e,!1),0))}function AR(t,e){var n=CR.getState(t);return!(!n||0==n.undone.eventCount||(e&&_R(n,t,e,!0),0))}const MR=ND.create({name:"history",defaultOptions:{depth:100,newGroupDelay:500},addCommands:()=>({undo:()=>({state:t,dispatch:e})=>ER(t,e),redo:()=>({state:t,dispatch:e})=>AR(t,e)}),addProseMirrorPlugins(){return[(t=this.options,new rM({key:CR,state:{init:function(){return new yR(mR.empty,mR.empty,null,0)},apply:function(e,n,r){return function(t,e,n,r){var o,i=n.getMeta(CR);if(i)return i.historyState;n.getMeta(OR)&&(t=new yR(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(CR))return s.getMeta(CR).redo?new yR(t.done.addTransform(n,null,r,SR(e)),t.undone,bR(n.mapping.maps[n.steps.length-1]),t.prevTime):new yR(t.done,t.undone.addTransform(n,null,r,SR(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new yR(t.done.rebased(n,o),t.undone.rebased(n,o),wR(t.prevRanges,n.mapping),t.prevTime):new yR(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),wR(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach(function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)}),n}(n,t.prevRanges)),u=s?wR(t.prevRanges,n.mapping):bR(n.mapping.maps[n.steps.length-1]);return new yR(t.done.addTransform(n,a?e.selection.getBookmark():null,r,SR(e)),mR.empty,u,n.time)}(n,r,e,t)}},config:t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},props:{handleDOMEvents:{beforeinput:function(t,e){var n="historyUndo"==e.inputType?ER(t.state,t.dispatch):"historyRedo"==e.inputType&&AR(t.state,t.dispatch);return n&&e.preventDefault(),n}}}}))];var t},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044f":()=>this.editor.commands.undo(),"Shift-Mod-\u044f":()=>this.editor.commands.redo()}}}),TR=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,jR=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,DR=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,PR=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,IR=SI.create({name:"italic",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",vI(this.options.HTMLAttributes,t),0]},addCommands:()=>({setItalic:()=>({commands:t})=>t.setMark("italic"),toggleItalic:()=>({commands:t})=>t.toggleMark("italic"),unsetItalic:()=>({commands:t})=>t.unsetMark("italic")}),addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[OI({find:TR,type:this.type}),OI({find:DR,type:this.type})]},addPasteRules(){return[MI({find:jR,type:this.type}),MI({find:PR,type:this.type})]}}),RR=kI.create({name:"listItem",defaultOptions:{HTMLAttributes:{}},content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",vI(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem("listItem"),Tab:()=>this.editor.commands.sinkListItem("listItem"),"Shift-Tab":()=>this.editor.commands.liftListItem("listItem")}}}),NR=/^(\d+)\.\s$/,LR=kI.create({name:"orderedList",defaultOptions:{HTMLAttributes:{}},group:"block list",content:"listItem+",addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return 1===e?["ol",vI(this.options.HTMLAttributes,n),0]:["ol",vI(this.options.HTMLAttributes,t),0]},addCommands:()=>({toggleOrderedList:()=>({commands:t})=>t.toggleList("orderedList","listItem")}),addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[AI({find:NR,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}}),$R=kI.create({name:"paragraph",priority:1e3,defaultOptions:{HTMLAttributes:{}},group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",vI(this.options.HTMLAttributes,t),0]},addCommands:()=>({setParagraph:()=>({commands:t})=>t.setNode("paragraph")}),addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),FR=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,VR=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,BR=SI.create({name:"strike",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",vI(this.options.HTMLAttributes,t),0]},addCommands:()=>({setStrike:()=>({commands:t})=>t.setMark("strike"),toggleStrike:()=>({commands:t})=>t.toggleMark("strike"),unsetStrike:()=>({commands:t})=>t.unsetMark("strike")}),addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[OI({find:FR,type:this.type})]},addPasteRules(){return[MI({find:VR,type:this.type})]}}),zR=kI.create({name:"text",group:"inline"}),qR=ND.create({name:"starterKit",addExtensions(){var t,e,n,r,o,i,s,a,u,c,l,f,h,d,p,m,v,y;const g=[];return!1!==this.options.blockquote&&g.push($I.configure(null===(t=this.options)||void 0===t?void 0:t.blockquote)),!1!==this.options.bold&&g.push(qI.configure(null===(e=this.options)||void 0===e?void 0:e.bold)),!1!==this.options.bulletList&&g.push(HI.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&g.push(QI.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&g.push(ZI.configure(null===(o=this.options)||void 0===o?void 0:o.codeBlock)),!1!==this.options.document&&g.push(XI.configure(null===(i=this.options)||void 0===i?void 0:i.document)),!1!==this.options.dropcursor&&g.push(tR.configure(null===(s=this.options)||void 0===s?void 0:s.dropcursor)),!1!==this.options.gapcursor&&g.push(aR.configure(null===(a=this.options)||void 0===a?void 0:a.gapcursor)),!1!==this.options.hardBreak&&g.push(uR.configure(null===(u=this.options)||void 0===u?void 0:u.hardBreak)),!1!==this.options.heading&&g.push(cR.configure(null===(c=this.options)||void 0===c?void 0:c.heading)),!1!==this.options.history&&g.push(MR.configure(null===(l=this.options)||void 0===l?void 0:l.history)),!1!==this.options.horizontalRule&&g.push(PI.configure(null===(f=this.options)||void 0===f?void 0:f.horizontalRule)),!1!==this.options.italic&&g.push(IR.configure(null===(h=this.options)||void 0===h?void 0:h.italic)),!1!==this.options.listItem&&g.push(RR.configure(null===(d=this.options)||void 0===d?void 0:d.listItem)),!1!==this.options.orderedList&&g.push(LR.configure(null===(p=this.options)||void 0===p?void 0:p.orderedList)),!1!==this.options.paragraph&&g.push($R.configure(null===(m=this.options)||void 0===m?void 0:m.paragraph)),!1!==this.options.strike&&g.push(BR.configure(null===(v=this.options)||void 0===v?void 0:v.strike)),!1!==this.options.text&&g.push(zR.configure(null===(y=this.options)||void 0===y?void 0:y.text)),g}}),UR=["options"],HR=function(t){return{hidden:t}};let WR=(()=>{class t{constructor(){this.onStyleSelected=new Vs,this.styles=["Titre 1","Titre 2","Titre 3","Paragraphe"],this.styleSelected=this.styles[0]}ngOnInit(){}toggleOptions(){this.options.nativeElement.classList.toggle("hidden")}focusout(t){var e;"option"===(null===(e=t.relatedTarget)||void 0===e?void 0:e.className)||this.options.nativeElement.classList.add("hidden")}select(t){this.updateView(t),this.onStyleSelected.emit(t)}updateView(t){this.options.nativeElement.classList.add("hidden"),this.styleSelected=this.styles[t-1]}isSelected(t){return this.styleSelected===this.styles[t-1]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=X({type:t,selectors:[["style-button"]],viewQuery:function(t,e){if(1&t&&Ys(UR,5),2&t){let t;Xs(t=ea())&&(e.options=t.first)}},outputs:{onStyleSelected:"onStyleSelected"},decls:36,vars:13,consts:[["tabindex","-1",1,"relative","-top-px",3,"focusout"],["type","button","aria-haspopup","listbox","aria-expanded","true","aria-labelledby","listbox-label",1,"relative","bg-white","rounded-md","focus:shadow-sm","pl-2","pr-10","py-1.5","text-left","cursor-pointer","focus:outline-none","sm:text-sm",3,"click"],[1,"ml-3","block","truncate"],[1,"ml-3","absolute","inset-y-0","right-0","flex","items-center","pr-2","pointer-events-none"],[1,"fas","fa-sort-down"],["role","listbox","aria-labelledby","listbox-label","aria-activedescendant","listbox-option-3",1,"absolute","hidden","z-10","mt-1","w-48","bg-white","shadow-sm","max-h-64","rounded-md","py-1","text-base","ring-1","ring-black","ring-opacity-5","focus:outline-none","sm:text-sm"],["options",""],["role","option","tabindex","-1",1,"option",3,"click"],[1,"flex","items-center"],[1,"text-indigo-600","absolute","inset-y-0","right-0","flex","items-center","pr-4",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"]],template:function(t,e){1&t&&(Qo(0,"div",0),ti("focusout",function(t){return e.focusout(t)}),Qo(1,"button",1),ti("click",function(){return e.toggleOptions()}),Qo(2,"span",2),fi(3),Ko(),Qo(4,"span",3),Go(5,"i",4),Ko(),Ko(),Qo(6,"ul",5,6),Qo(8,"li",7),ti("click",function(){return e.select(1)}),Qo(9,"div",8),Qo(10,"span",2),fi(11," Heading 1 "),Ko(),Ko(),Qo(12,"span",9),le(),Qo(13,"svg",10),Go(14,"path",11),Ko(),Ko(),Ko(),fe(),Qo(15,"li",7),ti("click",function(){return e.select(2)}),Qo(16,"div",8),Qo(17,"span",2),fi(18," Heading 2 "),Ko(),Ko(),Qo(19,"span",9),le(),Qo(20,"svg",10),Go(21,"path",11),Ko(),Ko(),Ko(),fe(),Qo(22,"li",7),ti("click",function(){return e.select(3)}),Qo(23,"div",8),Qo(24,"span",2),fi(25," Heading 3 "),Ko(),Ko(),Qo(26,"span",9),le(),Qo(27,"svg",10),Go(28,"path",11),Ko(),Ko(),Ko(),fe(),Qo(29,"li",7),ti("click",function(){return e.select(4)}),Qo(30,"div",8),Qo(31,"span",2),fi(32," Paragraph "),Ko(),Ko(),Qo(33,"span",9),le(),Qo(34,"svg",10),Go(35,"path",11),Ko(),Ko(),Ko(),Ko(),Ko()),2&t&&(br(3),di(" ",e.styleSelected," "),br(9),Wo("ngClass",$s(5,HR,!e.isSelected(1))),br(7),Wo("ngClass",$s(7,HR,!e.isSelected(2))),br(7),Wo("ngClass",$s(9,HR,!e.isSelected(3))),br(7),Wo("ngClass",$s(11,HR,!e.isSelected(4))))},directives:[Cu],styles:[".option[_ngcontent-%COMP%]{position:relative;cursor:pointer;-webkit-user-select:none;user-select:none;padding:.25rem 2.25rem .25rem .75rem;--tw-text-opacity:1;color:rgba(17,24,39,var(--tw-text-opacity))}.option[_ngcontent-%COMP%]:hover{--tw-text-opacity:1;color:rgba(129,140,248,var(--tw-text-opacity));--tw-bg-opacity:1;background-color:rgba(239,246,255,var(--tw-bg-opacity))}"]}),t})();const JR=["style"],QR=["title"],KR=function(t){return{button:!0,"is-active":t}};let GR=(()=>{class t{constructor(){this.onDelete=new Vs,this.onUpdate=new Vs}ngOnChanges(t){var e;console.log("cc",t.note.currentValue),this.note=t.note.currentValue,null===(e=this.editor)||void 0===e||e.commands.setContent(this.note.content)}ngOnInit(){var t;this.editor=new xI({element:document.querySelector(".element"),extensions:[qR,NI,RI,PI,DI.configure({multicolor:!0})],autofocus:!0,editorProps:{attributes:{class:"h-full w-full mb-7 notes focus:outline-none"}},content:null===(t=this.note)||void 0===t?void 0:t.content}),(0,nx.R)(this.editor,"update").pipe((0,PC.b)(500)).subscribe(t=>{console.log("saving"),this.note.content=this.editor.getHTML(),this.onUpdate.emit({content:this.note.content})}),(0,nx.R)(this.title.nativeElement,"keyup").pipe((0,PC.b)(500)).subscribe(()=>{this.note.title=this.title.nativeElement.textContent,this.placeCaretAtEnd(this.title.nativeElement),this.onUpdate.emit({title:this.note.title})}),this.editor.on("selectionUpdate",()=>{let t=this.editor.state.selection.$anchor.parent;"heading"===t.type.name&&this.style.updateView(t.attrs.level),"paragraph"===t.type.name&&this.style.updateView(4)})}toggleHeading(t){this.editor.chain().focus().toggleHeading({level:t}).run()}deleteNote(){window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce compte-rendu ?")&&this.onDelete.emit()}placeCaretAtEnd(t){if(t.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();null==n||n.removeAllRanges(),null==n||n.addRange(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=X({type:t,selectors:[["report-view"]],viewQuery:function(t,e){if(1&t&&(Ys(JR,5),Ys(QR,7)),2&t){let t;Xs(t=ea())&&(e.style=t.first),Xs(t=ea())&&(e.title=t.first)}},inputs:{note:"note"},outputs:{onDelete:"onDelete",onUpdate:"onUpdate"},features:[yt],decls:39,vars:26,consts:[[1,"w-full","bg-white","h-full","relative","-top-12"],[1,"h-full","flex","flex-col"],[1,"h-8","leading-8","mb-2","flex","items-center"],[3,"onStyleSelected"],["style",""],[1,"w-0.5","mx-2","bg-gray-100","h-6","inline-block"],[3,"ngClass","click"],[1,"fas","fa-bold"],[1,"fas","fa-italic"],[1,"fas","fa-strikethrough"],[1,"fas","fa-highlighter"],[1,"fas","fa-list-ul"],[1,"fas","fa-list-ol"],[1,"fas","fa-tasks"],[1,"fas","fa-quote-right"],[1,"button",3,"click"],[1,"fas","fa-minus"],[1,"element","w-full","h-full","pl-4","overflow-y-auto"],["contenteditable","true",1,"text-3xl","font-extrabold","mt-3","outline-none"],["title",""],[1,"w-4/5","h-px","bg-gray-100","my-2"],[1,"flex","items-center","w-full","flex-wrap","mb-7"],[1,"flex","flex-col","mr-4"],[1,"text-sm","text-gray-400"],[1,"fas","fa-clock"],[1,"absolute","bottom-6","right-12","flex","flex-col-reverse"],[1,"bg-secondary","cursor-pointer","text-white","text-lg","w-10","h-10","rounded-full","flex","items-center","justify-center","my-2",3,"click"],[1,"fas","fa-trash-alt"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),Qo(2,"div",2),Qo(3,"style-button",3,4),ti("onStyleSelected",function(t){return e.toggleHeading(t)}),Ko(),Go(5,"div",5),Qo(6,"button",6),ti("click",function(){return e.editor.chain().focus().toggleBold().run()}),Go(7,"i",7),Ko(),Qo(8,"button",6),ti("click",function(){return e.editor.chain().focus().toggleItalic().run()}),Go(9,"i",8),Ko(),Qo(10,"button",6),ti("click",function(){return e.editor.chain().focus().toggleStrike().run()}),Go(11,"i",9),Ko(),Qo(12,"button",6),ti("click",function(){return e.editor.chain().focus().toggleHighlight({color:"#DBEAFE"}).run()}),Go(13,"i",10),Ko(),Go(14,"div",5),Qo(15,"button",6),ti("click",function(){return e.editor.chain().focus().toggleBulletList().run()}),Go(16,"i",11),Ko(),Qo(17,"button",6),ti("click",function(){return e.editor.chain().focus().toggleOrderedList().run()}),Go(18,"i",12),Ko(),Qo(19,"button",6),ti("click",function(){return e.editor.chain().focus().toggleTaskList().run()}),Go(20,"i",13),Ko(),Go(21,"div",5),Qo(22,"button",6),ti("click",function(){return e.editor.chain().focus().toggleBlockquote().run()}),Go(23,"i",14),Ko(),Qo(24,"button",15),ti("click",function(){return e.editor.chain().focus().setHorizontalRule().run()}),Go(25,"i",16),Ko(),Ko(),Qo(26,"div",17),Qo(27,"h1",18,19),fi(29),Ko(),Go(30,"div",20),Qo(31,"div",21),Qo(32,"div",22),Qo(33,"div",23),Go(34,"i",24),fi(35),Ko(),Ko(),Ko(),Ko(),Ko(),Qo(36,"div",25),Qo(37,"div",26),ti("click",function(){return e.deleteNote()}),Go(38,"i",27),Ko(),Ko(),Ko()),2&t&&(br(6),Wo("ngClass",$s(10,KR,e.editor.isActive("bold"))),br(2),Wo("ngClass",$s(12,KR,e.editor.isActive("italic"))),br(2),Wo("ngClass",$s(14,KR,e.editor.isActive("strike"))),br(2),Wo("ngClass",$s(16,KR,e.editor.isActive("highlight"))),br(3),Wo("ngClass",$s(18,KR,e.editor.isActive("bulletList"))),br(2),Wo("ngClass",$s(20,KR,e.editor.isActive("orderedList"))),br(2),Wo("ngClass",$s(22,KR,e.editor.isActive("taskList"))),br(3),Wo("ngClass",$s(24,KR,e.editor.isActive("blockquote"))),br(7),di(" ",e.note.title,""),br(6),di(" ",e.note.date," "))},directives:[WR,Cu],styles:[".button[_ngcontent-%COMP%]{height:100%;width:2rem;border-radius:.375rem;margin-left:.25rem;margin-right:.25rem}.button[_ngcontent-%COMP%]:hover{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.button[_ngcontent-%COMP%]:active{outline:2px solid #0000;outline-offset:2px}.button[_ngcontent-%COMP%]:active, .is-active[_ngcontent-%COMP%]{--tw-text-opacity:1;color:rgba(129,140,248,var(--tw-text-opacity));--tw-bg-opacity:1;background-color:rgba(239,246,255,var(--tw-bg-opacity))}.is-active[_ngcontent-%COMP%]{font-weight:400;--tw-shadow:0 1px 2px 0 #0000000d;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}"]}),t})();const ZR=function(t){return{active:t}};function XR(t,e){if(1&t){const t=Zo();Qo(0,"div",8),ti("click",function(){const e=Vt(t).index;return ri().select(e)}),Qo(1,"span",9),fi(2),Ko(),Qo(3,"div",10),fi(4),Ko(),Ko()}if(2&t){const t=e.$implicit,n=ri();Wo("ngClass",$s(3,ZR,n.isSelected(t.id))),br(2),hi(t.date),br(2),hi(t.title)}}function YR(t,e){if(1&t){const t=Zo();Qo(0,"div",11),Qo(1,"report-view",12),ti("onDelete",function(){Vt(t);const e=ri();return e.deleteReport(e.selectedindex)})("onUpdate",function(e){return Vt(t),ri().updateReport(e)}),Ko(),Ko()}if(2&t){const t=ri();br(1),Wo("note",t.project.reports[t.selectedindex])}}let tN=(()=>{class t extends DC{ngOnInit(){super.ngOnInit(),this.project.reports.length>0&&(this.selected=wv.last(this.project.reports),this.selectedindex=this.project.reports.length-1)}select(t){this.selected=this.project.reports[t],this.selectedindex=t}addReport(){let t={id:xC(),title:"Titre",content:"",date:LO.ou.now().toLocaleString(LO.ou.DATE_SHORT)};this.project.reports.push(t),this.selected=wv.last(this.project.reports),this.selectedindex=this.project.reports.length-1,this.save()}deleteReport(t){this.selected=null,this.selectedindex=-1,this.project.reports.splice(t,1),this.selected=wv.last(this.project.reports),this.selectedindex=this.project.reports.length-1,this.save()}updateReport(t){for(let e in t)this.select[e]=t[e];this.save()}isSelected(t){var e;return(null===(e=this.selected)||void 0===e?void 0:e.id)===t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Je(t)))(n||t)}}(),t.\u0275cmp=X({type:t,selectors:[["app-reports"]],features:[Do],decls:9,vars:2,consts:[[1,"p-12","w-full","h-full","bg-white"],[1,"text-4xl","font-bold","text-darker","mb-12"],[1,"flex","w-full","mr-auto","h-[calc(100%-40px)]"],[1,"w-80","flex","flex-col","relative","h-full"],["class","w-full h-8 truncate flex items-center pl-4 hover:bg-primary-50 hover:text-primary cursor-pointer rounded-r-md",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"absolute","left-0","bottom-20","w-full","text-center"],["text","Ajouter un CR","icon","fa-plus-circle",3,"onClick"],["class","w-[calc(100%-20rem)] pl-8",4,"ngIf"],[1,"w-full","h-8","truncate","flex","items-center","pl-4","hover:bg-primary-50","hover:text-primary","cursor-pointer","rounded-r-md",3,"ngClass","click"],[1,"font-semibold","mr-4"],[1,"truncate"],[1,"w-[calc(100%-20rem)]","pl-8"],[3,"note","onDelete","onUpdate"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"h1",1),fi(2,"Comptes-rendus"),Ko(),Qo(3,"div",2),Qo(4,"div",3),qo(5,XR,5,5,"div",4),Qo(6,"div",5),Qo(7,"action-button",6),ti("onClick",function(){return e.addReport()}),Ko(),Ko(),Ko(),qo(8,YR,2,1,"div",7),Ko(),Ko()),2&t&&(br(5),Wo("ngForOf",e.project.reports),br(3),Wo("ngIf",e.selected))},directives:[Eu,OO,Mu,Cu,GR],styles:[".active[_ngcontent-%COMP%]{--tw-bg-opacity:1;background-color:rgba(243,246,255,var(--tw-bg-opacity));font-weight:600;--tw-text-opacity:1;color:rgba(51,102,255,var(--tw-text-opacity))}"]}),t})(),eN=(()=>{class t{constructor(t,e){this.database=t,this.router=e}resolve(t,e){let n=t.paramMap.get("id");return n?(0,hc.D)(this.database.getProject(n)):bc.E}}return t.\u0275fac=function(e){return new(e||t)(vn(EC),vn(dh))},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nN(t){return Array.isArray?Array.isArray(t):"[object Array]"===uN(t)}function rN(t){return"string"==typeof t}function oN(t){return"number"==typeof t}function iN(t){return"object"==typeof t}function sN(t){return null!=t}function aN(t){return!t.trim().length}function uN(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const cN=Object.prototype.hasOwnProperty;class lN{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let n=fN(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight}),this._keys.forEach(t=>{t.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function fN(t){let e=null,n=null,r=null,o=1;if(rN(t)||nN(t))r=t,e=hN(t),n=dN(t);else{if(!cN.call(t,"name"))throw new Error("Missing name property in key");const i=t.name;if(r=i,cN.call(t,"weight")&&(o=t.weight,o<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(i));e=hN(i),n=dN(i)}return{path:e,id:n,weight:o,src:r}}function hN(t){return nN(t)?t:t.split(".")}function dN(t){return nN(t)?t.join("."):t}var pN={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(t,e){let n=[],r=!1;const o=(t,e,i)=>{if(sN(t))if(e[i]){const s=t[e[i]];if(!sN(s))return;if(i===e.length-1&&(rN(s)||oN(s)||function(t){return!0===t||!1===t||function(t){return iN(t)&&null!==t}(t)&&"[object Boolean]"==uN(t)}(s)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(s));else if(nN(s)){r=!0;for(let t=0,n=s.length;t<n;t+=1)o(s[t],e,i+1)}else e.length&&o(s,e,i+1)}else n.push(t)};return o(t,rN(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1};const mN=/[^ ]+/g;class vN{constructor({getFn:t=pN.getFn}={}){this.norm=function(t=3){const e=new Map,n=Math.pow(10,t);return{get(t){const r=t.match(mN).length;if(e.has(r))return e.get(r);const o=1/Math.sqrt(r),i=parseFloat(Math.round(o*n)/n);return e.set(r,i),i},clear(){e.clear()}}}(3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,rN(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();rN(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!sN(t)||aN(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach((e,r)=>{let o=this.getFn(t,e.path);if(sN(o))if(nN(o)){let t=[];const e=[{nestedArrIndex:-1,value:o}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(sN(r))if(rN(r)&&!aN(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else nN(r)&&r.forEach((t,n)=>{e.push({nestedArrIndex:n,value:t})})}n.$[r]=t}else if(!aN(o)){let t={v:o,n:this.norm.get(o)};n.$[r]=t}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function yN(t,e,{getFn:n=pN.getFn}={}){const r=new vN({getFn:n});return r.setKeys(t.map(fN)),r.setSources(e),r.create(),r}function gN(t,{getFn:e=pN.getFn}={}){const{keys:n,records:r}=t,o=new vN({getFn:e});return o.setKeys(n),o.setIndexRecords(r),o}function bN(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:o=pN.distance,ignoreLocation:i=pN.ignoreLocation}={}){const s=e/t.length;if(i)return s;const a=Math.abs(r-n);return o?s+a/o:a?1:s}const wN=32;function _N(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const o=t.charAt(n);e[o]=(e[o]||0)|1<<r-n-1}return e}class xN{constructor(t,{location:e=pN.location,threshold:n=pN.threshold,distance:r=pN.distance,includeMatches:o=pN.includeMatches,findAllMatches:i=pN.findAllMatches,minMatchCharLength:s=pN.minMatchCharLength,isCaseSensitive:a=pN.isCaseSensitive,ignoreLocation:u=pN.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:u},this.pattern=a?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(t,e)=>{this.chunks.push({pattern:t,alphabet:_N(t),startIndex:e})},l=this.pattern.length;if(l>wN){let t=0;const e=l%wN,n=l-e;for(;t<n;)c(this.pattern.substr(t,wN),t),t+=wN;if(e){const t=l-wN;c(this.pattern.substr(t),t)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:r,distance:o,threshold:i,findAllMatches:s,minMatchCharLength:a,ignoreLocation:u}=this.options;let c=[],l=0,f=!1;this.chunks.forEach(({pattern:e,alphabet:h,startIndex:d})=>{const{isMatch:p,score:m,indices:v}=function(t,e,n,{location:r=pN.location,distance:o=pN.distance,threshold:i=pN.threshold,findAllMatches:s=pN.findAllMatches,minMatchCharLength:a=pN.minMatchCharLength,includeMatches:u=pN.includeMatches,ignoreLocation:c=pN.ignoreLocation}={}){if(e.length>wN)throw new Error("Pattern length exceeds max of 32.");const l=e.length,f=t.length,h=Math.max(0,Math.min(r,f));let d=i,p=h;const m=a>1||u,v=m?Array(f):[];let y;for(;(y=t.indexOf(e,p))>-1;){let t=bN(e,{currentLocation:y,expectedLocation:h,distance:o,ignoreLocation:c});if(d=Math.min(t,d),p=y+l,m){let t=0;for(;t<l;)v[y+t]=1,t+=1}}p=-1;let g=[],b=1,w=l+f;const _=1<<l-1;for(let k=0;k<l;k+=1){let r=0,i=w;for(;r<i;)bN(e,{errors:k,currentLocation:h+i,expectedLocation:h,distance:o,ignoreLocation:c})<=d?r=i:w=i,i=Math.floor((w-r)/2+r);w=i;let a=Math.max(1,h-i+1),u=s?f:Math.min(h+i,f)+l,y=Array(u+2);y[u+1]=(1<<k)-1;for(let s=u;s>=a;s-=1){let r=s-1,i=n[t.charAt(r)];if(m&&(v[r]=+!!i),y[s]=(y[s+1]<<1|1)&i,k&&(y[s]|=(g[s+1]|g[s])<<1|1|g[s+1]),y[s]&_&&(b=bN(e,{errors:k,currentLocation:r,expectedLocation:h,distance:o,ignoreLocation:c}),b<=d)){if(d=b,p=r,p<=h)break;a=Math.max(1,2*h-p)}}if(bN(e,{errors:k+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:c})>d)break;g=y}const x={isMatch:p>=0,score:Math.max(.001,b)};if(m){const t=function(t=[],e=pN.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let s=t.length;i<s;i+=1){let s=t[i];s&&-1===r?r=i:s||-1===r||(o=i-1,o-r+1>=e&&n.push([r,o]),r=-1)}return t[i-1]&&i-r>=e&&n.push([r,i-1]),n}(v,a);t.length?u&&(x.indices=t):x.isMatch=!1}return x}(t,e,h,{location:r+d,distance:o,threshold:i,findAllMatches:s,minMatchCharLength:a,includeMatches:n,ignoreLocation:u});p&&(f=!0),l+=m,p&&v&&(c=[...c,...v])});let h={isMatch:f,score:f?l/this.chunks.length:1};return f&&n&&(h.indices=c),h}}class kN{constructor(t){this.pattern=t}static isMultiMatch(t){return SN(t,this.multiRegex)}static isSingleMatch(t){return SN(t,this.singleRegex)}search(){}}function SN(t,e){const n=t.match(e);return n?n[1]:null}class CN extends kN{constructor(t,{location:e=pN.location,threshold:n=pN.threshold,distance:r=pN.distance,includeMatches:o=pN.includeMatches,findAllMatches:i=pN.findAllMatches,minMatchCharLength:s=pN.minMatchCharLength,isCaseSensitive:a=pN.isCaseSensitive,ignoreLocation:u=pN.ignoreLocation}={}){super(t),this._bitapSearch=new xN(t,{location:e,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class ON extends kN{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const r=[],o=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+o,r.push([e,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const EN=[class extends kN{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},ON,class extends kN{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends kN{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends kN{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends kN{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends kN{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},CN],AN=EN.length,MN=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,TN=new Set([CN.type,ON.type]),jN=[];function DN(t,e){for(let n=0,r=jN.length;n<r;n+=1){let r=jN[n];if(r.condition(t,e))return new r(t,e)}return new xN(t,e)}const PN="$and",IN=t=>!(!t.$and&&!t.$or),RN=t=>({[PN]:Object.keys(t).map(e=>({[e]:t[e]}))});function NN(t,e,{auto:n=!0}={}){const r=t=>{let o=Object.keys(t);const i=(t=>!!t.$path)(t);if(!i&&o.length>1&&!IN(t))return r(RN(t));if((t=>!nN(t)&&iN(t)&&!IN(t))(t)){const r=i?t.$path:o[0],s=i?t.$val:t[r];if(!rN(s))throw new Error((t=>`Invalid value for key ${t}`)(r));const a={keyId:dN(r),pattern:s};return n&&(a.searcher=DN(s,e)),a}let s={children:[],operator:o[0]};return o.forEach(e=>{const n=t[e];nN(n)&&n.forEach(t=>{s.children.push(r(t))})}),s};return IN(t)||(t=RN(t)),r(t)}function LN(t,e){const n=t.matches;e.matches=[],sN(n)&&n.forEach(t=>{if(!sN(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let o={indices:n,value:r};t.key&&(o.key=t.key.src),t.idx>-1&&(o.refIndex=t.idx),e.matches.push(o)})}function $N(t,e){e.score=t.score}let FN=(()=>{class t{constructor(t,e={},n){this.options={...pN,...e},this._keyStore=new lN(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof vN))throw new Error("Incorrect 'index' type");this._myIndex=e||yN(this.options.keys,this._docs,{getFn:this.options.getFn})}add(t){sN(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];t(o,n)&&(this.removeAt(n),n-=1,r-=1,e.push(o))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:s}=this.options;let a=rN(t)?rN(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=pN.ignoreFieldNorm}){t.forEach(t=>{let n=1;t.matches.forEach(({key:t,norm:r,score:o})=>{const i=t?t.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(e?1:r))}),t.score=n})}(a,{ignoreFieldNorm:s}),o&&a.sort(i),oN(e)&&e>-1&&(a=a.slice(0,e)),function(t,e,{includeMatches:n=pN.includeMatches,includeScore:r=pN.includeScore}={}){const o=[];return n&&o.push(LN),r&&o.push($N),t.map(t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return o.length&&o.forEach(e=>{e(t,r)}),r})}(a,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=DN(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:t,i:n,n:o})=>{if(!sN(t))return;const{isMatch:i,score:s,indices:a}=e.searchIn(t);i&&r.push({item:t,idx:n,matches:[{score:s,value:t,norm:o,indices:a}]})}),r}_searchLogical(t){const e=NN(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:o}=t,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:o});return i&&i.length?[{idx:r,item:e,matches:i}]:[]}switch(t.operator){case PN:{const o=[];for(let i=0,s=t.children.length;i<s;i+=1){const s=n(t.children[i],e,r);if(!s.length)return[];o.push(...s)}return o}case"$or":{const o=[];for(let i=0,s=t.children.length;i<s;i+=1){const s=n(t.children[i],e,r);if(s.length){o.push(...s);break}}return o}}},r={},o=[];return this._myIndex.records.forEach(({$:t,i:i})=>{if(sN(t)){let s=n(e,t,i);s.length&&(r[i]||(r[i]={idx:i,item:t,matches:[]},o.push(r[i])),s.forEach(({matches:t})=>{r[i].matches.push(...t)}))}}),o}_searchObjectList(t){const e=DN(t,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach(({$:t,i:r})=>{if(!sN(t))return;let i=[];n.forEach((n,r)=>{i.push(...this._findMatches({key:n,value:t[r],searcher:e}))}),i.length&&o.push({idx:r,item:t,matches:i})}),o}_findMatches({key:t,value:e,searcher:n}){if(!sN(e))return[];let r=[];if(nN(e))e.forEach(({v:e,i:o,n:i})=>{if(!sN(e))return;const{isMatch:s,score:a,indices:u}=n.searchIn(e);s&&r.push({score:a,key:t,value:e,idx:o,norm:i,indices:u})});else{const{v:o,n:i}=e,{isMatch:s,score:a,indices:u}=n.searchIn(o);s&&r.push({score:a,key:t,value:o,norm:i,indices:u})}return r}}return t.version="6.4.6",t.createIndex=yN,t.parseIndex=gN,t.config=pN,t})();FN.parseQuery=NN,function(...t){jN.push(...t)}(class{constructor(t,{isCaseSensitive:e=pN.isCaseSensitive,includeMatches:n=pN.includeMatches,minMatchCharLength:r=pN.minMatchCharLength,ignoreLocation:o=pN.ignoreLocation,findAllMatches:i=pN.findAllMatches,location:s=pN.location,threshold:a=pN.threshold,distance:u=pN.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:s,threshold:a,distance:u},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map(t=>{let n=t.trim().split(MN).filter(t=>t&&!!t.trim()),r=[];for(let o=0,i=n.length;o<i;o+=1){const t=n[o];let i=!1,s=-1;for(;!i&&++s<AN;){const n=EN[s];let o=n.isMultiMatch(t);o&&(r.push(new n(o,e)),i=!0)}if(!i)for(s=-1;++s<AN;){const n=EN[s];let o=n.isSingleMatch(t);if(o){r.push(new n(o,e));break}}}return r})}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let o=0,i=[],s=0;for(let a=0,u=e.length;a<u;a+=1){const r=e[a];i.length=0,o=0;for(let e=0,a=r.length;e<a;e+=1){const a=r[e],{isMatch:u,indices:c,score:l}=a.search(t);if(!u){s=0,o=0,i.length=0;break}o+=1,s+=l,n&&(TN.has(a.constructor.type)?i=[...i,...c]:i.push(c))}if(o){let t={isMatch:!0,score:s/o};return n&&(t.indices=i),t}}return{isMatch:!1,score:1}}});const VN=FN;let BN=(()=>{class t{constructor(){}search(t){return this.fuse.search(t)}init(t){var e=this;return xv(function*(){console.log("INDEX INIT --\x3e all project from search service",t),e.fuse=new VN(t,{includeMatches:!0,includeScore:!0,threshold:.5,keys:["internalid","name","description","actors.name","actors.dga","actors.comment","reports.content","reports.title"]})})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zN(t,e){if(1&t&&(Qo(0,"div"),fi(1),Ko()),2&t){const t=e.$implicit,n=ri().$implicit,r=ri();br(1),di(" Matches here: ",r.getMatch(n.item,t)," ")}}function qN(t,e){if(1&t&&(Qo(0,"div"),Qo(1,"div",1),fi(2),Ko(),qo(3,zN,2,1,"div",0),Ko()),2&t){const t=e.$implicit;br(2),pi(" ",t.item.internalid," - ",t.item.name," "),br(1),Wo("ngForOf",t.matches)}}const UN=[{path:"projects",component:NO,children:[{path:"search",component:(()=>{class t{constructor(t,e){this.route=t,this.searchService=e}ngOnInit(){this.sub=this.route.queryParams.subscribe(t=>{let e=t.query;console.log("query",e),e&&(this.results=this.searchService.search(e),console.log("results",this.results))})}ngOnDestroy(){this.sub.unsubscribe()}getMatch(t,e){let n="";return n=e.key.indexOf("actors")>=0?"Acteur":e.key.indexOf("reports")>=0?"Compte-rendu":"Projet",`${n} --\x3e ${e.value}`}}return t.\u0275fac=function(e){return new(e||t)(Ho(Ul),Ho(BN))},t.\u0275cmp=X({type:t,selectors:[["app-search-results"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"text-primary"]],template:function(t,e){1&t&&qo(0,qN,4,3,"div",0),2&t&&Wo("ngForOf",e.results)},directives:[Eu],styles:[""]}),t})()},{path:":id",resolve:{project:eN},component:IO,children:[{path:"general",component:PO},{path:"actors",component:AO},{path:"reports",component:tN},{path:"",redirectTo:"general",pathMatch:"full"}]}]},{path:"**",redirectTo:"projects"}];let HN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=nt({type:t}),t.\u0275inj=x({imports:[[Ah.forRoot(UN)],Ah]}),t})(),WN=(()=>{class t{constructor(t){this.db=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(Ho(EC))},t.\u0275cmp=X({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&Go(0,"router-outlet")},directives:[gh],styles:[""]}),t})(),JN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=nt({type:t}),t.\u0275inj=x({imports:[[Du,xO,jO]]}),t})(),QN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=nt({type:t,bootstrap:[WN]}),t.\u0275inj=x({providers:[BN,{provide:ia,useFactory:t=>()=>function(t){return jC.apply(this,arguments)}(t),multi:!0,deps:[BN]},EC],imports:[[fc,HN,JN]]}),t})();(function(){if(Fa)throw new Error("Cannot enable prod mode after platform setup.");$a=!1})(),console.log("NEUTRALINO INIT"),Neutralino.init(),Neutralino.events.on("windowClose",()=>{Neutralino.app.exit()}),Neutralino.events.on("ready",()=>{Neutralino.os.showNotification("Hello world","It works!. Have a nice day"),Neutralino.os.showMessageBox("Hello","Welcome")}),cc().bootstrapModule(QN).catch(t=>console.error(t))},8211:()=>{},2480:()=>{},4654:()=>{},4703:()=>{},199:()=>{}},t=>{"use strict";t(t.s=2337)}]);