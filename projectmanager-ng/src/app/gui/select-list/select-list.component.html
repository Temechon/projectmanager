<div class="relative -top-px" tabindex="-1" (focusout)="focusout($event)" *ngIf="options">

    <button (click)="toggleOptions()">

        <div class="truncate text-white px-3 rounded-full text-sm"
            [ngStyle]="{'background-color':  options[selected].data.color }" *ngIf="options[selected]">
            {{options[selected].label}}
        </div>
        <div class="truncate text-white px-3 bg-yellow-200 rounded-full text-sm hover:bg-yellow -300"
            *ngIf="!options[selected]">
            Aucun projet
        </div>
    </button>

    <!-- !! POPUP DISPLAYED WHEN CLICKED -->
    <ul #list
        class="absolute hidden z-10 mt-1 w-48 bg-white shadow-sm max-h-64 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm">

        <li class="option cursor-pointer py-1 pl-3 hover:text-primary hover:bg-primary-50" (click)="select(index)"
            [ngClass]="{'bg-primary-50 text-primary':isSelected(index)}" tabindex="-1"
            *ngFor="let opt of options; let index=index">
            <div class="relative flex items-center">
                <span class="ml-3 block truncate">
                    {{opt.label}}
                </span>

                <!-- !! Icon 'selected' -->
                <span [ngClass]="{'hidden':!isSelected(index)}"
                    class="text-indigo-600 absolute inset-y-0 right-0 flex items-center pr-4">
                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                        aria-hidden="true">
                        <path fill-rule="evenodd"
                            d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                            clip-rule="evenodd" />
                    </svg>
                </span>
            </div>
        </li>

    </ul>
</div>