<div class="p-12 w-full h-full bg-white">
    <h1 class="text-4xl font-bold text-darker mb-12">Recherche</h1>

    <div class="w-5/6 mr-auto">

        <div *ngIf="results.length === 0" class="text-gray-400">
            Aucun r√©sultat pour le terme <b>{{query}}</b>
        </div>

        <div *ngFor="let res of results">
            <div *ngFor="let r of res.result" class="hover:bg-gray-50 p-4 cursor-pointer">

                <div *ngIf="r.doc.type === 'project'" (click)="goTo(r.doc.id)">
                    <div class="flex items-center">
                        <div
                            class="flex items-center justify-center bg-primary rounded-full text-sm text-white px-3 mr-4">
                            {{r.doc.p_internalid}}
                        </div>
                        <div class="text-darker text-2xl font-bold">{{r.doc.p_name}}</div>
                    </div>
                    <div class="text-gray-400 text-sm pt-4" [innerHtml]="snippet(r.doc.content)">
                    </div>
                </div>



                <div *ngIf="r.doc.type === 'report'" (click)="goToReport(r.doc.p_id, r.id)">
                    <div class="flex items-center">
                        <div
                            class="flex items-center justify-center bg-primary rounded-full text-sm text-white px-3 mr-4">
                            {{r.doc.p_internalid}}
                        </div>
                        <div class="text-darker text-2xl font-bold">
                            {{r.doc.title}}
                            <span class="text-gray-400 text-sm ml-4">{{r.doc.date}}</span>
                        </div>
                    </div>
                    <div class="text-gray-400 text-sm pt-4" [innerHtml]="snippet(r.doc.content)">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>