<div class="p-12 w-full h-full bg-white relative">
    <div class="flex items-baseline mb-12">
        <h1 class="text-4xl font-bold text-darker">Comptes rendus</h1>
        <sync></sync>
    </div>

    <div class="flex w-full mr-auto h-[calc(100%-40px)]">

        <div class="w-60 flex flex-col relative h-full">

            <div [ngClass]="{'active':isSelected(p.id)}"
                class="w-full truncate flex items-center pl-4 hover:bg-primary-50 hover:text-primary cursor-pointer rounded-r-md"
                (click)="select(index)" *ngFor="let p of project.reports; let index=index">
                <div class="truncate">{{p.title}}</div>
            </div>

            <div class="absolute left-0 bottom-20 w-full text-center">
                <action-button text="Ajouter un CR" (onClick)="addReport()" icon="fa-plus-circle"></action-button>
            </div>
        </div>


        <div #reportroot class="w-[calc(100%-15rem)] pl-8" *ngIf="selected">
            <report-view [note]="project.reports[selectedindex]" (onDelete)="deleteReport(selectedindex)"
                (onUpdate)="updateReport($event)" (onFullscreen)="fullscreen(reportroot)">
            </report-view>
        </div>
    </div>
</div>